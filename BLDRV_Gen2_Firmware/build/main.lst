ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.section	.text.spiCalcEvenParity,"ax",%progbits
  21              		.align	1
  22              		.global	spiCalcEvenParity
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	spiCalcEvenParity:
  28              	.LVL0:
  29              	.LFB126:
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****  ******************************************************************************
   4:Core/Src/main.c ****  * @file           : main.c
   5:Core/Src/main.c ****  * @brief          : Main program body
   6:Core/Src/main.c ****  ******************************************************************************
   7:Core/Src/main.c ****  * @attention
   8:Core/Src/main.c ****  *
   9:Core/Src/main.c ****  * Copyright (c) 2024 STMicroelectronics.
  10:Core/Src/main.c ****  * All rights reserved.
  11:Core/Src/main.c ****  *
  12:Core/Src/main.c ****  * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****  * in the root directory of this software component.
  14:Core/Src/main.c ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****  *
  16:Core/Src/main.c ****  ******************************************************************************
  17:Core/Src/main.c ****  */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** #include "dma.h"
  22:Core/Src/main.c **** #include "spi.h"
  23:Core/Src/main.c **** #include "tim.h"
  24:Core/Src/main.c **** #include "usart.h"
  25:Core/Src/main.c **** #include "gpio.h"
  26:Core/Src/main.c **** 
  27:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  28:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  29:Core/Src/main.c **** #include <math.h>
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 2


  30:Core/Src/main.c **** #include <stdio.h>
  31:Core/Src/main.c **** 
  32:Core/Src/main.c **** #include "dma_printf.h"
  33:Core/Src/main.c **** /* USER CODE END Includes */
  34:Core/Src/main.c **** 
  35:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  36:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  37:Core/Src/main.c **** 
  38:Core/Src/main.c **** /* USER CODE END PTD */
  39:Core/Src/main.c **** 
  40:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  41:Core/Src/main.c **** /* USER CODE BEGIN PD */
  42:Core/Src/main.c **** #define radians(x) ((x) * 3.14159265358979323846 / 180.0)
  43:Core/Src/main.c **** 
  44:Core/Src/main.c **** #define CS_LOW() HAL_GPIO_WritePin(GPIOA, GPIO_PIN_4, GPIO_PIN_RESET)
  45:Core/Src/main.c **** #define CS_HIGH() HAL_GPIO_WritePin(GPIOA, GPIO_PIN_4, GPIO_PIN_SET)
  46:Core/Src/main.c **** /* USER CODE END PD */
  47:Core/Src/main.c **** 
  48:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  49:Core/Src/main.c **** /* USER CODE BEGIN PM */
  50:Core/Src/main.c **** 
  51:Core/Src/main.c **** /* USER CODE END PM */
  52:Core/Src/main.c **** 
  53:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  54:Core/Src/main.c **** 
  55:Core/Src/main.c **** /* USER CODE BEGIN PV */
  56:Core/Src/main.c **** 
  57:Core/Src/main.c **** /* USER CODE END PV */
  58:Core/Src/main.c **** 
  59:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
  60:Core/Src/main.c **** void SystemClock_Config(void);
  61:Core/Src/main.c **** /* USER CODE BEGIN PFP */
  62:Core/Src/main.c **** 
  63:Core/Src/main.c **** /* USER CODE END PFP */
  64:Core/Src/main.c **** 
  65:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
  66:Core/Src/main.c **** /* USER CODE BEGIN 0 */
  67:Core/Src/main.c **** #define AS5048A_ANGLE 0x3FFF
  68:Core/Src/main.c **** 
  69:Core/Src/main.c **** uint8_t spiCalcEvenParity(uint16_t value) {
  30              		.loc 1 69 43 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 69 43 is_stmt 0 view .LVU1
  36 0000 0246     		mov	r2, r0
  70:Core/Src/main.c ****     uint8_t cnt = 0;
  37              		.loc 1 70 5 is_stmt 1 view .LVU2
  38              	.LVL1:
  71:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  39              		.loc 1 71 5 view .LVU3
  40              	.LBB4:
  41              		.loc 1 71 10 view .LVU4
  42              		.loc 1 71 18 is_stmt 0 view .LVU5
  43 0002 0023     		movs	r3, #0
  44              	.LBE4:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 3


  70:Core/Src/main.c ****     uint8_t cnt = 0;
  45              		.loc 1 70 13 view .LVU6
  46 0004 1846     		mov	r0, r3
  47              	.LVL2:
  48              	.LBB5:
  49              		.loc 1 71 5 view .LVU7
  50 0006 02E0     		b	.L2
  51              	.LVL3:
  52              	.L3:
  72:Core/Src/main.c ****         if (value & 0x1) {
  73:Core/Src/main.c ****             cnt++;
  74:Core/Src/main.c ****         }
  75:Core/Src/main.c ****         value >>= 1;
  53              		.loc 1 75 9 is_stmt 1 discriminator 2 view .LVU8
  54              		.loc 1 75 15 is_stmt 0 discriminator 2 view .LVU9
  55 0008 5208     		lsrs	r2, r2, #1
  56              	.LVL4:
  71:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  57              		.loc 1 71 34 is_stmt 1 discriminator 2 view .LVU10
  58 000a 0133     		adds	r3, r3, #1
  59              	.LVL5:
  71:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  60              		.loc 1 71 34 is_stmt 0 discriminator 2 view .LVU11
  61 000c DBB2     		uxtb	r3, r3
  62              	.LVL6:
  63              	.L2:
  71:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  64              		.loc 1 71 27 is_stmt 1 discriminator 1 view .LVU12
  65 000e 0F2B     		cmp	r3, #15
  66 0010 05D8     		bhi	.L5
  72:Core/Src/main.c ****         if (value & 0x1) {
  67              		.loc 1 72 9 view .LVU13
  72:Core/Src/main.c ****         if (value & 0x1) {
  68              		.loc 1 72 12 is_stmt 0 view .LVU14
  69 0012 12F0010F 		tst	r2, #1
  70 0016 F7D0     		beq	.L3
  73:Core/Src/main.c ****         }
  71              		.loc 1 73 13 is_stmt 1 view .LVU15
  73:Core/Src/main.c ****         }
  72              		.loc 1 73 16 is_stmt 0 view .LVU16
  73 0018 0130     		adds	r0, r0, #1
  74              	.LVL7:
  73:Core/Src/main.c ****         }
  75              		.loc 1 73 16 view .LVU17
  76 001a C0B2     		uxtb	r0, r0
  77              	.LVL8:
  73:Core/Src/main.c ****         }
  78              		.loc 1 73 16 view .LVU18
  79 001c F4E7     		b	.L3
  80              	.L5:
  73:Core/Src/main.c ****         }
  81              		.loc 1 73 16 view .LVU19
  82              	.LBE5:
  76:Core/Src/main.c ****     }
  77:Core/Src/main.c ****     return cnt & 0x1;
  83              		.loc 1 77 5 is_stmt 1 view .LVU20
  78:Core/Src/main.c **** }
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 4


  84              		.loc 1 78 1 is_stmt 0 view .LVU21
  85 001e 00F00100 		and	r0, r0, #1
  86              	.LVL9:
  87              		.loc 1 78 1 view .LVU22
  88 0022 7047     		bx	lr
  89              		.cfi_endproc
  90              	.LFE126:
  92              		.section	.text.AS5048A_read,"ax",%progbits
  93              		.align	1
  94              		.global	AS5048A_read
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  99              	AS5048A_read:
 100              	.LVL10:
 101              	.LFB127:
  79:Core/Src/main.c **** 
  80:Core/Src/main.c **** uint16_t AS5048A_read(uint16_t registerAddress) {
 102              		.loc 1 80 49 is_stmt 1 view -0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 8
 105              		@ frame_needed = 0, uses_anonymous_args = 0
 106              		.loc 1 80 49 is_stmt 0 view .LVU24
 107 0000 30B5     		push	{r4, r5, lr}
 108              	.LCFI0:
 109              		.cfi_def_cfa_offset 12
 110              		.cfi_offset 4, -12
 111              		.cfi_offset 5, -8
 112              		.cfi_offset 14, -4
 113 0002 83B0     		sub	sp, sp, #12
 114              	.LCFI1:
 115              		.cfi_def_cfa_offset 24
  81:Core/Src/main.c ****     uint16_t command = 0x4000 | registerAddress;
 116              		.loc 1 81 5 is_stmt 1 view .LVU25
 117              		.loc 1 81 14 is_stmt 0 view .LVU26
 118 0004 40F48044 		orr	r4, r0, #16384
 119 0008 ADF80640 		strh	r4, [sp, #6]	@ movhi
  82:Core/Src/main.c **** 
  83:Core/Src/main.c ****     // パリティビットの追加
  84:Core/Src/main.c ****     command |= spiCalcEvenParity(command) << 15;
 120              		.loc 1 84 5 is_stmt 1 view .LVU27
 121              		.loc 1 84 16 is_stmt 0 view .LVU28
 122 000c 2046     		mov	r0, r4
 123              	.LVL11:
 124              		.loc 1 84 16 view .LVU29
 125 000e FFF7FEFF 		bl	spiCalcEvenParity
 126              	.LVL12:
 127              		.loc 1 84 13 view .LVU30
 128 0012 44EAC034 		orr	r4, r4, r0, lsl #15
 129 0016 ADF80640 		strh	r4, [sp, #6]	@ movhi
  85:Core/Src/main.c **** 
  86:Core/Src/main.c ****     uint16_t response = 0;
 130              		.loc 1 86 5 is_stmt 1 view .LVU31
 131              		.loc 1 86 14 is_stmt 0 view .LVU32
 132 001a 0024     		movs	r4, #0
 133 001c ADF80440 		strh	r4, [sp, #4]	@ movhi
  87:Core/Src/main.c **** 
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 5


  88:Core/Src/main.c ****     // SPI通信開始
  89:Core/Src/main.c ****     CS_LOW();
 134              		.loc 1 89 5 is_stmt 1 view .LVU33
 135 0020 2246     		mov	r2, r4
 136 0022 1021     		movs	r1, #16
 137 0024 4FF09040 		mov	r0, #1207959552
 138 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 139              	.LVL13:
  90:Core/Src/main.c ****     HAL_SPI_Transmit(&hspi1, (uint8_t *)&command, 1, HAL_MAX_DELAY);
 140              		.loc 1 90 5 view .LVU34
 141 002c 134D     		ldr	r5, .L8
 142 002e 4FF0FF33 		mov	r3, #-1
 143 0032 0122     		movs	r2, #1
 144 0034 0DF10601 		add	r1, sp, #6
 145 0038 2846     		mov	r0, r5
 146 003a FFF7FEFF 		bl	HAL_SPI_Transmit
 147              	.LVL14:
  91:Core/Src/main.c ****     CS_HIGH();
 148              		.loc 1 91 5 view .LVU35
 149 003e 0122     		movs	r2, #1
 150 0040 1021     		movs	r1, #16
 151 0042 4FF09040 		mov	r0, #1207959552
 152 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 153              	.LVL15:
  92:Core/Src/main.c **** 
  93:Core/Src/main.c ****     // データ受信
  94:Core/Src/main.c ****     CS_LOW();
 154              		.loc 1 94 5 view .LVU36
 155 004a 2246     		mov	r2, r4
 156 004c 1021     		movs	r1, #16
 157 004e 4FF09040 		mov	r0, #1207959552
 158 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 159              	.LVL16:
  95:Core/Src/main.c ****     HAL_SPI_Receive(&hspi1, (uint8_t *)&response, 1, HAL_MAX_DELAY);
 160              		.loc 1 95 5 view .LVU37
 161 0056 4FF0FF33 		mov	r3, #-1
 162 005a 0122     		movs	r2, #1
 163 005c 01A9     		add	r1, sp, #4
 164 005e 2846     		mov	r0, r5
 165 0060 FFF7FEFF 		bl	HAL_SPI_Receive
 166              	.LVL17:
  96:Core/Src/main.c ****     CS_HIGH();
 167              		.loc 1 96 5 view .LVU38
 168 0064 0122     		movs	r2, #1
 169 0066 1021     		movs	r1, #16
 170 0068 4FF09040 		mov	r0, #1207959552
 171 006c FFF7FEFF 		bl	HAL_GPIO_WritePin
 172              	.LVL18:
  97:Core/Src/main.c **** 
  98:Core/Src/main.c ****     // エラービットの確認（必要に応じて実装）
  99:Core/Src/main.c ****     if (response & 0x4000) {
 173              		.loc 1 99 5 view .LVU39
 174              		.loc 1 99 18 is_stmt 0 view .LVU40
 175 0070 BDF80400 		ldrh	r0, [sp, #4]
 100:Core/Src/main.c ****         // エラー処理
 101:Core/Src/main.c ****     }
 176              		.loc 1 101 5 is_stmt 1 view .LVU41
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 6


 102:Core/Src/main.c **** 
 103:Core/Src/main.c ****     return response & 0x3FFF;  // データ部分のみ返す
 177              		.loc 1 103 5 view .LVU42
 104:Core/Src/main.c **** }
 178              		.loc 1 104 1 is_stmt 0 view .LVU43
 179 0074 C0F30D00 		ubfx	r0, r0, #0, #14
 180 0078 03B0     		add	sp, sp, #12
 181              	.LCFI2:
 182              		.cfi_def_cfa_offset 12
 183              		@ sp needed
 184 007a 30BD     		pop	{r4, r5, pc}
 185              	.L9:
 186              		.align	2
 187              	.L8:
 188 007c 00000000 		.word	hspi1
 189              		.cfi_endproc
 190              	.LFE127:
 192              		.section	.text.getRotation,"ax",%progbits
 193              		.align	1
 194              		.global	getRotation
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 199              	getRotation:
 200              	.LFB128:
 105:Core/Src/main.c **** 
 106:Core/Src/main.c **** int16_t getRotation() {
 201              		.loc 1 106 23 is_stmt 1 view -0
 202              		.cfi_startproc
 203              		@ args = 0, pretend = 0, frame = 0
 204              		@ frame_needed = 0, uses_anonymous_args = 0
 205 0000 08B5     		push	{r3, lr}
 206              	.LCFI3:
 207              		.cfi_def_cfa_offset 8
 208              		.cfi_offset 3, -8
 209              		.cfi_offset 14, -4
 107:Core/Src/main.c ****     uint16_t data = AS5048A_read(AS5048A_ANGLE);
 210              		.loc 1 107 5 view .LVU45
 211              		.loc 1 107 21 is_stmt 0 view .LVU46
 212 0002 43F6FF70 		movw	r0, #16383
 213 0006 FFF7FEFF 		bl	AS5048A_read
 214              	.LVL19:
 108:Core/Src/main.c ****     int16_t rotation = (int16_t)data;
 215              		.loc 1 108 5 is_stmt 1 view .LVU47
 109:Core/Src/main.c ****     return rotation;
 216              		.loc 1 109 5 view .LVU48
 110:Core/Src/main.c **** }
 217              		.loc 1 110 1 is_stmt 0 view .LVU49
 218 000a 00B2     		sxth	r0, r0
 219              		.loc 1 110 1 view .LVU50
 220 000c 08BD     		pop	{r3, pc}
 221              		.cfi_endproc
 222              	.LFE128:
 224              		.section	.text.electrical_angle,"ax",%progbits
 225              		.align	1
 226              		.global	electrical_angle
 227              		.syntax unified
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 7


 228              		.thumb
 229              		.thumb_func
 231              	electrical_angle:
 232              	.LVL20:
 233              	.LFB129:
 111:Core/Src/main.c **** 
 112:Core/Src/main.c **** // 電気角
 113:Core/Src/main.c **** uint16_t electrical_angle(int16_t offset) {
 234              		.loc 1 113 43 is_stmt 1 view -0
 235              		.cfi_startproc
 236              		@ args = 0, pretend = 0, frame = 0
 237              		@ frame_needed = 0, uses_anonymous_args = 0
 238              		.loc 1 113 43 is_stmt 0 view .LVU52
 239 0000 10B5     		push	{r4, lr}
 240              	.LCFI4:
 241              		.cfi_def_cfa_offset 8
 242              		.cfi_offset 4, -8
 243              		.cfi_offset 14, -4
 244 0002 0446     		mov	r4, r0
 114:Core/Src/main.c ****     uint32_t rotation = getRotation() - offset;
 245              		.loc 1 114 5 is_stmt 1 view .LVU53
 246              		.loc 1 114 25 is_stmt 0 view .LVU54
 247 0004 FFF7FEFF 		bl	getRotation
 248              	.LVL21:
 115:Core/Src/main.c ****     rotation += 8192;
 249              		.loc 1 115 5 is_stmt 1 view .LVU55
 116:Core/Src/main.c ****     rotation %= 8192;
 250              		.loc 1 116 5 view .LVU56
 117:Core/Src/main.c **** 
 118:Core/Src/main.c ****     // 7回で一回転
 119:Core/Src/main.c ****     rotation %= 1170;
 251              		.loc 1 119 5 view .LVU57
 252              		.loc 1 119 14 is_stmt 0 view .LVU58
 253 0008 001B     		subs	r0, r0, r4
 254              	.LVL22:
 255              		.loc 1 119 14 view .LVU59
 256 000a C0F30C04 		ubfx	r4, r0, #0, #13
 257 000e C0F34B03 		ubfx	r3, r0, #1, #12
 258 0012 0D4A     		ldr	r2, .L14
 259 0014 A2FB0313 		umull	r1, r3, r2, r3
 260 0018 5B0A     		lsrs	r3, r3, #9
 261 001a 40F29241 		movw	r1, #1170
 262 001e 01FB1343 		mls	r3, r1, r3, r4
 263              	.LVL23:
 120:Core/Src/main.c ****     rotation *= 360;
 264              		.loc 1 120 5 is_stmt 1 view .LVU60
 265              		.loc 1 120 14 is_stmt 0 view .LVU61
 266 0022 4FF4B471 		mov	r1, #360
 267 0026 01FB03F3 		mul	r3, r1, r3
 268              	.LVL24:
 121:Core/Src/main.c ****     rotation /= 1170;
 269              		.loc 1 121 5 is_stmt 1 view .LVU62
 270              		.loc 1 121 14 is_stmt 0 view .LVU63
 271 002a 5B08     		lsrs	r3, r3, #1
 272              	.LVL25:
 273              		.loc 1 121 14 view .LVU64
 274 002c A2FB0323 		umull	r2, r3, r2, r3
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 8


 275              	.LVL26:
 122:Core/Src/main.c ****     rotation %= 360;
 276              		.loc 1 122 5 is_stmt 1 view .LVU65
 277              		.loc 1 122 14 is_stmt 0 view .LVU66
 278 0030 180B     		lsrs	r0, r3, #12
 279 0032 064A     		ldr	r2, .L14+4
 280 0034 A2FB0020 		umull	r2, r0, r2, r0
 281 0038 8008     		lsrs	r0, r0, #2
 282 003a 01FB00F0 		mul	r0, r1, r0
 283 003e C0EB5320 		rsb	r0, r0, r3, lsr #9
 284              	.LVL27:
 123:Core/Src/main.c **** 
 124:Core/Src/main.c ****     return (uint16_t)rotation;
 285              		.loc 1 124 5 is_stmt 1 view .LVU67
 125:Core/Src/main.c **** }
 286              		.loc 1 125 1 is_stmt 0 view .LVU68
 287 0042 80B2     		uxth	r0, r0
 288              	.LVL28:
 289              		.loc 1 125 1 view .LVU69
 290 0044 10BD     		pop	{r4, pc}
 291              	.L15:
 292 0046 00BF     		.align	2
 293              	.L14:
 294 0048 E1000EE0 		.word	-535953183
 295 004c 176CC116 		.word	381774871
 296              		.cfi_endproc
 297              	.LFE129:
 299              		.global	__aeabi_i2d
 300              		.global	__aeabi_dmul
 301              		.global	__aeabi_dadd
 302              		.global	__aeabi_d2uiz
 303              		.section	.text.setPhase,"ax",%progbits
 304              		.align	1
 305              		.global	setPhase
 306              		.syntax unified
 307              		.thumb
 308              		.thumb_func
 310              	setPhase:
 311              	.LVL29:
 312              	.LFB130:
 126:Core/Src/main.c **** 
 127:Core/Src/main.c **** double cos_table[360];
 128:Core/Src/main.c **** double sin_table[360];
 129:Core/Src/main.c **** void setPhase(uint16_t phase, uint16_t pwm_pwr) {
 313              		.loc 1 129 49 is_stmt 1 view -0
 314              		.cfi_startproc
 315              		@ args = 0, pretend = 0, frame = 8
 316              		@ frame_needed = 0, uses_anonymous_args = 0
 317              		.loc 1 129 49 is_stmt 0 view .LVU71
 318 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 319              	.LCFI5:
 320              		.cfi_def_cfa_offset 36
 321              		.cfi_offset 4, -36
 322              		.cfi_offset 5, -32
 323              		.cfi_offset 6, -28
 324              		.cfi_offset 7, -24
 325              		.cfi_offset 8, -20
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 9


 326              		.cfi_offset 9, -16
 327              		.cfi_offset 10, -12
 328              		.cfi_offset 11, -8
 329              		.cfi_offset 14, -4
 330 0004 83B0     		sub	sp, sp, #12
 331              	.LCFI6:
 332              		.cfi_def_cfa_offset 48
 333 0006 8346     		mov	fp, r0
 130:Core/Src/main.c ****     uint16_t sinwave[3];
 334              		.loc 1 130 5 is_stmt 1 view .LVU72
 131:Core/Src/main.c **** 
 132:Core/Src/main.c ****     sinwave[0] = pwm_pwr + pwm_pwr * cos_table[(phase + 0) % 360];
 335              		.loc 1 132 5 view .LVU73
 336              		.loc 1 132 26 is_stmt 0 view .LVU74
 337 0008 0846     		mov	r0, r1
 338              	.LVL30:
 339              		.loc 1 132 26 view .LVU75
 340 000a FFF7FEFF 		bl	__aeabi_i2d
 341              	.LVL31:
 342              		.loc 1 132 26 view .LVU76
 343 000e 0646     		mov	r6, r0
 344 0010 0F46     		mov	r7, r1
 345              		.loc 1 132 60 view .LVU77
 346 0012 314C     		ldr	r4, .L18
 347 0014 84FB0B23 		smull	r2, r3, r4, fp
 348 0018 5B44     		add	r3, r3, fp
 349 001a 1B12     		asrs	r3, r3, #8
 350 001c 4FF4B47A 		mov	r10, #360
 351 0020 0AFB13B3 		mls	r3, r10, r3, fp
 352              		.loc 1 132 47 view .LVU78
 353 0024 2D4D     		ldr	r5, .L18+4
 354 0026 05EBC303 		add	r3, r5, r3, lsl #3
 355              		.loc 1 132 36 view .LVU79
 356 002a D3E90023 		ldrd	r2, [r3]
 357 002e FFF7FEFF 		bl	__aeabi_dmul
 358              	.LVL32:
 359 0032 0246     		mov	r2, r0
 360 0034 0B46     		mov	r3, r1
 361              		.loc 1 132 26 view .LVU80
 362 0036 3046     		mov	r0, r6
 363 0038 3946     		mov	r1, r7
 364 003a FFF7FEFF 		bl	__aeabi_dadd
 365              	.LVL33:
 366              		.loc 1 132 16 view .LVU81
 367 003e FFF7FEFF 		bl	__aeabi_d2uiz
 368              	.LVL34:
 369 0042 1FFA80F9 		uxth	r9, r0
 370 0046 ADF80090 		strh	r9, [sp]	@ movhi
 133:Core/Src/main.c ****     sinwave[1] = pwm_pwr + pwm_pwr * cos_table[(phase + 120) % 360];
 371              		.loc 1 133 5 is_stmt 1 view .LVU82
 372              		.loc 1 133 55 is_stmt 0 view .LVU83
 373 004a 0BF17802 		add	r2, fp, #120
 374              		.loc 1 133 62 view .LVU84
 375 004e 84FB0213 		smull	r1, r3, r4, r2
 376 0052 1344     		add	r3, r3, r2
 377 0054 1B12     		asrs	r3, r3, #8
 378 0056 0AFB1323 		mls	r3, r10, r3, r2
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 10


 379              		.loc 1 133 47 view .LVU85
 380 005a 05EBC303 		add	r3, r5, r3, lsl #3
 381              		.loc 1 133 36 view .LVU86
 382 005e D3E90023 		ldrd	r2, [r3]
 383 0062 3046     		mov	r0, r6
 384 0064 3946     		mov	r1, r7
 385 0066 FFF7FEFF 		bl	__aeabi_dmul
 386              	.LVL35:
 387 006a 0246     		mov	r2, r0
 388 006c 0B46     		mov	r3, r1
 389              		.loc 1 133 26 view .LVU87
 390 006e 3046     		mov	r0, r6
 391 0070 3946     		mov	r1, r7
 392 0072 FFF7FEFF 		bl	__aeabi_dadd
 393              	.LVL36:
 394              		.loc 1 133 16 view .LVU88
 395 0076 FFF7FEFF 		bl	__aeabi_d2uiz
 396              	.LVL37:
 397 007a 1FFA80F8 		uxth	r8, r0
 398 007e ADF80280 		strh	r8, [sp, #2]	@ movhi
 134:Core/Src/main.c ****     sinwave[2] = pwm_pwr + pwm_pwr * cos_table[(phase + 240) % 360];
 399              		.loc 1 134 5 is_stmt 1 view .LVU89
 400              		.loc 1 134 55 is_stmt 0 view .LVU90
 401 0082 0BF1F00B 		add	fp, fp, #240
 402              		.loc 1 134 62 view .LVU91
 403 0086 84FB0B34 		smull	r3, r4, r4, fp
 404 008a 5C44     		add	r4, r4, fp
 405 008c 2412     		asrs	r4, r4, #8
 406 008e 0AFB14B4 		mls	r4, r10, r4, fp
 407              		.loc 1 134 47 view .LVU92
 408 0092 05EBC405 		add	r5, r5, r4, lsl #3
 409              		.loc 1 134 36 view .LVU93
 410 0096 D5E90023 		ldrd	r2, [r5]
 411 009a 3046     		mov	r0, r6
 412 009c 3946     		mov	r1, r7
 413 009e FFF7FEFF 		bl	__aeabi_dmul
 414              	.LVL38:
 415 00a2 0246     		mov	r2, r0
 416 00a4 0B46     		mov	r3, r1
 417              		.loc 1 134 26 view .LVU94
 418 00a6 3046     		mov	r0, r6
 419 00a8 3946     		mov	r1, r7
 420 00aa FFF7FEFF 		bl	__aeabi_dadd
 421              	.LVL39:
 422              		.loc 1 134 16 view .LVU95
 423 00ae FFF7FEFF 		bl	__aeabi_d2uiz
 424              	.LVL40:
 425 00b2 80B2     		uxth	r0, r0
 426 00b4 ADF80400 		strh	r0, [sp, #4]	@ movhi
 135:Core/Src/main.c ****     // A相
 136:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_1, sinwave[0]);
 427              		.loc 1 136 5 is_stmt 1 view .LVU96
 428 00b8 094B     		ldr	r3, .L18+8
 429 00ba 1B68     		ldr	r3, [r3]
 430 00bc C3F83490 		str	r9, [r3, #52]
 137:Core/Src/main.c **** 
 138:Core/Src/main.c ****     // B相
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 11


 139:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim16, TIM_CHANNEL_1, sinwave[1]);
 431              		.loc 1 139 5 view .LVU97
 432 00c0 084A     		ldr	r2, .L18+12
 433 00c2 1268     		ldr	r2, [r2]
 434 00c4 C2F83480 		str	r8, [r2, #52]
 140:Core/Src/main.c **** 
 141:Core/Src/main.c ****     // C相
 142:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_4, sinwave[2]);
 435              		.loc 1 142 5 view .LVU98
 436 00c8 074A     		ldr	r2, .L18+16
 437 00ca 1268     		ldr	r2, [r2]
 438 00cc 1064     		str	r0, [r2, #64]
 143:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_3, sinwave[2]);
 439              		.loc 1 143 5 view .LVU99
 440 00ce D863     		str	r0, [r3, #60]
 144:Core/Src/main.c **** }
 441              		.loc 1 144 1 is_stmt 0 view .LVU100
 442 00d0 03B0     		add	sp, sp, #12
 443              	.LCFI7:
 444              		.cfi_def_cfa_offset 36
 445              		@ sp needed
 446 00d2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 447              	.L19:
 448 00d6 00BF     		.align	2
 449              	.L18:
 450 00d8 B7600BB6 		.word	-1240768329
 451 00dc 00000000 		.word	cos_table
 452 00e0 00000000 		.word	htim1
 453 00e4 00000000 		.word	htim16
 454 00e8 00000000 		.word	htim3
 455              		.cfi_endproc
 456              	.LFE130:
 458              		.global	__aeabi_ddiv
 459              		.global	__aeabi_d2iz
 460              		.section	.text.setVoltage,"ax",%progbits
 461              		.align	1
 462              		.global	setVoltage
 463              		.syntax unified
 464              		.thumb
 465              		.thumb_func
 467              	setVoltage:
 468              	.LVL41:
 469              	.LFB131:
 145:Core/Src/main.c **** 
 146:Core/Src/main.c **** void setVoltage(double a, double b, double c) {
 470              		.loc 1 146 47 is_stmt 1 view -0
 471              		.cfi_startproc
 472              		@ args = 0, pretend = 0, frame = 0
 473              		@ frame_needed = 0, uses_anonymous_args = 0
 474              		.loc 1 146 47 is_stmt 0 view .LVU102
 475 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 476              	.LCFI8:
 477              		.cfi_def_cfa_offset 32
 478              		.cfi_offset 3, -32
 479              		.cfi_offset 4, -28
 480              		.cfi_offset 5, -24
 481              		.cfi_offset 6, -20
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 12


 482              		.cfi_offset 7, -16
 483              		.cfi_offset 8, -12
 484              		.cfi_offset 9, -8
 485              		.cfi_offset 14, -4
 486 0004 51EC100B 		vmov	r0, r1, d0
 487 0008 59EC118B 		vmov	r8, r9, d1
 488 000c 57EC126B 		vmov	r6, r7, d2
 147:Core/Src/main.c ****     double batt_voltage = 17;  // バッテリー電圧
 489              		.loc 1 147 5 is_stmt 1 view .LVU103
 490              	.LVL42:
 148:Core/Src/main.c **** 
 149:Core/Src/main.c ****     // 電圧値を 0-1023 の範囲にマッピングする
 150:Core/Src/main.c ****     // 電圧 a, b, c をバッテリー電圧で正規化し、0〜1023の範囲にスケーリン
 151:Core/Src/main.c ****     int int_a = (int)((a / batt_voltage) * 1023) + 512;
 491              		.loc 1 151 5 view .LVU104
 492              		.loc 1 151 26 is_stmt 0 view .LVU105
 493 0010 0022     		movs	r2, #0
 494 0012 1D4B     		ldr	r3, .L22+8
 495 0014 FFF7FEFF 		bl	__aeabi_ddiv
 496              	.LVL43:
 497              		.loc 1 151 42 view .LVU106
 498 0018 19A3     		adr	r3, .L22
 499 001a D3E90023 		ldrd	r2, [r3]
 500 001e FFF7FEFF 		bl	__aeabi_dmul
 501              	.LVL44:
 502              		.loc 1 151 17 view .LVU107
 503 0022 FFF7FEFF 		bl	__aeabi_d2iz
 504              	.LVL45:
 505              		.loc 1 151 9 view .LVU108
 506 0026 00F50075 		add	r5, r0, #512
 507              	.LVL46:
 152:Core/Src/main.c ****     int int_b = (int)((b / batt_voltage) * 1023) + 512;
 508              		.loc 1 152 5 is_stmt 1 view .LVU109
 509              		.loc 1 152 26 is_stmt 0 view .LVU110
 510 002a 0022     		movs	r2, #0
 511 002c 164B     		ldr	r3, .L22+8
 512 002e 4046     		mov	r0, r8
 513 0030 4946     		mov	r1, r9
 514 0032 FFF7FEFF 		bl	__aeabi_ddiv
 515              	.LVL47:
 516              		.loc 1 152 42 view .LVU111
 517 0036 12A3     		adr	r3, .L22
 518 0038 D3E90023 		ldrd	r2, [r3]
 519 003c FFF7FEFF 		bl	__aeabi_dmul
 520              	.LVL48:
 521              		.loc 1 152 17 view .LVU112
 522 0040 FFF7FEFF 		bl	__aeabi_d2iz
 523              	.LVL49:
 524              		.loc 1 152 9 view .LVU113
 525 0044 00F50074 		add	r4, r0, #512
 526              	.LVL50:
 153:Core/Src/main.c ****     int int_c = (int)((c / batt_voltage) * 1023) + 512;
 527              		.loc 1 153 5 is_stmt 1 view .LVU114
 528              		.loc 1 153 26 is_stmt 0 view .LVU115
 529 0048 0022     		movs	r2, #0
 530 004a 0F4B     		ldr	r3, .L22+8
 531 004c 3046     		mov	r0, r6
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 13


 532 004e 3946     		mov	r1, r7
 533 0050 FFF7FEFF 		bl	__aeabi_ddiv
 534              	.LVL51:
 535              		.loc 1 153 42 view .LVU116
 536 0054 0AA3     		adr	r3, .L22
 537 0056 D3E90023 		ldrd	r2, [r3]
 538 005a FFF7FEFF 		bl	__aeabi_dmul
 539              	.LVL52:
 540              		.loc 1 153 17 view .LVU117
 541 005e FFF7FEFF 		bl	__aeabi_d2iz
 542              	.LVL53:
 543              		.loc 1 153 9 view .LVU118
 544 0062 00F50070 		add	r0, r0, #512
 545              	.LVL54:
 154:Core/Src/main.c **** 
 155:Core/Src/main.c ****     // PWM信号を各チャネルに設定
 156:Core/Src/main.c ****     // A相
 157:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_1, int_a);
 546              		.loc 1 157 5 is_stmt 1 view .LVU119
 547 0066 094A     		ldr	r2, .L22+12
 548 0068 1268     		ldr	r2, [r2]
 549 006a 5563     		str	r5, [r2, #52]
 158:Core/Src/main.c **** 
 159:Core/Src/main.c ****     // B相
 160:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim16, TIM_CHANNEL_1, int_b);
 550              		.loc 1 160 5 view .LVU120
 551 006c 0849     		ldr	r1, .L22+16
 552 006e 0968     		ldr	r1, [r1]
 553 0070 4C63     		str	r4, [r1, #52]
 161:Core/Src/main.c **** 
 162:Core/Src/main.c ****     // C相
 163:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_4, int_c);
 554              		.loc 1 163 5 view .LVU121
 555 0072 0849     		ldr	r1, .L22+20
 556 0074 0968     		ldr	r1, [r1]
 557 0076 0864     		str	r0, [r1, #64]
 164:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_3, int_c);
 558              		.loc 1 164 5 view .LVU122
 559 0078 D063     		str	r0, [r2, #60]
 165:Core/Src/main.c **** }
 560              		.loc 1 165 1 is_stmt 0 view .LVU123
 561 007a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 562              	.LVL55:
 563              	.L23:
 564              		.loc 1 165 1 view .LVU124
 565 007e 00BF     		.align	3
 566              	.L22:
 567 0080 00000000 		.word	0
 568 0084 00F88F40 		.word	1083176960
 569 0088 00003140 		.word	1076953088
 570 008c 00000000 		.word	htim1
 571 0090 00000000 		.word	htim16
 572 0094 00000000 		.word	htim3
 573              		.cfi_endproc
 574              	.LFE131:
 576              		.section	.text.uint2char,"ax",%progbits
 577              		.align	1
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 14


 578              		.global	uint2char
 579              		.syntax unified
 580              		.thumb
 581              		.thumb_func
 583              	uint2char:
 584              	.LVL56:
 585              	.LFB132:
 166:Core/Src/main.c **** 
 167:Core/Src/main.c **** char *uint2char(uint16_t num) {
 586              		.loc 1 167 31 is_stmt 1 view -0
 587              		.cfi_startproc
 588              		@ args = 0, pretend = 0, frame = 0
 589              		@ frame_needed = 0, uses_anonymous_args = 0
 590              		@ link register save eliminated.
 591              		.loc 1 167 31 is_stmt 0 view .LVU126
 592 0000 0146     		mov	r1, r0
 168:Core/Src/main.c ****     static char str[5];
 593              		.loc 1 168 5 is_stmt 1 view .LVU127
 169:Core/Src/main.c ****     str[0] = num / 1000 + '0';
 594              		.loc 1 169 5 view .LVU128
 595              		.loc 1 169 25 is_stmt 0 view .LVU129
 596 0002 164B     		ldr	r3, .L25
 597 0004 A3FB0023 		umull	r2, r3, r3, r0
 598 0008 9B09     		lsrs	r3, r3, #6
 599 000a 03F13002 		add	r2, r3, #48
 600              		.loc 1 169 12 view .LVU130
 601 000e 1448     		ldr	r0, .L25+4
 602              	.LVL57:
 603              		.loc 1 169 12 view .LVU131
 604 0010 0270     		strb	r2, [r0]
 170:Core/Src/main.c ****     str[1] = (num % 1000) / 100 + '0';
 605              		.loc 1 170 5 is_stmt 1 view .LVU132
 606              		.loc 1 170 33 is_stmt 0 view .LVU133
 607 0012 4FF47A72 		mov	r2, #1000
 608 0016 02FB1312 		mls	r2, r2, r3, r1
 609 001a 92B2     		uxth	r2, r2
 610 001c 114B     		ldr	r3, .L25+8
 611 001e A3FB02C2 		umull	ip, r2, r3, r2
 612 0022 5209     		lsrs	r2, r2, #5
 613 0024 3032     		adds	r2, r2, #48
 614              		.loc 1 170 12 view .LVU134
 615 0026 4270     		strb	r2, [r0, #1]
 171:Core/Src/main.c ****     str[2] = (num % 100) / 10 + '0';
 616              		.loc 1 171 5 is_stmt 1 view .LVU135
 617              		.loc 1 171 31 is_stmt 0 view .LVU136
 618 0028 A3FB0123 		umull	r2, r3, r3, r1
 619 002c 5B09     		lsrs	r3, r3, #5
 620 002e 6422     		movs	r2, #100
 621 0030 02FB1313 		mls	r3, r2, r3, r1
 622 0034 9BB2     		uxth	r3, r3
 623 0036 0C4A     		ldr	r2, .L25+12
 624 0038 A2FB03C3 		umull	ip, r3, r2, r3
 625 003c DB08     		lsrs	r3, r3, #3
 626 003e 3033     		adds	r3, r3, #48
 627              		.loc 1 171 12 view .LVU137
 628 0040 8370     		strb	r3, [r0, #2]
 172:Core/Src/main.c ****     str[3] = num % 10 + '0';
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 15


 629              		.loc 1 172 5 is_stmt 1 view .LVU138
 630              		.loc 1 172 23 is_stmt 0 view .LVU139
 631 0042 A2FB0123 		umull	r2, r3, r2, r1
 632 0046 DB08     		lsrs	r3, r3, #3
 633 0048 03EB8303 		add	r3, r3, r3, lsl #2
 634 004c A1EB4301 		sub	r1, r1, r3, lsl #1
 635 0050 3031     		adds	r1, r1, #48
 636              		.loc 1 172 12 view .LVU140
 637 0052 C170     		strb	r1, [r0, #3]
 173:Core/Src/main.c ****     str[4] = '\0';
 638              		.loc 1 173 5 is_stmt 1 view .LVU141
 639              		.loc 1 173 12 is_stmt 0 view .LVU142
 640 0054 0023     		movs	r3, #0
 641 0056 0371     		strb	r3, [r0, #4]
 174:Core/Src/main.c **** 
 175:Core/Src/main.c ****     return str;
 642              		.loc 1 175 5 is_stmt 1 view .LVU143
 176:Core/Src/main.c **** }
 643              		.loc 1 176 1 is_stmt 0 view .LVU144
 644 0058 7047     		bx	lr
 645              	.L26:
 646 005a 00BF     		.align	2
 647              	.L25:
 648 005c D34D6210 		.word	274877907
 649 0060 00000000 		.word	str.0
 650 0064 1F85EB51 		.word	1374389535
 651 0068 CDCCCCCC 		.word	-858993459
 652              		.cfi_endproc
 653              	.LFE132:
 655              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 656              		.align	1
 657              		.global	HAL_UART_TxCpltCallback
 658              		.syntax unified
 659              		.thumb
 660              		.thumb_func
 662              	HAL_UART_TxCpltCallback:
 663              	.LVL58:
 664              	.LFB135:
 177:Core/Src/main.c **** 
 178:Core/Src/main.c **** /* USER CODE END 0 */
 179:Core/Src/main.c **** 
 180:Core/Src/main.c **** /**
 181:Core/Src/main.c ****  * @brief  The application entry point.
 182:Core/Src/main.c ****  * @retval int
 183:Core/Src/main.c ****  */
 184:Core/Src/main.c **** int main(void) {
 185:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 186:Core/Src/main.c **** 
 187:Core/Src/main.c ****     /* USER CODE END 1 */
 188:Core/Src/main.c **** 
 189:Core/Src/main.c ****     /* MCU
 190:Core/Src/main.c ****      * Configuration--------------------------------------------------------*/
 191:Core/Src/main.c **** 
 192:Core/Src/main.c ****     /* Reset of all peripherals, Initializes the Flash interface and the
 193:Core/Src/main.c ****      * Systick. */
 194:Core/Src/main.c ****     HAL_Init();
 195:Core/Src/main.c **** 
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 16


 196:Core/Src/main.c ****     /* USER CODE BEGIN Init */
 197:Core/Src/main.c **** 
 198:Core/Src/main.c ****     /* USER CODE END Init */
 199:Core/Src/main.c **** 
 200:Core/Src/main.c ****     /* Configure the system clock */
 201:Core/Src/main.c ****     SystemClock_Config();
 202:Core/Src/main.c **** 
 203:Core/Src/main.c ****     /* USER CODE BEGIN SysInit */
 204:Core/Src/main.c **** 
 205:Core/Src/main.c ****     /* USER CODE END SysInit */
 206:Core/Src/main.c **** 
 207:Core/Src/main.c ****     /* Initialize all configured peripherals */
 208:Core/Src/main.c ****     MX_GPIO_Init();
 209:Core/Src/main.c ****     MX_DMA_Init();
 210:Core/Src/main.c ****     MX_TIM1_Init();
 211:Core/Src/main.c ****     MX_TIM16_Init();
 212:Core/Src/main.c ****     MX_TIM2_Init();
 213:Core/Src/main.c ****     MX_TIM3_Init();
 214:Core/Src/main.c ****     MX_TIM6_Init();
 215:Core/Src/main.c ****     MX_SPI1_Init();
 216:Core/Src/main.c ****     MX_USART1_UART_Init();
 217:Core/Src/main.c ****     /* USER CODE BEGIN 2 */
 218:Core/Src/main.c ****     setbuf(stdin, NULL);
 219:Core/Src/main.c ****     setbuf(stdout, NULL);
 220:Core/Src/main.c ****     setbuf(stderr, NULL);
 221:Core/Src/main.c ****     dma_printf_init(&huart1);
 222:Core/Src/main.c ****     dma_scanf_init(&huart1);
 223:Core/Src/main.c **** 
 224:Core/Src/main.c ****     // A相
 225:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_1);     // H
 226:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_1);  // L
 227:Core/Src/main.c **** 
 228:Core/Src/main.c ****     // B相
 229:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim16, TIM_CHANNEL_1);     // H
 230:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim16, TIM_CHANNEL_1);  // L
 231:Core/Src/main.c **** 
 232:Core/Src/main.c ****     // C相
 233:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_4);     // H
 234:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_3);  // L
 235:Core/Src/main.c **** 
 236:Core/Src/main.c ****     // デバッグ用LED
 237:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_1);
 238:Core/Src/main.c **** 
 239:Core/Src/main.c ****     // タイマー用
 240:Core/Src/main.c ****     HAL_TIM_Base_Start(&htim6);
 241:Core/Src/main.c **** 
 242:Core/Src/main.c ****     // DRVOFF
 243:Core/Src/main.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_1, GPIO_PIN_RESET);
 244:Core/Src/main.c **** 
 245:Core/Src/main.c ****     /* USER CODE END 2 */
 246:Core/Src/main.c **** 
 247:Core/Src/main.c ****     /* Infinite loop */
 248:Core/Src/main.c ****     /* USER CODE BEGIN WHILE */
 249:Core/Src/main.c ****     for (int i = 0; i < 360; i++) {
 250:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 251:Core/Src/main.c ****         sin_table[i] = sin(radians(i));
 252:Core/Src/main.c ****     }
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 17


 253:Core/Src/main.c **** 
 254:Core/Src/main.c ****     dma_printf_puts("BLDRV Gen2\r\n");
 255:Core/Src/main.c ****     dma_printf_puts("Calibration Start\r\n");
 256:Core/Src/main.c ****     setPhase(0, 50);
 257:Core/Src/main.c ****     HAL_Delay(500);
 258:Core/Src/main.c **** 
 259:Core/Src/main.c ****     int offset = getRotation();
 260:Core/Src/main.c ****     offset = getRotation();
 261:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 262:Core/Src/main.c ****     dma_printf_puts(uint2char(offset));
 263:Core/Src/main.c ****     dma_printf_puts("\r\n");
 264:Core/Src/main.c ****     dma_printf_puts("Calibration End\r\n");
 265:Core/Src/main.c **** 
 266:Core/Src/main.c ****     while (1) {
 267:Core/Src/main.c ****         /* USER CODE END WHILE */
 268:Core/Src/main.c **** 
 269:Core/Src/main.c ****         /* USER CODE BEGIN 3 */
 270:Core/Src/main.c ****         uint16_t rotation = electrical_angle(offset);
 271:Core/Src/main.c **** 
 272:Core/Src/main.c ****         double vol_q = 7;
 273:Core/Src/main.c ****         double vol_d = 0;
 274:Core/Src/main.c **** 
 275:Core/Src/main.c ****         double vol_alpha =
 276:Core/Src/main.c ****             vol_d * cos_table[rotation] - vol_q * sin_table[rotation];
 277:Core/Src/main.c ****         double vol_beta =
 278:Core/Src/main.c ****             vol_d * sin_table[rotation] + vol_q * cos_table[rotation];
 279:Core/Src/main.c **** 
 280:Core/Src/main.c ****         double vol_u = 0.81649658 * vol_alpha;
 281:Core/Src/main.c ****         double vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 282:Core/Src/main.c ****         double vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 283:Core/Src/main.c **** 
 284:Core/Src/main.c ****         setVoltage(vol_u, vol_v, vol_w);
 285:Core/Src/main.c **** 
 286:Core/Src/main.c ****         // dma_printf_puts("Angle: ");
 287:Core/Src/main.c ****         // dma_printf_puts(uint2char(rotation));
 288:Core/Src/main.c ****         // dma_printf_puts("\r\n");
 289:Core/Src/main.c ****     }
 290:Core/Src/main.c ****     /* USER CODE END 3 */
 291:Core/Src/main.c **** }
 292:Core/Src/main.c **** 
 293:Core/Src/main.c **** /**
 294:Core/Src/main.c ****  * @brief System Clock Configuration
 295:Core/Src/main.c ****  * @retval None
 296:Core/Src/main.c ****  */
 297:Core/Src/main.c **** void SystemClock_Config(void) {
 298:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 299:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 300:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 301:Core/Src/main.c **** 
 302:Core/Src/main.c ****     /** Initializes the RCC Oscillators according to the specified parameters
 303:Core/Src/main.c ****      * in the RCC_OscInitTypeDef structure.
 304:Core/Src/main.c ****      */
 305:Core/Src/main.c ****     RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
 306:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 307:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 308:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 309:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 18


 310:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL8;
 311:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 312:Core/Src/main.c ****         Error_Handler();
 313:Core/Src/main.c ****     }
 314:Core/Src/main.c **** 
 315:Core/Src/main.c ****     /** Initializes the CPU, AHB and APB buses clocks
 316:Core/Src/main.c ****      */
 317:Core/Src/main.c ****     RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK |
 318:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 319:Core/Src/main.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 320:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 321:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 322:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 323:Core/Src/main.c **** 
 324:Core/Src/main.c ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_1) != HAL_OK) {
 325:Core/Src/main.c ****         Error_Handler();
 326:Core/Src/main.c ****     }
 327:Core/Src/main.c ****     PeriphClkInit.PeriphClockSelection =
 328:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 329:Core/Src/main.c ****     PeriphClkInit.Usart1ClockSelection = RCC_USART1CLKSOURCE_PCLK1;
 330:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 331:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 332:Core/Src/main.c ****         Error_Handler();
 333:Core/Src/main.c ****     }
 334:Core/Src/main.c **** }
 335:Core/Src/main.c **** 
 336:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 337:Core/Src/main.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart) {
 665              		.loc 1 337 57 is_stmt 1 view -0
 666              		.cfi_startproc
 667              		@ args = 0, pretend = 0, frame = 0
 668              		@ frame_needed = 0, uses_anonymous_args = 0
 669              		.loc 1 337 57 is_stmt 0 view .LVU146
 670 0000 08B5     		push	{r3, lr}
 671              	.LCFI9:
 672              		.cfi_def_cfa_offset 8
 673              		.cfi_offset 3, -8
 674              		.cfi_offset 14, -4
 338:Core/Src/main.c ****     dma_printf_send_it(huart);
 675              		.loc 1 338 5 is_stmt 1 view .LVU147
 676 0002 FFF7FEFF 		bl	dma_printf_send_it
 677              	.LVL59:
 339:Core/Src/main.c **** }
 678              		.loc 1 339 1 is_stmt 0 view .LVU148
 679 0006 08BD     		pop	{r3, pc}
 680              		.cfi_endproc
 681              	.LFE135:
 683              		.section	.text.__io_putchar,"ax",%progbits
 684              		.align	1
 685              		.global	__io_putchar
 686              		.syntax unified
 687              		.thumb
 688              		.thumb_func
 690              	__io_putchar:
 691              	.LVL60:
 692              	.LFB136:
 340:Core/Src/main.c **** int __io_putchar(int ch) {
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 19


 693              		.loc 1 340 26 is_stmt 1 view -0
 694              		.cfi_startproc
 695              		@ args = 0, pretend = 0, frame = 0
 696              		@ frame_needed = 0, uses_anonymous_args = 0
 697              		.loc 1 340 26 is_stmt 0 view .LVU150
 698 0000 10B5     		push	{r4, lr}
 699              	.LCFI10:
 700              		.cfi_def_cfa_offset 8
 701              		.cfi_offset 4, -8
 702              		.cfi_offset 14, -4
 703 0002 0446     		mov	r4, r0
 341:Core/Src/main.c ****     dma_printf_putc(ch & 0xFF);
 704              		.loc 1 341 5 is_stmt 1 view .LVU151
 705 0004 C0B2     		uxtb	r0, r0
 706              	.LVL61:
 707              		.loc 1 341 5 is_stmt 0 view .LVU152
 708 0006 FFF7FEFF 		bl	dma_printf_putc
 709              	.LVL62:
 342:Core/Src/main.c ****     return ch;
 710              		.loc 1 342 5 is_stmt 1 view .LVU153
 343:Core/Src/main.c **** }
 711              		.loc 1 343 1 is_stmt 0 view .LVU154
 712 000a 2046     		mov	r0, r4
 713 000c 10BD     		pop	{r4, pc}
 714              		.loc 1 343 1 view .LVU155
 715              		.cfi_endproc
 716              	.LFE136:
 718              		.section	.text.__io_getchar,"ax",%progbits
 719              		.align	1
 720              		.global	__io_getchar
 721              		.syntax unified
 722              		.thumb
 723              		.thumb_func
 725              	__io_getchar:
 726              	.LFB137:
 344:Core/Src/main.c **** 
 345:Core/Src/main.c **** int __io_getchar(void) {
 727              		.loc 1 345 24 is_stmt 1 view -0
 728              		.cfi_startproc
 729              		@ args = 0, pretend = 0, frame = 0
 730              		@ frame_needed = 0, uses_anonymous_args = 0
 731 0000 08B5     		push	{r3, lr}
 732              	.LCFI11:
 733              		.cfi_def_cfa_offset 8
 734              		.cfi_offset 3, -8
 735              		.cfi_offset 14, -4
 346:Core/Src/main.c ****     return dma_scanf_getc_blocking();
 736              		.loc 1 346 5 view .LVU157
 737              		.loc 1 346 12 is_stmt 0 view .LVU158
 738 0002 FFF7FEFF 		bl	dma_scanf_getc_blocking
 739              	.LVL63:
 347:Core/Src/main.c **** }
 740              		.loc 1 347 1 view .LVU159
 741 0006 08BD     		pop	{r3, pc}
 742              		.cfi_endproc
 743              	.LFE137:
 745              		.section	.text.Error_Handler,"ax",%progbits
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 20


 746              		.align	1
 747              		.global	Error_Handler
 748              		.syntax unified
 749              		.thumb
 750              		.thumb_func
 752              	Error_Handler:
 753              	.LFB138:
 348:Core/Src/main.c **** 
 349:Core/Src/main.c **** /* USER CODE END 4 */
 350:Core/Src/main.c **** 
 351:Core/Src/main.c **** /**
 352:Core/Src/main.c ****  * @brief  This function is executed in case of error occurrence.
 353:Core/Src/main.c ****  * @retval None
 354:Core/Src/main.c ****  */
 355:Core/Src/main.c **** void Error_Handler(void) {
 754              		.loc 1 355 26 is_stmt 1 view -0
 755              		.cfi_startproc
 756              		@ Volatile: function does not return.
 757              		@ args = 0, pretend = 0, frame = 0
 758              		@ frame_needed = 0, uses_anonymous_args = 0
 759              		@ link register save eliminated.
 356:Core/Src/main.c ****     /* USER CODE BEGIN Error_Handler_Debug */
 357:Core/Src/main.c ****     /* User can add his own implementation to report the HAL error return state
 358:Core/Src/main.c ****      */
 359:Core/Src/main.c ****     __disable_irq();
 760              		.loc 1 359 5 view .LVU161
 761              	.LBB6:
 762              	.LBI6:
 763              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 21


  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 22


  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 764              		.loc 2 140 27 view .LVU162
 765              	.LBB7:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 23


 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 766              		.loc 2 142 3 view .LVU163
 767              		.syntax unified
 768              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 769 0000 72B6     		cpsid i
 770              	@ 0 "" 2
 771              		.thumb
 772              		.syntax unified
 773              	.L34:
 774              	.LBE7:
 775              	.LBE6:
 360:Core/Src/main.c ****     while (1) {
 776              		.loc 1 360 5 discriminator 1 view .LVU164
 361:Core/Src/main.c ****     }
 777              		.loc 1 361 5 discriminator 1 view .LVU165
 360:Core/Src/main.c ****     while (1) {
 778              		.loc 1 360 11 discriminator 1 view .LVU166
 779 0002 FEE7     		b	.L34
 780              		.cfi_endproc
 781              	.LFE138:
 783              		.section	.text.SystemClock_Config,"ax",%progbits
 784              		.align	1
 785              		.global	SystemClock_Config
 786              		.syntax unified
 787              		.thumb
 788              		.thumb_func
 790              	SystemClock_Config:
 791              	.LFB134:
 297:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 792              		.loc 1 297 31 view -0
 793              		.cfi_startproc
 794              		@ args = 0, pretend = 0, frame = 88
 795              		@ frame_needed = 0, uses_anonymous_args = 0
 796 0000 00B5     		push	{lr}
 797              	.LCFI12:
 798              		.cfi_def_cfa_offset 4
 799              		.cfi_offset 14, -4
 800 0002 97B0     		sub	sp, sp, #92
 801              	.LCFI13:
 802              		.cfi_def_cfa_offset 96
 298:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 803              		.loc 1 298 5 view .LVU168
 298:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 804              		.loc 1 298 24 is_stmt 0 view .LVU169
 805 0004 2822     		movs	r2, #40
 806 0006 0021     		movs	r1, #0
 807 0008 0CA8     		add	r0, sp, #48
 808 000a FFF7FEFF 		bl	memset
 809              	.LVL64:
 299:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 810              		.loc 1 299 5 is_stmt 1 view .LVU170
 299:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 811              		.loc 1 299 24 is_stmt 0 view .LVU171
 812 000e 0023     		movs	r3, #0
 813 0010 0793     		str	r3, [sp, #28]
 814 0012 0893     		str	r3, [sp, #32]
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 24


 815 0014 0993     		str	r3, [sp, #36]
 816 0016 0A93     		str	r3, [sp, #40]
 817 0018 0B93     		str	r3, [sp, #44]
 300:Core/Src/main.c **** 
 818              		.loc 1 300 5 is_stmt 1 view .LVU172
 300:Core/Src/main.c **** 
 819              		.loc 1 300 30 is_stmt 0 view .LVU173
 820 001a 0193     		str	r3, [sp, #4]
 821 001c 0293     		str	r3, [sp, #8]
 822 001e 0393     		str	r3, [sp, #12]
 823 0020 0493     		str	r3, [sp, #16]
 824 0022 0593     		str	r3, [sp, #20]
 825 0024 0693     		str	r3, [sp, #24]
 305:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 826              		.loc 1 305 5 is_stmt 1 view .LVU174
 305:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 827              		.loc 1 305 38 is_stmt 0 view .LVU175
 828 0026 0223     		movs	r3, #2
 829 0028 0C93     		str	r3, [sp, #48]
 306:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 830              		.loc 1 306 5 is_stmt 1 view .LVU176
 306:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 831              		.loc 1 306 32 is_stmt 0 view .LVU177
 832 002a 0122     		movs	r2, #1
 833 002c 1092     		str	r2, [sp, #64]
 307:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 834              		.loc 1 307 5 is_stmt 1 view .LVU178
 307:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 835              		.loc 1 307 43 is_stmt 0 view .LVU179
 836 002e 1022     		movs	r2, #16
 837 0030 1192     		str	r2, [sp, #68]
 308:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 838              		.loc 1 308 5 is_stmt 1 view .LVU180
 308:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 839              		.loc 1 308 36 is_stmt 0 view .LVU181
 840 0032 1393     		str	r3, [sp, #76]
 309:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL8;
 841              		.loc 1 309 5 is_stmt 1 view .LVU182
 310:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 842              		.loc 1 310 5 view .LVU183
 310:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 843              		.loc 1 310 34 is_stmt 0 view .LVU184
 844 0034 4FF4C013 		mov	r3, #1572864
 845 0038 1593     		str	r3, [sp, #84]
 311:Core/Src/main.c ****         Error_Handler();
 846              		.loc 1 311 5 is_stmt 1 view .LVU185
 311:Core/Src/main.c ****         Error_Handler();
 847              		.loc 1 311 9 is_stmt 0 view .LVU186
 848 003a 0CA8     		add	r0, sp, #48
 849 003c FFF7FEFF 		bl	HAL_RCC_OscConfig
 850              	.LVL65:
 311:Core/Src/main.c ****         Error_Handler();
 851              		.loc 1 311 8 view .LVU187
 852 0040 D8B9     		cbnz	r0, .L40
 317:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 853              		.loc 1 317 5 is_stmt 1 view .LVU188
 317:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 25


 854              		.loc 1 317 33 is_stmt 0 view .LVU189
 855 0042 0F23     		movs	r3, #15
 856 0044 0793     		str	r3, [sp, #28]
 319:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 857              		.loc 1 319 5 is_stmt 1 view .LVU190
 319:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 858              		.loc 1 319 36 is_stmt 0 view .LVU191
 859 0046 0223     		movs	r3, #2
 860 0048 0893     		str	r3, [sp, #32]
 320:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 861              		.loc 1 320 5 is_stmt 1 view .LVU192
 320:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 862              		.loc 1 320 37 is_stmt 0 view .LVU193
 863 004a 0023     		movs	r3, #0
 864 004c 0993     		str	r3, [sp, #36]
 321:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 865              		.loc 1 321 5 is_stmt 1 view .LVU194
 321:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 866              		.loc 1 321 38 is_stmt 0 view .LVU195
 867 004e 4FF48062 		mov	r2, #1024
 868 0052 0A92     		str	r2, [sp, #40]
 322:Core/Src/main.c **** 
 869              		.loc 1 322 5 is_stmt 1 view .LVU196
 322:Core/Src/main.c **** 
 870              		.loc 1 322 38 is_stmt 0 view .LVU197
 871 0054 0B93     		str	r3, [sp, #44]
 324:Core/Src/main.c ****         Error_Handler();
 872              		.loc 1 324 5 is_stmt 1 view .LVU198
 324:Core/Src/main.c ****         Error_Handler();
 873              		.loc 1 324 9 is_stmt 0 view .LVU199
 874 0056 0121     		movs	r1, #1
 875 0058 07A8     		add	r0, sp, #28
 876 005a FFF7FEFF 		bl	HAL_RCC_ClockConfig
 877              	.LVL66:
 324:Core/Src/main.c ****         Error_Handler();
 878              		.loc 1 324 8 view .LVU200
 879 005e 70B9     		cbnz	r0, .L41
 327:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 880              		.loc 1 327 5 is_stmt 1 view .LVU201
 327:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 881              		.loc 1 327 40 is_stmt 0 view .LVU202
 882 0060 41F20103 		movw	r3, #4097
 883 0064 0193     		str	r3, [sp, #4]
 329:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 884              		.loc 1 329 5 is_stmt 1 view .LVU203
 329:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 885              		.loc 1 329 40 is_stmt 0 view .LVU204
 886 0066 0023     		movs	r3, #0
 887 0068 0393     		str	r3, [sp, #12]
 330:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 888              		.loc 1 330 5 is_stmt 1 view .LVU205
 330:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 889              		.loc 1 330 38 is_stmt 0 view .LVU206
 890 006a 0693     		str	r3, [sp, #24]
 331:Core/Src/main.c ****         Error_Handler();
 891              		.loc 1 331 5 is_stmt 1 view .LVU207
 331:Core/Src/main.c ****         Error_Handler();
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 26


 892              		.loc 1 331 9 is_stmt 0 view .LVU208
 893 006c 01A8     		add	r0, sp, #4
 894 006e FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 895              	.LVL67:
 331:Core/Src/main.c ****         Error_Handler();
 896              		.loc 1 331 8 view .LVU209
 897 0072 30B9     		cbnz	r0, .L42
 334:Core/Src/main.c **** 
 898              		.loc 1 334 1 view .LVU210
 899 0074 17B0     		add	sp, sp, #92
 900              	.LCFI14:
 901              		.cfi_remember_state
 902              		.cfi_def_cfa_offset 4
 903              		@ sp needed
 904 0076 5DF804FB 		ldr	pc, [sp], #4
 905              	.L40:
 906              	.LCFI15:
 907              		.cfi_restore_state
 312:Core/Src/main.c ****     }
 908              		.loc 1 312 9 is_stmt 1 view .LVU211
 909 007a FFF7FEFF 		bl	Error_Handler
 910              	.LVL68:
 911              	.L41:
 325:Core/Src/main.c ****     }
 912              		.loc 1 325 9 view .LVU212
 913 007e FFF7FEFF 		bl	Error_Handler
 914              	.LVL69:
 915              	.L42:
 332:Core/Src/main.c ****     }
 916              		.loc 1 332 9 view .LVU213
 917 0082 FFF7FEFF 		bl	Error_Handler
 918              	.LVL70:
 919              		.cfi_endproc
 920              	.LFE134:
 922              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 923              		.align	2
 924              	.LC0:
 925 0000 424C4452 		.ascii	"BLDRV Gen2\015\012\000"
 925      56204765 
 925      6E320D0A 
 925      00
 926 000d 000000   		.align	2
 927              	.LC1:
 928 0010 43616C69 		.ascii	"Calibration Start\015\012\000"
 928      62726174 
 928      696F6E20 
 928      53746172 
 928      740D0A00 
 929              		.align	2
 930              	.LC2:
 931 0024 4F666673 		.ascii	"Offset: \000"
 931      65743A20 
 931      00
 932 002d 000000   		.align	2
 933              	.LC3:
 934 0030 0D0A00   		.ascii	"\015\012\000"
 935 0033 00       		.align	2
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 27


 936              	.LC4:
 937 0034 43616C69 		.ascii	"Calibration End\015\012\000"
 937      62726174 
 937      696F6E20 
 937      456E640D 
 937      0A00
 938              		.global	__aeabi_dsub
 939              		.section	.text.main,"ax",%progbits
 940              		.align	1
 941              		.global	main
 942              		.syntax unified
 943              		.thumb
 944              		.thumb_func
 946              	main:
 947              	.LFB133:
 184:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 948              		.loc 1 184 16 view -0
 949              		.cfi_startproc
 950              		@ args = 0, pretend = 0, frame = 0
 951              		@ frame_needed = 0, uses_anonymous_args = 0
 952 0000 2DE9F04D 		push	{r4, r5, r6, r7, r8, r10, fp, lr}
 953              	.LCFI16:
 954              		.cfi_def_cfa_offset 32
 955              		.cfi_offset 4, -32
 956              		.cfi_offset 5, -28
 957              		.cfi_offset 6, -24
 958              		.cfi_offset 7, -20
 959              		.cfi_offset 8, -16
 960              		.cfi_offset 10, -12
 961              		.cfi_offset 11, -8
 962              		.cfi_offset 14, -4
 963 0004 2DED048B 		vpush.64	{d8, d9}
 964              	.LCFI17:
 965              		.cfi_def_cfa_offset 48
 966              		.cfi_offset 80, -48
 967              		.cfi_offset 81, -44
 968              		.cfi_offset 82, -40
 969              		.cfi_offset 83, -36
 194:Core/Src/main.c **** 
 970              		.loc 1 194 5 view .LVU215
 971 0008 FFF7FEFF 		bl	HAL_Init
 972              	.LVL71:
 201:Core/Src/main.c **** 
 973              		.loc 1 201 5 view .LVU216
 974 000c FFF7FEFF 		bl	SystemClock_Config
 975              	.LVL72:
 208:Core/Src/main.c ****     MX_DMA_Init();
 976              		.loc 1 208 5 view .LVU217
 977 0010 FFF7FEFF 		bl	MX_GPIO_Init
 978              	.LVL73:
 209:Core/Src/main.c ****     MX_TIM1_Init();
 979              		.loc 1 209 5 view .LVU218
 980 0014 FFF7FEFF 		bl	MX_DMA_Init
 981              	.LVL74:
 210:Core/Src/main.c ****     MX_TIM16_Init();
 982              		.loc 1 210 5 view .LVU219
 983 0018 FFF7FEFF 		bl	MX_TIM1_Init
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 28


 984              	.LVL75:
 211:Core/Src/main.c ****     MX_TIM2_Init();
 985              		.loc 1 211 5 view .LVU220
 986 001c FFF7FEFF 		bl	MX_TIM16_Init
 987              	.LVL76:
 212:Core/Src/main.c ****     MX_TIM3_Init();
 988              		.loc 1 212 5 view .LVU221
 989 0020 FFF7FEFF 		bl	MX_TIM2_Init
 990              	.LVL77:
 213:Core/Src/main.c ****     MX_TIM6_Init();
 991              		.loc 1 213 5 view .LVU222
 992 0024 FFF7FEFF 		bl	MX_TIM3_Init
 993              	.LVL78:
 214:Core/Src/main.c ****     MX_SPI1_Init();
 994              		.loc 1 214 5 view .LVU223
 995 0028 FFF7FEFF 		bl	MX_TIM6_Init
 996              	.LVL79:
 215:Core/Src/main.c ****     MX_USART1_UART_Init();
 997              		.loc 1 215 5 view .LVU224
 998 002c FFF7FEFF 		bl	MX_SPI1_Init
 999              	.LVL80:
 216:Core/Src/main.c ****     /* USER CODE BEGIN 2 */
 1000              		.loc 1 216 5 view .LVU225
 1001 0030 FFF7FEFF 		bl	MX_USART1_UART_Init
 1002              	.LVL81:
 218:Core/Src/main.c ****     setbuf(stdout, NULL);
 1003              		.loc 1 218 5 view .LVU226
 218:Core/Src/main.c ****     setbuf(stdout, NULL);
 1004              		.loc 1 218 12 is_stmt 0 view .LVU227
 1005 0034 844C     		ldr	r4, .L48+32
 1006 0036 2368     		ldr	r3, [r4]
 218:Core/Src/main.c ****     setbuf(stdout, NULL);
 1007              		.loc 1 218 5 view .LVU228
 1008 0038 0021     		movs	r1, #0
 1009 003a 5868     		ldr	r0, [r3, #4]
 1010 003c FFF7FEFF 		bl	setbuf
 1011              	.LVL82:
 219:Core/Src/main.c ****     setbuf(stderr, NULL);
 1012              		.loc 1 219 5 is_stmt 1 view .LVU229
 219:Core/Src/main.c ****     setbuf(stderr, NULL);
 1013              		.loc 1 219 12 is_stmt 0 view .LVU230
 1014 0040 2368     		ldr	r3, [r4]
 219:Core/Src/main.c ****     setbuf(stderr, NULL);
 1015              		.loc 1 219 5 view .LVU231
 1016 0042 0021     		movs	r1, #0
 1017 0044 9868     		ldr	r0, [r3, #8]
 1018 0046 FFF7FEFF 		bl	setbuf
 1019              	.LVL83:
 220:Core/Src/main.c ****     dma_printf_init(&huart1);
 1020              		.loc 1 220 5 is_stmt 1 view .LVU232
 220:Core/Src/main.c ****     dma_printf_init(&huart1);
 1021              		.loc 1 220 12 is_stmt 0 view .LVU233
 1022 004a 2368     		ldr	r3, [r4]
 220:Core/Src/main.c ****     dma_printf_init(&huart1);
 1023              		.loc 1 220 5 view .LVU234
 1024 004c 0021     		movs	r1, #0
 1025 004e D868     		ldr	r0, [r3, #12]
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 29


 1026 0050 FFF7FEFF 		bl	setbuf
 1027              	.LVL84:
 221:Core/Src/main.c ****     dma_scanf_init(&huart1);
 1028              		.loc 1 221 5 is_stmt 1 view .LVU235
 1029 0054 7D4C     		ldr	r4, .L48+36
 1030 0056 2046     		mov	r0, r4
 1031 0058 FFF7FEFF 		bl	dma_printf_init
 1032              	.LVL85:
 222:Core/Src/main.c **** 
 1033              		.loc 1 222 5 view .LVU236
 1034 005c 2046     		mov	r0, r4
 1035 005e FFF7FEFF 		bl	dma_scanf_init
 1036              	.LVL86:
 225:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_1);  // L
 1037              		.loc 1 225 5 view .LVU237
 1038 0062 7B4C     		ldr	r4, .L48+40
 1039 0064 0021     		movs	r1, #0
 1040 0066 2046     		mov	r0, r4
 1041 0068 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1042              	.LVL87:
 226:Core/Src/main.c **** 
 1043              		.loc 1 226 5 view .LVU238
 1044 006c 0021     		movs	r1, #0
 1045 006e 2046     		mov	r0, r4
 1046 0070 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1047              	.LVL88:
 229:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim16, TIM_CHANNEL_1);  // L
 1048              		.loc 1 229 5 view .LVU239
 1049 0074 774D     		ldr	r5, .L48+44
 1050 0076 0021     		movs	r1, #0
 1051 0078 2846     		mov	r0, r5
 1052 007a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1053              	.LVL89:
 230:Core/Src/main.c **** 
 1054              		.loc 1 230 5 view .LVU240
 1055 007e 0021     		movs	r1, #0
 1056 0080 2846     		mov	r0, r5
 1057 0082 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1058              	.LVL90:
 233:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_3);  // L
 1059              		.loc 1 233 5 view .LVU241
 1060 0086 0C21     		movs	r1, #12
 1061 0088 7348     		ldr	r0, .L48+48
 1062 008a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1063              	.LVL91:
 234:Core/Src/main.c **** 
 1064              		.loc 1 234 5 view .LVU242
 1065 008e 0821     		movs	r1, #8
 1066 0090 2046     		mov	r0, r4
 1067 0092 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1068              	.LVL92:
 237:Core/Src/main.c **** 
 1069              		.loc 1 237 5 view .LVU243
 1070 0096 0021     		movs	r1, #0
 1071 0098 7048     		ldr	r0, .L48+52
 1072 009a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1073              	.LVL93:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 30


 240:Core/Src/main.c **** 
 1074              		.loc 1 240 5 view .LVU244
 1075 009e 7048     		ldr	r0, .L48+56
 1076 00a0 FFF7FEFF 		bl	HAL_TIM_Base_Start
 1077              	.LVL94:
 243:Core/Src/main.c **** 
 1078              		.loc 1 243 5 view .LVU245
 1079 00a4 0022     		movs	r2, #0
 1080 00a6 0221     		movs	r1, #2
 1081 00a8 6E48     		ldr	r0, .L48+60
 1082 00aa FFF7FEFF 		bl	HAL_GPIO_WritePin
 1083              	.LVL95:
 249:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 1084              		.loc 1 249 5 view .LVU246
 1085              	.LBB8:
 249:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 1086              		.loc 1 249 10 view .LVU247
 249:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 1087              		.loc 1 249 14 is_stmt 0 view .LVU248
 1088 00ae 0024     		movs	r4, #0
 249:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 1089              		.loc 1 249 5 view .LVU249
 1090 00b0 24E0     		b	.L44
 1091              	.LVL96:
 1092              	.L45:
 250:Core/Src/main.c ****         sin_table[i] = sin(radians(i));
 1093              		.loc 1 250 9 is_stmt 1 discriminator 3 view .LVU250
 250:Core/Src/main.c ****         sin_table[i] = sin(radians(i));
 1094              		.loc 1 250 28 is_stmt 0 discriminator 3 view .LVU251
 1095 00b2 2046     		mov	r0, r4
 1096 00b4 FFF7FEFF 		bl	__aeabi_i2d
 1097              	.LVL97:
 1098 00b8 5BA3     		adr	r3, .L48
 1099 00ba D3E90023 		ldrd	r2, [r3]
 1100 00be FFF7FEFF 		bl	__aeabi_dmul
 1101              	.LVL98:
 250:Core/Src/main.c ****         sin_table[i] = sin(radians(i));
 1102              		.loc 1 250 24 discriminator 3 view .LVU252
 1103 00c2 0022     		movs	r2, #0
 1104 00c4 684B     		ldr	r3, .L48+64
 1105 00c6 FFF7FEFF 		bl	__aeabi_ddiv
 1106              	.LVL99:
 1107 00ca 41EC180B 		vmov	d8, r0, r1
 1108 00ce B0EE480A 		vmov.f32	s0, s16
 1109 00d2 F0EE680A 		vmov.f32	s1, s17
 1110 00d6 FFF7FEFF 		bl	cos
 1111              	.LVL100:
 250:Core/Src/main.c ****         sin_table[i] = sin(radians(i));
 1112              		.loc 1 250 22 discriminator 3 view .LVU253
 1113 00da E500     		lsls	r5, r4, #3
 1114 00dc 634B     		ldr	r3, .L48+68
 1115 00de 03EBC403 		add	r3, r3, r4, lsl #3
 1116 00e2 83ED000B 		vstr.64	d0, [r3]
 251:Core/Src/main.c ****     }
 1117              		.loc 1 251 9 is_stmt 1 discriminator 3 view .LVU254
 251:Core/Src/main.c ****     }
 1118              		.loc 1 251 24 is_stmt 0 discriminator 3 view .LVU255
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 31


 1119 00e6 B0EE480A 		vmov.f32	s0, s16
 1120 00ea F0EE680A 		vmov.f32	s1, s17
 1121 00ee FFF7FEFF 		bl	sin
 1122              	.LVL101:
 251:Core/Src/main.c ****     }
 1123              		.loc 1 251 22 discriminator 3 view .LVU256
 1124 00f2 5F4B     		ldr	r3, .L48+72
 1125 00f4 2B44     		add	r3, r3, r5
 1126 00f6 83ED000B 		vstr.64	d0, [r3]
 249:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 1127              		.loc 1 249 31 is_stmt 1 discriminator 3 view .LVU257
 1128 00fa 0134     		adds	r4, r4, #1
 1129              	.LVL102:
 1130              	.L44:
 249:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 1131              		.loc 1 249 23 discriminator 1 view .LVU258
 1132 00fc B4F5B47F 		cmp	r4, #360
 1133 0100 D7DB     		blt	.L45
 1134              	.LBE8:
 254:Core/Src/main.c ****     dma_printf_puts("Calibration Start\r\n");
 1135              		.loc 1 254 5 view .LVU259
 1136 0102 5C48     		ldr	r0, .L48+76
 1137 0104 FFF7FEFF 		bl	dma_printf_puts
 1138              	.LVL103:
 255:Core/Src/main.c ****     setPhase(0, 50);
 1139              		.loc 1 255 5 view .LVU260
 1140 0108 5B48     		ldr	r0, .L48+80
 1141 010a FFF7FEFF 		bl	dma_printf_puts
 1142              	.LVL104:
 256:Core/Src/main.c ****     HAL_Delay(500);
 1143              		.loc 1 256 5 view .LVU261
 1144 010e 3221     		movs	r1, #50
 1145 0110 0020     		movs	r0, #0
 1146 0112 FFF7FEFF 		bl	setPhase
 1147              	.LVL105:
 257:Core/Src/main.c **** 
 1148              		.loc 1 257 5 view .LVU262
 1149 0116 4FF4FA70 		mov	r0, #500
 1150 011a FFF7FEFF 		bl	HAL_Delay
 1151              	.LVL106:
 259:Core/Src/main.c ****     offset = getRotation();
 1152              		.loc 1 259 5 view .LVU263
 259:Core/Src/main.c ****     offset = getRotation();
 1153              		.loc 1 259 18 is_stmt 0 view .LVU264
 1154 011e FFF7FEFF 		bl	getRotation
 1155              	.LVL107:
 260:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 1156              		.loc 1 260 5 is_stmt 1 view .LVU265
 260:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 1157              		.loc 1 260 14 is_stmt 0 view .LVU266
 1158 0122 FFF7FEFF 		bl	getRotation
 1159              	.LVL108:
 1160 0126 8046     		mov	r8, r0
 1161              	.LVL109:
 261:Core/Src/main.c ****     dma_printf_puts(uint2char(offset));
 1162              		.loc 1 261 5 is_stmt 1 view .LVU267
 1163 0128 5448     		ldr	r0, .L48+84
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 32


 1164 012a FFF7FEFF 		bl	dma_printf_puts
 1165              	.LVL110:
 262:Core/Src/main.c ****     dma_printf_puts("\r\n");
 1166              		.loc 1 262 5 view .LVU268
 262:Core/Src/main.c ****     dma_printf_puts("\r\n");
 1167              		.loc 1 262 21 is_stmt 0 view .LVU269
 1168 012e 1FFA88F0 		uxth	r0, r8
 1169 0132 FFF7FEFF 		bl	uint2char
 1170              	.LVL111:
 262:Core/Src/main.c ****     dma_printf_puts("\r\n");
 1171              		.loc 1 262 5 view .LVU270
 1172 0136 FFF7FEFF 		bl	dma_printf_puts
 1173              	.LVL112:
 263:Core/Src/main.c ****     dma_printf_puts("Calibration End\r\n");
 1174              		.loc 1 263 5 is_stmt 1 view .LVU271
 1175 013a 5148     		ldr	r0, .L48+88
 1176 013c FFF7FEFF 		bl	dma_printf_puts
 1177              	.LVL113:
 264:Core/Src/main.c **** 
 1178              		.loc 1 264 5 view .LVU272
 1179 0140 5048     		ldr	r0, .L48+92
 1180 0142 FFF7FEFF 		bl	dma_printf_puts
 1181              	.LVL114:
 1182              	.L46:
 266:Core/Src/main.c ****         /* USER CODE END WHILE */
 1183              		.loc 1 266 5 discriminator 1 view .LVU273
 1184              	.LBB9:
 270:Core/Src/main.c **** 
 1185              		.loc 1 270 9 discriminator 1 view .LVU274
 270:Core/Src/main.c **** 
 1186              		.loc 1 270 29 is_stmt 0 discriminator 1 view .LVU275
 1187 0146 4046     		mov	r0, r8
 1188 0148 FFF7FEFF 		bl	electrical_angle
 1189              	.LVL115:
 272:Core/Src/main.c ****         double vol_d = 0;
 1190              		.loc 1 272 9 is_stmt 1 discriminator 1 view .LVU276
 273:Core/Src/main.c **** 
 1191              		.loc 1 273 9 discriminator 1 view .LVU277
 275:Core/Src/main.c ****             vol_d * cos_table[rotation] - vol_q * sin_table[rotation];
 1192              		.loc 1 275 9 discriminator 1 view .LVU278
 276:Core/Src/main.c ****         double vol_beta =
 1193              		.loc 1 276 30 is_stmt 0 discriminator 1 view .LVU279
 1194 014c C600     		lsls	r6, r0, #3
 1195 014e 474B     		ldr	r3, .L48+68
 1196 0150 03EBC003 		add	r3, r3, r0, lsl #3
 1197 0154 D3E900AB 		ldrd	r10, [r3]
 276:Core/Src/main.c ****         double vol_beta =
 1198              		.loc 1 276 19 discriminator 1 view .LVU280
 1199 0158 0022     		movs	r2, #0
 1200 015a 0023     		movs	r3, #0
 1201 015c 5046     		mov	r0, r10
 1202              	.LVL116:
 276:Core/Src/main.c ****         double vol_beta =
 1203              		.loc 1 276 19 discriminator 1 view .LVU281
 1204 015e 5946     		mov	r1, fp
 1205 0160 FFF7FEFF 		bl	__aeabi_dmul
 1206              	.LVL117:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 33


 1207 0164 0446     		mov	r4, r0
 1208 0166 0D46     		mov	r5, r1
 276:Core/Src/main.c ****         double vol_beta =
 1209              		.loc 1 276 60 discriminator 1 view .LVU282
 1210 0168 414B     		ldr	r3, .L48+72
 1211 016a 3344     		add	r3, r3, r6
 1212 016c D3E90067 		ldrd	r6, [r3]
 276:Core/Src/main.c ****         double vol_beta =
 1213              		.loc 1 276 49 discriminator 1 view .LVU283
 1214 0170 0022     		movs	r2, #0
 1215 0172 454B     		ldr	r3, .L48+96
 1216 0174 3046     		mov	r0, r6
 1217 0176 3946     		mov	r1, r7
 1218 0178 FFF7FEFF 		bl	__aeabi_dmul
 1219              	.LVL118:
 1220 017c 0246     		mov	r2, r0
 1221 017e 0B46     		mov	r3, r1
 275:Core/Src/main.c ****             vol_d * cos_table[rotation] - vol_q * sin_table[rotation];
 1222              		.loc 1 275 16 discriminator 1 view .LVU284
 1223 0180 2046     		mov	r0, r4
 1224 0182 2946     		mov	r1, r5
 1225 0184 FFF7FEFF 		bl	__aeabi_dsub
 1226              	.LVL119:
 1227 0188 0446     		mov	r4, r0
 1228 018a 0D46     		mov	r5, r1
 1229              	.LVL120:
 277:Core/Src/main.c ****             vol_d * sin_table[rotation] + vol_q * cos_table[rotation];
 1230              		.loc 1 277 9 is_stmt 1 discriminator 1 view .LVU285
 278:Core/Src/main.c **** 
 1231              		.loc 1 278 19 is_stmt 0 discriminator 1 view .LVU286
 1232 018c 0022     		movs	r2, #0
 1233 018e 0023     		movs	r3, #0
 1234 0190 3046     		mov	r0, r6
 1235 0192 3946     		mov	r1, r7
 1236 0194 FFF7FEFF 		bl	__aeabi_dmul
 1237              	.LVL121:
 1238 0198 0646     		mov	r6, r0
 1239 019a 0F46     		mov	r7, r1
 278:Core/Src/main.c **** 
 1240              		.loc 1 278 49 discriminator 1 view .LVU287
 1241 019c 0022     		movs	r2, #0
 1242 019e 3A4B     		ldr	r3, .L48+96
 1243 01a0 5046     		mov	r0, r10
 1244 01a2 5946     		mov	r1, fp
 1245 01a4 FFF7FEFF 		bl	__aeabi_dmul
 1246              	.LVL122:
 1247 01a8 0246     		mov	r2, r0
 1248 01aa 0B46     		mov	r3, r1
 277:Core/Src/main.c ****             vol_d * sin_table[rotation] + vol_q * cos_table[rotation];
 1249              		.loc 1 277 16 discriminator 1 view .LVU288
 1250 01ac 3046     		mov	r0, r6
 1251 01ae 3946     		mov	r1, r7
 1252 01b0 FFF7FEFF 		bl	__aeabi_dadd
 1253              	.LVL123:
 1254 01b4 0646     		mov	r6, r0
 1255 01b6 0F46     		mov	r7, r1
 1256              	.LVL124:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 34


 280:Core/Src/main.c ****         double vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1257              		.loc 1 280 9 is_stmt 1 discriminator 1 view .LVU289
 280:Core/Src/main.c ****         double vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1258              		.loc 1 280 16 is_stmt 0 discriminator 1 view .LVU290
 1259 01b8 1DA3     		adr	r3, .L48+8
 1260 01ba D3E90023 		ldrd	r2, [r3]
 1261 01be 2046     		mov	r0, r4
 1262 01c0 2946     		mov	r1, r5
 1263 01c2 FFF7FEFF 		bl	__aeabi_dmul
 1264              	.LVL125:
 1265 01c6 41EC180B 		vmov	d8, r0, r1
 1266              	.LVL126:
 281:Core/Src/main.c ****         double vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1267              		.loc 1 281 9 is_stmt 1 discriminator 1 view .LVU291
 281:Core/Src/main.c ****         double vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1268              		.loc 1 281 36 is_stmt 0 discriminator 1 view .LVU292
 1269 01ca 1BA3     		adr	r3, .L48+16
 1270 01cc D3E90023 		ldrd	r2, [r3]
 1271 01d0 2046     		mov	r0, r4
 1272              	.LVL127:
 281:Core/Src/main.c ****         double vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1273              		.loc 1 281 36 discriminator 1 view .LVU293
 1274 01d2 2946     		mov	r1, r5
 1275 01d4 FFF7FEFF 		bl	__aeabi_dmul
 1276              	.LVL128:
 1277 01d8 0446     		mov	r4, r0
 1278              	.LVL129:
 281:Core/Src/main.c ****         double vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1279              		.loc 1 281 36 discriminator 1 view .LVU294
 1280 01da 0D46     		mov	r5, r1
 281:Core/Src/main.c ****         double vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1281              		.loc 1 281 62 discriminator 1 view .LVU295
 1282 01dc 18A3     		adr	r3, .L48+24
 1283 01de D3E90023 		ldrd	r2, [r3]
 1284 01e2 3046     		mov	r0, r6
 1285 01e4 3946     		mov	r1, r7
 1286 01e6 FFF7FEFF 		bl	__aeabi_dmul
 1287              	.LVL130:
 1288 01ea 0646     		mov	r6, r0
 1289              	.LVL131:
 281:Core/Src/main.c ****         double vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1290              		.loc 1 281 62 discriminator 1 view .LVU296
 1291 01ec 0F46     		mov	r7, r1
 281:Core/Src/main.c ****         double vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1292              		.loc 1 281 16 discriminator 1 view .LVU297
 1293 01ee 0246     		mov	r2, r0
 1294 01f0 0B46     		mov	r3, r1
 1295 01f2 2046     		mov	r0, r4
 1296 01f4 2946     		mov	r1, r5
 1297 01f6 FFF7FEFF 		bl	__aeabi_dadd
 1298              	.LVL132:
 1299 01fa 41EC190B 		vmov	d9, r0, r1
 1300              	.LVL133:
 282:Core/Src/main.c **** 
 1301              		.loc 1 282 9 is_stmt 1 discriminator 1 view .LVU298
 282:Core/Src/main.c **** 
 1302              		.loc 1 282 16 is_stmt 0 discriminator 1 view .LVU299
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 35


 1303 01fe 3246     		mov	r2, r6
 1304 0200 3B46     		mov	r3, r7
 1305 0202 2046     		mov	r0, r4
 1306              	.LVL134:
 282:Core/Src/main.c **** 
 1307              		.loc 1 282 16 discriminator 1 view .LVU300
 1308 0204 2946     		mov	r1, r5
 1309 0206 FFF7FEFF 		bl	__aeabi_dsub
 1310              	.LVL135:
 284:Core/Src/main.c **** 
 1311              		.loc 1 284 9 is_stmt 1 discriminator 1 view .LVU301
 1312 020a 41EC120B 		vmov	d2, r0, r1
 1313 020e B0EE491A 		vmov.f32	s2, s18
 1314 0212 F0EE691A 		vmov.f32	s3, s19
 1315 0216 B0EE480A 		vmov.f32	s0, s16
 1316 021a F0EE680A 		vmov.f32	s1, s17
 1317 021e FFF7FEFF 		bl	setVoltage
 1318              	.LVL136:
 284:Core/Src/main.c **** 
 1319              		.loc 1 284 9 is_stmt 0 discriminator 1 view .LVU302
 1320              	.LBE9:
 266:Core/Src/main.c ****         /* USER CODE END WHILE */
 1321              		.loc 1 266 11 is_stmt 1 discriminator 1 view .LVU303
 1322 0222 90E7     		b	.L46
 1323              	.L49:
 1324 0224 AFF30080 		.align	3
 1325              	.L48:
 1326 0228 182D4454 		.word	1413754136
 1327 022c FB210940 		.word	1074340347
 1328 0230 C9AA8C6F 		.word	1871489737
 1329 0234 BD20EA3F 		.word	1072308413
 1330 0238 C9AA8C6F 		.word	1871489737
 1331 023c BD20DABF 		.word	-1076223811
 1332 0240 3E986566 		.word	1717934142
 1333 0244 9EA0E63F 		.word	1072079006
 1334 0248 00000000 		.word	_impure_ptr
 1335 024c 00000000 		.word	huart1
 1336 0250 00000000 		.word	htim1
 1337 0254 00000000 		.word	htim16
 1338 0258 00000000 		.word	htim3
 1339 025c 00000000 		.word	htim2
 1340 0260 00000000 		.word	htim6
 1341 0264 00040048 		.word	1207960576
 1342 0268 00806640 		.word	1080459264
 1343 026c 00000000 		.word	cos_table
 1344 0270 00000000 		.word	sin_table
 1345 0274 00000000 		.word	.LC0
 1346 0278 10000000 		.word	.LC1
 1347 027c 24000000 		.word	.LC2
 1348 0280 30000000 		.word	.LC3
 1349 0284 34000000 		.word	.LC4
 1350 0288 00001C40 		.word	1075576832
 1351              		.cfi_endproc
 1352              	.LFE133:
 1354              		.section	.bss.str.0,"aw",%nobits
 1355              		.align	2
 1358              	str.0:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 36


 1359 0000 00000000 		.space	5
 1359      00
 1360              		.global	sin_table
 1361              		.section	.bss.sin_table,"aw",%nobits
 1362              		.align	3
 1365              	sin_table:
 1366 0000 00000000 		.space	2880
 1366      00000000 
 1366      00000000 
 1366      00000000 
 1366      00000000 
 1367              		.global	cos_table
 1368              		.section	.bss.cos_table,"aw",%nobits
 1369              		.align	3
 1372              	cos_table:
 1373 0000 00000000 		.space	2880
 1373      00000000 
 1373      00000000 
 1373      00000000 
 1373      00000000 
 1374              		.text
 1375              	.Letext0:
 1376              		.file 3 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/machine/_default_ty
 1377              		.file 4 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_stdint.h"
 1378              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f303x8.h"
 1379              		.file 6 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 1380              		.file 7 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc.h"
 1381              		.file 8 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc_ex.h"
 1382              		.file 9 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_gpio.h"
 1383              		.file 10 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 1384              		.file 11 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_spi.h"
 1385              		.file 12 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_tim.h"
 1386              		.file 13 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_uart.h"
 1387              		.file 14 "Core/Inc/spi.h"
 1388              		.file 15 "Core/Inc/tim.h"
 1389              		.file 16 "Core/Inc/usart.h"
 1390              		.file 17 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/lib/gcc/arm-none-eabi/12.3.1/include/std
 1391              		.file 18 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_types.h"
 1392              		.file 19 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/reent.h"
 1393              		.file 20 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/lock.h"
 1394              		.file 21 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/stdio.h"
 1395              		.file 22 "Core/Inc/dma_printf.h"
 1396              		.file 23 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal.h"
 1397              		.file 24 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/math.h"
 1398              		.file 25 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_tim_ex.h"
 1399              		.file 26 "Core/Inc/dma.h"
 1400              		.file 27 "Core/Inc/gpio.h"
 1401              		.file 28 "<built-in>"
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 37


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:21     .text.spiCalcEvenParity:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:27     .text.spiCalcEvenParity:00000000 spiCalcEvenParity
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:93     .text.AS5048A_read:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:99     .text.AS5048A_read:00000000 AS5048A_read
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:188    .text.AS5048A_read:0000007c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:193    .text.getRotation:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:199    .text.getRotation:00000000 getRotation
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:225    .text.electrical_angle:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:231    .text.electrical_angle:00000000 electrical_angle
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:294    .text.electrical_angle:00000048 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:304    .text.setPhase:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:310    .text.setPhase:00000000 setPhase
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:450    .text.setPhase:000000d8 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:1372   .bss.cos_table:00000000 cos_table
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:461    .text.setVoltage:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:467    .text.setVoltage:00000000 setVoltage
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:567    .text.setVoltage:00000080 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:577    .text.uint2char:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:583    .text.uint2char:00000000 uint2char
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:648    .text.uint2char:0000005c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:1358   .bss.str.0:00000000 str.0
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:656    .text.HAL_UART_TxCpltCallback:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:662    .text.HAL_UART_TxCpltCallback:00000000 HAL_UART_TxCpltCallback
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:684    .text.__io_putchar:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:690    .text.__io_putchar:00000000 __io_putchar
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:719    .text.__io_getchar:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:725    .text.__io_getchar:00000000 __io_getchar
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:746    .text.Error_Handler:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:752    .text.Error_Handler:00000000 Error_Handler
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:784    .text.SystemClock_Config:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:790    .text.SystemClock_Config:00000000 SystemClock_Config
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:923    .rodata.main.str1.4:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:940    .text.main:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:946    .text.main:00000000 main
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:1326   .text.main:00000228 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:1365   .bss.sin_table:00000000 sin_table
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:1355   .bss.str.0:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:1362   .bss.sin_table:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s:1369   .bss.cos_table:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_SPI_Receive
hspi1
__aeabi_i2d
__aeabi_dmul
__aeabi_dadd
__aeabi_d2uiz
htim1
htim16
htim3
__aeabi_ddiv
__aeabi_d2iz
dma_printf_send_it
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccsN9P4i.s 			page 38


dma_printf_putc
dma_scanf_getc_blocking
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
__aeabi_dsub
HAL_Init
MX_GPIO_Init
MX_DMA_Init
MX_TIM1_Init
MX_TIM16_Init
MX_TIM2_Init
MX_TIM3_Init
MX_TIM6_Init
MX_SPI1_Init
MX_USART1_UART_Init
setbuf
dma_printf_init
dma_scanf_init
HAL_TIM_PWM_Start
HAL_TIMEx_PWMN_Start
HAL_TIM_Base_Start
cos
sin
dma_printf_puts
HAL_Delay
_impure_ptr
huart1
htim2
htim6
