ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.section	.text.spiCalcEvenParity,"ax",%progbits
  21              		.align	1
  22              		.global	spiCalcEvenParity
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	spiCalcEvenParity:
  28              	.LVL0:
  29              	.LFB126:
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****  ******************************************************************************
   4:Core/Src/main.c ****  * @file           : main.c
   5:Core/Src/main.c ****  * @brief          : Main program body
   6:Core/Src/main.c ****  ******************************************************************************
   7:Core/Src/main.c ****  * @attention
   8:Core/Src/main.c ****  *
   9:Core/Src/main.c ****  * Copyright (c) 2024 STMicroelectronics.
  10:Core/Src/main.c ****  * All rights reserved.
  11:Core/Src/main.c ****  *
  12:Core/Src/main.c ****  * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****  * in the root directory of this software component.
  14:Core/Src/main.c ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****  *
  16:Core/Src/main.c ****  ******************************************************************************
  17:Core/Src/main.c ****  */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** #include "dma.h"
  22:Core/Src/main.c **** #include "spi.h"
  23:Core/Src/main.c **** #include "tim.h"
  24:Core/Src/main.c **** #include "usart.h"
  25:Core/Src/main.c **** #include "gpio.h"
  26:Core/Src/main.c **** 
  27:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  28:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  29:Core/Src/main.c **** #include <math.h>
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 2


  30:Core/Src/main.c **** #include <stdio.h>
  31:Core/Src/main.c **** 
  32:Core/Src/main.c **** #include "dma_printf.h"
  33:Core/Src/main.c **** /* USER CODE END Includes */
  34:Core/Src/main.c **** 
  35:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  36:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  37:Core/Src/main.c **** 
  38:Core/Src/main.c **** /* USER CODE END PTD */
  39:Core/Src/main.c **** 
  40:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  41:Core/Src/main.c **** /* USER CODE BEGIN PD */
  42:Core/Src/main.c **** #define radians(x) ((x) * 3.14159265358979323846 / 180.0)
  43:Core/Src/main.c **** 
  44:Core/Src/main.c **** #define CS_LOW() HAL_GPIO_WritePin(GPIOA, GPIO_PIN_4, GPIO_PIN_RESET)
  45:Core/Src/main.c **** #define CS_HIGH() HAL_GPIO_WritePin(GPIOA, GPIO_PIN_4, GPIO_PIN_SET)
  46:Core/Src/main.c **** /* USER CODE END PD */
  47:Core/Src/main.c **** 
  48:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  49:Core/Src/main.c **** /* USER CODE BEGIN PM */
  50:Core/Src/main.c **** 
  51:Core/Src/main.c **** /* USER CODE END PM */
  52:Core/Src/main.c **** 
  53:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  54:Core/Src/main.c **** 
  55:Core/Src/main.c **** /* USER CODE BEGIN PV */
  56:Core/Src/main.c **** 
  57:Core/Src/main.c **** /* USER CODE END PV */
  58:Core/Src/main.c **** 
  59:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
  60:Core/Src/main.c **** void SystemClock_Config(void);
  61:Core/Src/main.c **** /* USER CODE BEGIN PFP */
  62:Core/Src/main.c **** 
  63:Core/Src/main.c **** /* USER CODE END PFP */
  64:Core/Src/main.c **** 
  65:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
  66:Core/Src/main.c **** /* USER CODE BEGIN 0 */
  67:Core/Src/main.c **** #define AS5048A_ANGLE 0x3FFF
  68:Core/Src/main.c **** 
  69:Core/Src/main.c **** uint8_t spiCalcEvenParity(uint16_t value) {
  30              		.loc 1 69 43 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 69 43 is_stmt 0 view .LVU1
  36 0000 0246     		mov	r2, r0
  70:Core/Src/main.c ****     uint8_t cnt = 0;
  37              		.loc 1 70 5 is_stmt 1 view .LVU2
  38              	.LVL1:
  71:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  39              		.loc 1 71 5 view .LVU3
  40              	.LBB4:
  41              		.loc 1 71 10 view .LVU4
  42              		.loc 1 71 18 is_stmt 0 view .LVU5
  43 0002 0023     		movs	r3, #0
  44              	.LBE4:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 3


  70:Core/Src/main.c ****     uint8_t cnt = 0;
  45              		.loc 1 70 13 view .LVU6
  46 0004 1846     		mov	r0, r3
  47              	.LVL2:
  48              	.LBB5:
  49              		.loc 1 71 5 view .LVU7
  50 0006 02E0     		b	.L2
  51              	.LVL3:
  52              	.L3:
  72:Core/Src/main.c ****         if (value & 0x1) {
  73:Core/Src/main.c ****             cnt++;
  74:Core/Src/main.c ****         }
  75:Core/Src/main.c ****         value >>= 1;
  53              		.loc 1 75 9 is_stmt 1 discriminator 2 view .LVU8
  54              		.loc 1 75 15 is_stmt 0 discriminator 2 view .LVU9
  55 0008 5208     		lsrs	r2, r2, #1
  56              	.LVL4:
  71:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  57              		.loc 1 71 34 is_stmt 1 discriminator 2 view .LVU10
  58 000a 0133     		adds	r3, r3, #1
  59              	.LVL5:
  71:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  60              		.loc 1 71 34 is_stmt 0 discriminator 2 view .LVU11
  61 000c DBB2     		uxtb	r3, r3
  62              	.LVL6:
  63              	.L2:
  71:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  64              		.loc 1 71 27 is_stmt 1 discriminator 1 view .LVU12
  65 000e 0F2B     		cmp	r3, #15
  66 0010 05D8     		bhi	.L5
  72:Core/Src/main.c ****         if (value & 0x1) {
  67              		.loc 1 72 9 view .LVU13
  72:Core/Src/main.c ****         if (value & 0x1) {
  68              		.loc 1 72 12 is_stmt 0 view .LVU14
  69 0012 12F0010F 		tst	r2, #1
  70 0016 F7D0     		beq	.L3
  73:Core/Src/main.c ****         }
  71              		.loc 1 73 13 is_stmt 1 view .LVU15
  73:Core/Src/main.c ****         }
  72              		.loc 1 73 16 is_stmt 0 view .LVU16
  73 0018 0130     		adds	r0, r0, #1
  74              	.LVL7:
  73:Core/Src/main.c ****         }
  75              		.loc 1 73 16 view .LVU17
  76 001a C0B2     		uxtb	r0, r0
  77              	.LVL8:
  73:Core/Src/main.c ****         }
  78              		.loc 1 73 16 view .LVU18
  79 001c F4E7     		b	.L3
  80              	.L5:
  73:Core/Src/main.c ****         }
  81              		.loc 1 73 16 view .LVU19
  82              	.LBE5:
  76:Core/Src/main.c ****     }
  77:Core/Src/main.c ****     return cnt & 0x1;
  83              		.loc 1 77 5 is_stmt 1 view .LVU20
  78:Core/Src/main.c **** }
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 4


  84              		.loc 1 78 1 is_stmt 0 view .LVU21
  85 001e 00F00100 		and	r0, r0, #1
  86              	.LVL9:
  87              		.loc 1 78 1 view .LVU22
  88 0022 7047     		bx	lr
  89              		.cfi_endproc
  90              	.LFE126:
  92              		.section	.text.AS5048A_read,"ax",%progbits
  93              		.align	1
  94              		.global	AS5048A_read
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  99              	AS5048A_read:
 100              	.LVL10:
 101              	.LFB127:
  79:Core/Src/main.c **** 
  80:Core/Src/main.c **** uint16_t AS5048A_read(uint16_t registerAddress) {
 102              		.loc 1 80 49 is_stmt 1 view -0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 8
 105              		@ frame_needed = 0, uses_anonymous_args = 0
 106              		.loc 1 80 49 is_stmt 0 view .LVU24
 107 0000 30B5     		push	{r4, r5, lr}
 108              	.LCFI0:
 109              		.cfi_def_cfa_offset 12
 110              		.cfi_offset 4, -12
 111              		.cfi_offset 5, -8
 112              		.cfi_offset 14, -4
 113 0002 83B0     		sub	sp, sp, #12
 114              	.LCFI1:
 115              		.cfi_def_cfa_offset 24
  81:Core/Src/main.c ****     uint16_t command = 0x4000 | registerAddress;
 116              		.loc 1 81 5 is_stmt 1 view .LVU25
 117              		.loc 1 81 14 is_stmt 0 view .LVU26
 118 0004 40F48044 		orr	r4, r0, #16384
 119 0008 ADF80640 		strh	r4, [sp, #6]	@ movhi
  82:Core/Src/main.c **** 
  83:Core/Src/main.c ****     // パリティビットの追加
  84:Core/Src/main.c ****     command |= spiCalcEvenParity(command) << 15;
 120              		.loc 1 84 5 is_stmt 1 view .LVU27
 121              		.loc 1 84 16 is_stmt 0 view .LVU28
 122 000c 2046     		mov	r0, r4
 123              	.LVL11:
 124              		.loc 1 84 16 view .LVU29
 125 000e FFF7FEFF 		bl	spiCalcEvenParity
 126              	.LVL12:
 127              		.loc 1 84 13 view .LVU30
 128 0012 44EAC034 		orr	r4, r4, r0, lsl #15
 129 0016 ADF80640 		strh	r4, [sp, #6]	@ movhi
  85:Core/Src/main.c **** 
  86:Core/Src/main.c ****     uint16_t response = 0;
 130              		.loc 1 86 5 is_stmt 1 view .LVU31
 131              		.loc 1 86 14 is_stmt 0 view .LVU32
 132 001a 0024     		movs	r4, #0
 133 001c ADF80440 		strh	r4, [sp, #4]	@ movhi
  87:Core/Src/main.c **** 
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 5


  88:Core/Src/main.c ****     // SPI通信開始
  89:Core/Src/main.c ****     CS_LOW();
 134              		.loc 1 89 5 is_stmt 1 view .LVU33
 135 0020 2246     		mov	r2, r4
 136 0022 1021     		movs	r1, #16
 137 0024 4FF09040 		mov	r0, #1207959552
 138 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 139              	.LVL13:
  90:Core/Src/main.c ****     HAL_SPI_Transmit(&hspi1, (uint8_t *)&command, 1, HAL_MAX_DELAY);
 140              		.loc 1 90 5 view .LVU34
 141 002c 134D     		ldr	r5, .L8
 142 002e 4FF0FF33 		mov	r3, #-1
 143 0032 0122     		movs	r2, #1
 144 0034 0DF10601 		add	r1, sp, #6
 145 0038 2846     		mov	r0, r5
 146 003a FFF7FEFF 		bl	HAL_SPI_Transmit
 147              	.LVL14:
  91:Core/Src/main.c ****     CS_HIGH();
 148              		.loc 1 91 5 view .LVU35
 149 003e 0122     		movs	r2, #1
 150 0040 1021     		movs	r1, #16
 151 0042 4FF09040 		mov	r0, #1207959552
 152 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 153              	.LVL15:
  92:Core/Src/main.c **** 
  93:Core/Src/main.c ****     // データ受信
  94:Core/Src/main.c ****     CS_LOW();
 154              		.loc 1 94 5 view .LVU36
 155 004a 2246     		mov	r2, r4
 156 004c 1021     		movs	r1, #16
 157 004e 4FF09040 		mov	r0, #1207959552
 158 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 159              	.LVL16:
  95:Core/Src/main.c ****     HAL_SPI_Receive(&hspi1, (uint8_t *)&response, 1, HAL_MAX_DELAY);
 160              		.loc 1 95 5 view .LVU37
 161 0056 4FF0FF33 		mov	r3, #-1
 162 005a 0122     		movs	r2, #1
 163 005c 01A9     		add	r1, sp, #4
 164 005e 2846     		mov	r0, r5
 165 0060 FFF7FEFF 		bl	HAL_SPI_Receive
 166              	.LVL17:
  96:Core/Src/main.c ****     CS_HIGH();
 167              		.loc 1 96 5 view .LVU38
 168 0064 0122     		movs	r2, #1
 169 0066 1021     		movs	r1, #16
 170 0068 4FF09040 		mov	r0, #1207959552
 171 006c FFF7FEFF 		bl	HAL_GPIO_WritePin
 172              	.LVL18:
  97:Core/Src/main.c **** 
  98:Core/Src/main.c ****     // エラービットの確認（必要に応じて実装）
  99:Core/Src/main.c ****     if (response & 0x4000) {
 173              		.loc 1 99 5 view .LVU39
 174              		.loc 1 99 18 is_stmt 0 view .LVU40
 175 0070 BDF80400 		ldrh	r0, [sp, #4]
 100:Core/Src/main.c ****         // エラー処理
 101:Core/Src/main.c ****     }
 176              		.loc 1 101 5 is_stmt 1 view .LVU41
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 6


 102:Core/Src/main.c **** 
 103:Core/Src/main.c ****     return response & 0x3FFF;  // データ部分のみ返す
 177              		.loc 1 103 5 view .LVU42
 104:Core/Src/main.c **** }
 178              		.loc 1 104 1 is_stmt 0 view .LVU43
 179 0074 C0F30D00 		ubfx	r0, r0, #0, #14
 180 0078 03B0     		add	sp, sp, #12
 181              	.LCFI2:
 182              		.cfi_def_cfa_offset 12
 183              		@ sp needed
 184 007a 30BD     		pop	{r4, r5, pc}
 185              	.L9:
 186              		.align	2
 187              	.L8:
 188 007c 00000000 		.word	hspi1
 189              		.cfi_endproc
 190              	.LFE127:
 192              		.section	.text.getRotation,"ax",%progbits
 193              		.align	1
 194              		.global	getRotation
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 199              	getRotation:
 200              	.LFB128:
 105:Core/Src/main.c **** 
 106:Core/Src/main.c **** int16_t getRotation() {
 201              		.loc 1 106 23 is_stmt 1 view -0
 202              		.cfi_startproc
 203              		@ args = 0, pretend = 0, frame = 0
 204              		@ frame_needed = 0, uses_anonymous_args = 0
 205 0000 08B5     		push	{r3, lr}
 206              	.LCFI3:
 207              		.cfi_def_cfa_offset 8
 208              		.cfi_offset 3, -8
 209              		.cfi_offset 14, -4
 107:Core/Src/main.c ****     uint16_t data = AS5048A_read(AS5048A_ANGLE);
 210              		.loc 1 107 5 view .LVU45
 211              		.loc 1 107 21 is_stmt 0 view .LVU46
 212 0002 43F6FF70 		movw	r0, #16383
 213 0006 FFF7FEFF 		bl	AS5048A_read
 214              	.LVL19:
 108:Core/Src/main.c ****     int16_t rotation = (int16_t)data;
 215              		.loc 1 108 5 is_stmt 1 view .LVU47
 109:Core/Src/main.c ****     return rotation;
 216              		.loc 1 109 5 view .LVU48
 110:Core/Src/main.c **** }
 217              		.loc 1 110 1 is_stmt 0 view .LVU49
 218 000a 00B2     		sxth	r0, r0
 219              		.loc 1 110 1 view .LVU50
 220 000c 08BD     		pop	{r3, pc}
 221              		.cfi_endproc
 222              	.LFE128:
 224              		.global	__aeabi_i2d
 225              		.global	__aeabi_dmul
 226              		.global	__aeabi_dadd
 227              		.global	__aeabi_d2uiz
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 7


 228              		.section	.text.setPhase,"ax",%progbits
 229              		.align	1
 230              		.global	setPhase
 231              		.syntax unified
 232              		.thumb
 233              		.thumb_func
 235              	setPhase:
 236              	.LVL20:
 237              	.LFB129:
 111:Core/Src/main.c **** 
 112:Core/Src/main.c **** double cos_table[360];
 113:Core/Src/main.c **** void setPhase(uint16_t phase, uint16_t pwm_pwr) {
 238              		.loc 1 113 49 is_stmt 1 view -0
 239              		.cfi_startproc
 240              		@ args = 0, pretend = 0, frame = 8
 241              		@ frame_needed = 0, uses_anonymous_args = 0
 242              		.loc 1 113 49 is_stmt 0 view .LVU52
 243 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 244              	.LCFI4:
 245              		.cfi_def_cfa_offset 36
 246              		.cfi_offset 4, -36
 247              		.cfi_offset 5, -32
 248              		.cfi_offset 6, -28
 249              		.cfi_offset 7, -24
 250              		.cfi_offset 8, -20
 251              		.cfi_offset 9, -16
 252              		.cfi_offset 10, -12
 253              		.cfi_offset 11, -8
 254              		.cfi_offset 14, -4
 255 0004 83B0     		sub	sp, sp, #12
 256              	.LCFI5:
 257              		.cfi_def_cfa_offset 48
 258 0006 8346     		mov	fp, r0
 114:Core/Src/main.c ****     uint16_t sinwave[3];
 259              		.loc 1 114 5 is_stmt 1 view .LVU53
 115:Core/Src/main.c **** 
 116:Core/Src/main.c ****     sinwave[0] = pwm_pwr + pwm_pwr * cos_table[(phase + 0) % 360];
 260              		.loc 1 116 5 view .LVU54
 261              		.loc 1 116 26 is_stmt 0 view .LVU55
 262 0008 0846     		mov	r0, r1
 263              	.LVL21:
 264              		.loc 1 116 26 view .LVU56
 265 000a FFF7FEFF 		bl	__aeabi_i2d
 266              	.LVL22:
 267              		.loc 1 116 26 view .LVU57
 268 000e 0646     		mov	r6, r0
 269 0010 0F46     		mov	r7, r1
 270              		.loc 1 116 60 view .LVU58
 271 0012 314C     		ldr	r4, .L14
 272 0014 84FB0B23 		smull	r2, r3, r4, fp
 273 0018 5B44     		add	r3, r3, fp
 274 001a 1B12     		asrs	r3, r3, #8
 275 001c 4FF4B47A 		mov	r10, #360
 276 0020 0AFB13B3 		mls	r3, r10, r3, fp
 277              		.loc 1 116 47 view .LVU59
 278 0024 2D4D     		ldr	r5, .L14+4
 279 0026 05EBC303 		add	r3, r5, r3, lsl #3
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 8


 280              		.loc 1 116 36 view .LVU60
 281 002a D3E90023 		ldrd	r2, [r3]
 282 002e FFF7FEFF 		bl	__aeabi_dmul
 283              	.LVL23:
 284 0032 0246     		mov	r2, r0
 285 0034 0B46     		mov	r3, r1
 286              		.loc 1 116 26 view .LVU61
 287 0036 3046     		mov	r0, r6
 288 0038 3946     		mov	r1, r7
 289 003a FFF7FEFF 		bl	__aeabi_dadd
 290              	.LVL24:
 291              		.loc 1 116 16 view .LVU62
 292 003e FFF7FEFF 		bl	__aeabi_d2uiz
 293              	.LVL25:
 294 0042 1FFA80F9 		uxth	r9, r0
 295 0046 ADF80090 		strh	r9, [sp]	@ movhi
 117:Core/Src/main.c ****     sinwave[1] = pwm_pwr + pwm_pwr * cos_table[(phase + 120) % 360];
 296              		.loc 1 117 5 is_stmt 1 view .LVU63
 297              		.loc 1 117 55 is_stmt 0 view .LVU64
 298 004a 0BF17802 		add	r2, fp, #120
 299              		.loc 1 117 62 view .LVU65
 300 004e 84FB0213 		smull	r1, r3, r4, r2
 301 0052 1344     		add	r3, r3, r2
 302 0054 1B12     		asrs	r3, r3, #8
 303 0056 0AFB1323 		mls	r3, r10, r3, r2
 304              		.loc 1 117 47 view .LVU66
 305 005a 05EBC303 		add	r3, r5, r3, lsl #3
 306              		.loc 1 117 36 view .LVU67
 307 005e D3E90023 		ldrd	r2, [r3]
 308 0062 3046     		mov	r0, r6
 309 0064 3946     		mov	r1, r7
 310 0066 FFF7FEFF 		bl	__aeabi_dmul
 311              	.LVL26:
 312 006a 0246     		mov	r2, r0
 313 006c 0B46     		mov	r3, r1
 314              		.loc 1 117 26 view .LVU68
 315 006e 3046     		mov	r0, r6
 316 0070 3946     		mov	r1, r7
 317 0072 FFF7FEFF 		bl	__aeabi_dadd
 318              	.LVL27:
 319              		.loc 1 117 16 view .LVU69
 320 0076 FFF7FEFF 		bl	__aeabi_d2uiz
 321              	.LVL28:
 322 007a 1FFA80F8 		uxth	r8, r0
 323 007e ADF80280 		strh	r8, [sp, #2]	@ movhi
 118:Core/Src/main.c ****     sinwave[2] = pwm_pwr + pwm_pwr * cos_table[(phase + 240) % 360];
 324              		.loc 1 118 5 is_stmt 1 view .LVU70
 325              		.loc 1 118 55 is_stmt 0 view .LVU71
 326 0082 0BF1F00B 		add	fp, fp, #240
 327              		.loc 1 118 62 view .LVU72
 328 0086 84FB0B34 		smull	r3, r4, r4, fp
 329 008a 5C44     		add	r4, r4, fp
 330 008c 2412     		asrs	r4, r4, #8
 331 008e 0AFB14B4 		mls	r4, r10, r4, fp
 332              		.loc 1 118 47 view .LVU73
 333 0092 05EBC405 		add	r5, r5, r4, lsl #3
 334              		.loc 1 118 36 view .LVU74
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 9


 335 0096 D5E90023 		ldrd	r2, [r5]
 336 009a 3046     		mov	r0, r6
 337 009c 3946     		mov	r1, r7
 338 009e FFF7FEFF 		bl	__aeabi_dmul
 339              	.LVL29:
 340 00a2 0246     		mov	r2, r0
 341 00a4 0B46     		mov	r3, r1
 342              		.loc 1 118 26 view .LVU75
 343 00a6 3046     		mov	r0, r6
 344 00a8 3946     		mov	r1, r7
 345 00aa FFF7FEFF 		bl	__aeabi_dadd
 346              	.LVL30:
 347              		.loc 1 118 16 view .LVU76
 348 00ae FFF7FEFF 		bl	__aeabi_d2uiz
 349              	.LVL31:
 350 00b2 80B2     		uxth	r0, r0
 351 00b4 ADF80400 		strh	r0, [sp, #4]	@ movhi
 119:Core/Src/main.c ****     // A相
 120:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_1, sinwave[0]);
 352              		.loc 1 120 5 is_stmt 1 view .LVU77
 353 00b8 094B     		ldr	r3, .L14+8
 354 00ba 1B68     		ldr	r3, [r3]
 355 00bc C3F83490 		str	r9, [r3, #52]
 121:Core/Src/main.c **** 
 122:Core/Src/main.c ****     // B相
 123:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim16, TIM_CHANNEL_1, sinwave[1]);
 356              		.loc 1 123 5 view .LVU78
 357 00c0 084A     		ldr	r2, .L14+12
 358 00c2 1268     		ldr	r2, [r2]
 359 00c4 C2F83480 		str	r8, [r2, #52]
 124:Core/Src/main.c **** 
 125:Core/Src/main.c ****     // C相
 126:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_4, sinwave[2]);
 360              		.loc 1 126 5 view .LVU79
 361 00c8 074A     		ldr	r2, .L14+16
 362 00ca 1268     		ldr	r2, [r2]
 363 00cc 1064     		str	r0, [r2, #64]
 127:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_3, sinwave[2]);
 364              		.loc 1 127 5 view .LVU80
 365 00ce D863     		str	r0, [r3, #60]
 128:Core/Src/main.c **** }
 366              		.loc 1 128 1 is_stmt 0 view .LVU81
 367 00d0 03B0     		add	sp, sp, #12
 368              	.LCFI6:
 369              		.cfi_def_cfa_offset 36
 370              		@ sp needed
 371 00d2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 372              	.L15:
 373 00d6 00BF     		.align	2
 374              	.L14:
 375 00d8 B7600BB6 		.word	-1240768329
 376 00dc 00000000 		.word	cos_table
 377 00e0 00000000 		.word	htim1
 378 00e4 00000000 		.word	htim16
 379 00e8 00000000 		.word	htim3
 380              		.cfi_endproc
 381              	.LFE129:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 10


 383              		.section	.text.uint2char,"ax",%progbits
 384              		.align	1
 385              		.global	uint2char
 386              		.syntax unified
 387              		.thumb
 388              		.thumb_func
 390              	uint2char:
 391              	.LVL32:
 392              	.LFB130:
 129:Core/Src/main.c **** 
 130:Core/Src/main.c **** char *uint2char(uint16_t num) {
 393              		.loc 1 130 31 is_stmt 1 view -0
 394              		.cfi_startproc
 395              		@ args = 0, pretend = 0, frame = 0
 396              		@ frame_needed = 0, uses_anonymous_args = 0
 397              		@ link register save eliminated.
 398              		.loc 1 130 31 is_stmt 0 view .LVU83
 399 0000 0146     		mov	r1, r0
 131:Core/Src/main.c ****     static char str[5];
 400              		.loc 1 131 5 is_stmt 1 view .LVU84
 132:Core/Src/main.c ****     str[0] = num / 1000 + '0';
 401              		.loc 1 132 5 view .LVU85
 402              		.loc 1 132 25 is_stmt 0 view .LVU86
 403 0002 164B     		ldr	r3, .L17
 404 0004 A3FB0023 		umull	r2, r3, r3, r0
 405 0008 9B09     		lsrs	r3, r3, #6
 406 000a 03F13002 		add	r2, r3, #48
 407              		.loc 1 132 12 view .LVU87
 408 000e 1448     		ldr	r0, .L17+4
 409              	.LVL33:
 410              		.loc 1 132 12 view .LVU88
 411 0010 0270     		strb	r2, [r0]
 133:Core/Src/main.c ****     str[1] = (num % 1000) / 100 + '0';
 412              		.loc 1 133 5 is_stmt 1 view .LVU89
 413              		.loc 1 133 33 is_stmt 0 view .LVU90
 414 0012 4FF47A72 		mov	r2, #1000
 415 0016 02FB1312 		mls	r2, r2, r3, r1
 416 001a 92B2     		uxth	r2, r2
 417 001c 114B     		ldr	r3, .L17+8
 418 001e A3FB02C2 		umull	ip, r2, r3, r2
 419 0022 5209     		lsrs	r2, r2, #5
 420 0024 3032     		adds	r2, r2, #48
 421              		.loc 1 133 12 view .LVU91
 422 0026 4270     		strb	r2, [r0, #1]
 134:Core/Src/main.c ****     str[2] = (num % 100) / 10 + '0';
 423              		.loc 1 134 5 is_stmt 1 view .LVU92
 424              		.loc 1 134 31 is_stmt 0 view .LVU93
 425 0028 A3FB0123 		umull	r2, r3, r3, r1
 426 002c 5B09     		lsrs	r3, r3, #5
 427 002e 6422     		movs	r2, #100
 428 0030 02FB1313 		mls	r3, r2, r3, r1
 429 0034 9BB2     		uxth	r3, r3
 430 0036 0C4A     		ldr	r2, .L17+12
 431 0038 A2FB03C3 		umull	ip, r3, r2, r3
 432 003c DB08     		lsrs	r3, r3, #3
 433 003e 3033     		adds	r3, r3, #48
 434              		.loc 1 134 12 view .LVU94
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 11


 435 0040 8370     		strb	r3, [r0, #2]
 135:Core/Src/main.c ****     str[3] = num % 10 + '0';
 436              		.loc 1 135 5 is_stmt 1 view .LVU95
 437              		.loc 1 135 23 is_stmt 0 view .LVU96
 438 0042 A2FB0123 		umull	r2, r3, r2, r1
 439 0046 DB08     		lsrs	r3, r3, #3
 440 0048 03EB8303 		add	r3, r3, r3, lsl #2
 441 004c A1EB4301 		sub	r1, r1, r3, lsl #1
 442 0050 3031     		adds	r1, r1, #48
 443              		.loc 1 135 12 view .LVU97
 444 0052 C170     		strb	r1, [r0, #3]
 136:Core/Src/main.c ****     str[4] = '\0';
 445              		.loc 1 136 5 is_stmt 1 view .LVU98
 446              		.loc 1 136 12 is_stmt 0 view .LVU99
 447 0054 0023     		movs	r3, #0
 448 0056 0371     		strb	r3, [r0, #4]
 137:Core/Src/main.c **** 
 138:Core/Src/main.c ****     return str;
 449              		.loc 1 138 5 is_stmt 1 view .LVU100
 139:Core/Src/main.c **** }
 450              		.loc 1 139 1 is_stmt 0 view .LVU101
 451 0058 7047     		bx	lr
 452              	.L18:
 453 005a 00BF     		.align	2
 454              	.L17:
 455 005c D34D6210 		.word	274877907
 456 0060 00000000 		.word	str.0
 457 0064 1F85EB51 		.word	1374389535
 458 0068 CDCCCCCC 		.word	-858993459
 459              		.cfi_endproc
 460              	.LFE130:
 462              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 463              		.align	1
 464              		.global	HAL_UART_TxCpltCallback
 465              		.syntax unified
 466              		.thumb
 467              		.thumb_func
 469              	HAL_UART_TxCpltCallback:
 470              	.LVL34:
 471              	.LFB133:
 140:Core/Src/main.c **** 
 141:Core/Src/main.c **** /* USER CODE END 0 */
 142:Core/Src/main.c **** 
 143:Core/Src/main.c **** /**
 144:Core/Src/main.c ****  * @brief  The application entry point.
 145:Core/Src/main.c ****  * @retval int
 146:Core/Src/main.c ****  */
 147:Core/Src/main.c **** int main(void) {
 148:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 149:Core/Src/main.c **** 
 150:Core/Src/main.c ****     /* USER CODE END 1 */
 151:Core/Src/main.c **** 
 152:Core/Src/main.c ****     /* MCU
 153:Core/Src/main.c ****      * Configuration--------------------------------------------------------*/
 154:Core/Src/main.c **** 
 155:Core/Src/main.c ****     /* Reset of all peripherals, Initializes the Flash interface and the
 156:Core/Src/main.c ****      * Systick. */
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 12


 157:Core/Src/main.c ****     HAL_Init();
 158:Core/Src/main.c **** 
 159:Core/Src/main.c ****     /* USER CODE BEGIN Init */
 160:Core/Src/main.c **** 
 161:Core/Src/main.c ****     /* USER CODE END Init */
 162:Core/Src/main.c **** 
 163:Core/Src/main.c ****     /* Configure the system clock */
 164:Core/Src/main.c ****     SystemClock_Config();
 165:Core/Src/main.c **** 
 166:Core/Src/main.c ****     /* USER CODE BEGIN SysInit */
 167:Core/Src/main.c **** 
 168:Core/Src/main.c ****     /* USER CODE END SysInit */
 169:Core/Src/main.c **** 
 170:Core/Src/main.c ****     /* Initialize all configured peripherals */
 171:Core/Src/main.c ****     MX_GPIO_Init();
 172:Core/Src/main.c ****     MX_DMA_Init();
 173:Core/Src/main.c ****     MX_TIM1_Init();
 174:Core/Src/main.c ****     MX_TIM16_Init();
 175:Core/Src/main.c ****     MX_TIM2_Init();
 176:Core/Src/main.c ****     MX_TIM3_Init();
 177:Core/Src/main.c ****     MX_TIM6_Init();
 178:Core/Src/main.c ****     MX_SPI1_Init();
 179:Core/Src/main.c ****     MX_USART1_UART_Init();
 180:Core/Src/main.c ****     /* USER CODE BEGIN 2 */
 181:Core/Src/main.c ****     setbuf(stdin, NULL);
 182:Core/Src/main.c ****     setbuf(stdout, NULL);
 183:Core/Src/main.c ****     setbuf(stderr, NULL);
 184:Core/Src/main.c ****     dma_printf_init(&huart1);
 185:Core/Src/main.c ****     dma_scanf_init(&huart1);
 186:Core/Src/main.c **** 
 187:Core/Src/main.c ****     // A相
 188:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_1);     // H
 189:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_1);  // L
 190:Core/Src/main.c **** 
 191:Core/Src/main.c ****     // B相
 192:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim16, TIM_CHANNEL_1);     // H
 193:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim16, TIM_CHANNEL_1);  // L
 194:Core/Src/main.c **** 
 195:Core/Src/main.c ****     // C相
 196:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_4);     // H
 197:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_3);  // L
 198:Core/Src/main.c **** 
 199:Core/Src/main.c ****     // デバッグ用LED
 200:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_1);
 201:Core/Src/main.c **** 
 202:Core/Src/main.c ****     // タイマー用
 203:Core/Src/main.c ****     HAL_TIM_Base_Start(&htim6);
 204:Core/Src/main.c **** 
 205:Core/Src/main.c ****     // DRVOFF
 206:Core/Src/main.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_1, GPIO_PIN_RESET);
 207:Core/Src/main.c **** 
 208:Core/Src/main.c ****     /* USER CODE END 2 */
 209:Core/Src/main.c **** 
 210:Core/Src/main.c ****     /* Infinite loop */
 211:Core/Src/main.c ****     /* USER CODE BEGIN WHILE */
 212:Core/Src/main.c ****     for (int i = 0; i < 360; i++) {
 213:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 13


 214:Core/Src/main.c ****     }
 215:Core/Src/main.c **** 
 216:Core/Src/main.c ****     dma_printf_puts("BLDRV Gen2\r\n");
 217:Core/Src/main.c ****     dma_printf_puts("Calibration Start\r\n");
 218:Core/Src/main.c ****     setPhase(0, 50);
 219:Core/Src/main.c ****     HAL_Delay(500);
 220:Core/Src/main.c **** 
 221:Core/Src/main.c ****     int offset = getRotation();
 222:Core/Src/main.c ****     offset = getRotation();
 223:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 224:Core/Src/main.c ****     dma_printf_puts(uint2char(offset));
 225:Core/Src/main.c ****     dma_printf_puts("\r\n");
 226:Core/Src/main.c ****     dma_printf_puts("Calibration End\r\n");
 227:Core/Src/main.c **** 
 228:Core/Src/main.c ****     while (1) {
 229:Core/Src/main.c ****         /* USER CODE END WHILE */
 230:Core/Src/main.c **** 
 231:Core/Src/main.c ****         /* USER CODE BEGIN 3 */
 232:Core/Src/main.c ****         uint16_t sinwave[3];
 233:Core/Src/main.c ****         uint16_t pwm_pwr = 400;
 234:Core/Src/main.c **** 
 235:Core/Src/main.c ****         static int phase = 0;
 236:Core/Src/main.c **** 
 237:Core/Src/main.c ****         uint32_t rotation = getRotation() - offset;
 238:Core/Src/main.c ****         rotation += 8192;
 239:Core/Src/main.c ****         rotation %= 8192;
 240:Core/Src/main.c **** 
 241:Core/Src/main.c ****         // 7回で一回転
 242:Core/Src/main.c ****         rotation %= 1170;
 243:Core/Src/main.c ****         rotation *= 360;
 244:Core/Src/main.c ****         rotation /= 1170;
 245:Core/Src/main.c ****         rotation %= 360;
 246:Core/Src/main.c **** 
 247:Core/Src/main.c ****         rotation += 90;
 248:Core/Src/main.c ****         rotation %= 360;
 249:Core/Src/main.c **** 
 250:Core/Src/main.c **** 
 251:Core/Src/main.c ****         setPhase(rotation, pwm_pwr);
 252:Core/Src/main.c **** 
 253:Core/Src/main.c ****         // dma_printf_puts("Angle: ");
 254:Core/Src/main.c ****         // dma_printf_puts(uint2char(rotation));
 255:Core/Src/main.c ****         // dma_printf_puts("\r\n");
 256:Core/Src/main.c ****     }
 257:Core/Src/main.c ****     /* USER CODE END 3 */
 258:Core/Src/main.c **** }
 259:Core/Src/main.c **** 
 260:Core/Src/main.c **** /**
 261:Core/Src/main.c ****  * @brief System Clock Configuration
 262:Core/Src/main.c ****  * @retval None
 263:Core/Src/main.c ****  */
 264:Core/Src/main.c **** void SystemClock_Config(void) {
 265:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 266:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 267:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 268:Core/Src/main.c **** 
 269:Core/Src/main.c ****     /** Initializes the RCC Oscillators according to the specified parameters
 270:Core/Src/main.c ****      * in the RCC_OscInitTypeDef structure.
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 14


 271:Core/Src/main.c ****      */
 272:Core/Src/main.c ****     RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
 273:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 274:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 275:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 276:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 277:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL8;
 278:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 279:Core/Src/main.c ****         Error_Handler();
 280:Core/Src/main.c ****     }
 281:Core/Src/main.c **** 
 282:Core/Src/main.c ****     /** Initializes the CPU, AHB and APB buses clocks
 283:Core/Src/main.c ****      */
 284:Core/Src/main.c ****     RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK |
 285:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 286:Core/Src/main.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 287:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 288:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 289:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 290:Core/Src/main.c **** 
 291:Core/Src/main.c ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_1) != HAL_OK) {
 292:Core/Src/main.c ****         Error_Handler();
 293:Core/Src/main.c ****     }
 294:Core/Src/main.c ****     PeriphClkInit.PeriphClockSelection =
 295:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 296:Core/Src/main.c ****     PeriphClkInit.Usart1ClockSelection = RCC_USART1CLKSOURCE_PCLK1;
 297:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 298:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 299:Core/Src/main.c ****         Error_Handler();
 300:Core/Src/main.c ****     }
 301:Core/Src/main.c **** }
 302:Core/Src/main.c **** 
 303:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 304:Core/Src/main.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart) {
 472              		.loc 1 304 57 is_stmt 1 view -0
 473              		.cfi_startproc
 474              		@ args = 0, pretend = 0, frame = 0
 475              		@ frame_needed = 0, uses_anonymous_args = 0
 476              		.loc 1 304 57 is_stmt 0 view .LVU103
 477 0000 08B5     		push	{r3, lr}
 478              	.LCFI7:
 479              		.cfi_def_cfa_offset 8
 480              		.cfi_offset 3, -8
 481              		.cfi_offset 14, -4
 305:Core/Src/main.c ****     dma_printf_send_it(huart);
 482              		.loc 1 305 5 is_stmt 1 view .LVU104
 483 0002 FFF7FEFF 		bl	dma_printf_send_it
 484              	.LVL35:
 306:Core/Src/main.c **** }
 485              		.loc 1 306 1 is_stmt 0 view .LVU105
 486 0006 08BD     		pop	{r3, pc}
 487              		.cfi_endproc
 488              	.LFE133:
 490              		.section	.text.__io_putchar,"ax",%progbits
 491              		.align	1
 492              		.global	__io_putchar
 493              		.syntax unified
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 15


 494              		.thumb
 495              		.thumb_func
 497              	__io_putchar:
 498              	.LVL36:
 499              	.LFB134:
 307:Core/Src/main.c **** int __io_putchar(int ch) {
 500              		.loc 1 307 26 is_stmt 1 view -0
 501              		.cfi_startproc
 502              		@ args = 0, pretend = 0, frame = 0
 503              		@ frame_needed = 0, uses_anonymous_args = 0
 504              		.loc 1 307 26 is_stmt 0 view .LVU107
 505 0000 10B5     		push	{r4, lr}
 506              	.LCFI8:
 507              		.cfi_def_cfa_offset 8
 508              		.cfi_offset 4, -8
 509              		.cfi_offset 14, -4
 510 0002 0446     		mov	r4, r0
 308:Core/Src/main.c ****     dma_printf_putc(ch & 0xFF);
 511              		.loc 1 308 5 is_stmt 1 view .LVU108
 512 0004 C0B2     		uxtb	r0, r0
 513              	.LVL37:
 514              		.loc 1 308 5 is_stmt 0 view .LVU109
 515 0006 FFF7FEFF 		bl	dma_printf_putc
 516              	.LVL38:
 309:Core/Src/main.c ****     return ch;
 517              		.loc 1 309 5 is_stmt 1 view .LVU110
 310:Core/Src/main.c **** }
 518              		.loc 1 310 1 is_stmt 0 view .LVU111
 519 000a 2046     		mov	r0, r4
 520 000c 10BD     		pop	{r4, pc}
 521              		.loc 1 310 1 view .LVU112
 522              		.cfi_endproc
 523              	.LFE134:
 525              		.section	.text.__io_getchar,"ax",%progbits
 526              		.align	1
 527              		.global	__io_getchar
 528              		.syntax unified
 529              		.thumb
 530              		.thumb_func
 532              	__io_getchar:
 533              	.LFB135:
 311:Core/Src/main.c **** 
 312:Core/Src/main.c **** int __io_getchar(void) {
 534              		.loc 1 312 24 is_stmt 1 view -0
 535              		.cfi_startproc
 536              		@ args = 0, pretend = 0, frame = 0
 537              		@ frame_needed = 0, uses_anonymous_args = 0
 538 0000 08B5     		push	{r3, lr}
 539              	.LCFI9:
 540              		.cfi_def_cfa_offset 8
 541              		.cfi_offset 3, -8
 542              		.cfi_offset 14, -4
 313:Core/Src/main.c ****     return dma_scanf_getc_blocking();
 543              		.loc 1 313 5 view .LVU114
 544              		.loc 1 313 12 is_stmt 0 view .LVU115
 545 0002 FFF7FEFF 		bl	dma_scanf_getc_blocking
 546              	.LVL39:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 16


 314:Core/Src/main.c **** }
 547              		.loc 1 314 1 view .LVU116
 548 0006 08BD     		pop	{r3, pc}
 549              		.cfi_endproc
 550              	.LFE135:
 552              		.section	.text.Error_Handler,"ax",%progbits
 553              		.align	1
 554              		.global	Error_Handler
 555              		.syntax unified
 556              		.thumb
 557              		.thumb_func
 559              	Error_Handler:
 560              	.LFB136:
 315:Core/Src/main.c **** 
 316:Core/Src/main.c **** /* USER CODE END 4 */
 317:Core/Src/main.c **** 
 318:Core/Src/main.c **** /**
 319:Core/Src/main.c ****  * @brief  This function is executed in case of error occurrence.
 320:Core/Src/main.c ****  * @retval None
 321:Core/Src/main.c ****  */
 322:Core/Src/main.c **** void Error_Handler(void) {
 561              		.loc 1 322 26 is_stmt 1 view -0
 562              		.cfi_startproc
 563              		@ Volatile: function does not return.
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              		@ link register save eliminated.
 323:Core/Src/main.c ****     /* USER CODE BEGIN Error_Handler_Debug */
 324:Core/Src/main.c ****     /* User can add his own implementation to report the HAL error return state
 325:Core/Src/main.c ****      */
 326:Core/Src/main.c ****     __disable_irq();
 567              		.loc 1 326 5 view .LVU118
 568              	.LBB6:
 569              	.LBI6:
 570              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 17


  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 18


  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 19


 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 571              		.loc 2 140 27 view .LVU119
 572              	.LBB7:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 573              		.loc 2 142 3 view .LVU120
 574              		.syntax unified
 575              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 576 0000 72B6     		cpsid i
 577              	@ 0 "" 2
 578              		.thumb
 579              		.syntax unified
 580              	.L26:
 581              	.LBE7:
 582              	.LBE6:
 327:Core/Src/main.c ****     while (1) {
 583              		.loc 1 327 5 discriminator 1 view .LVU121
 328:Core/Src/main.c ****     }
 584              		.loc 1 328 5 discriminator 1 view .LVU122
 327:Core/Src/main.c ****     while (1) {
 585              		.loc 1 327 11 discriminator 1 view .LVU123
 586 0002 FEE7     		b	.L26
 587              		.cfi_endproc
 588              	.LFE136:
 590              		.section	.text.SystemClock_Config,"ax",%progbits
 591              		.align	1
 592              		.global	SystemClock_Config
 593              		.syntax unified
 594              		.thumb
 595              		.thumb_func
 597              	SystemClock_Config:
 598              	.LFB132:
 264:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 599              		.loc 1 264 31 view -0
 600              		.cfi_startproc
 601              		@ args = 0, pretend = 0, frame = 88
 602              		@ frame_needed = 0, uses_anonymous_args = 0
 603 0000 00B5     		push	{lr}
 604              	.LCFI10:
 605              		.cfi_def_cfa_offset 4
 606              		.cfi_offset 14, -4
 607 0002 97B0     		sub	sp, sp, #92
 608              	.LCFI11:
 609              		.cfi_def_cfa_offset 96
 265:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 610              		.loc 1 265 5 view .LVU125
 265:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 611              		.loc 1 265 24 is_stmt 0 view .LVU126
 612 0004 2822     		movs	r2, #40
 613 0006 0021     		movs	r1, #0
 614 0008 0CA8     		add	r0, sp, #48
 615 000a FFF7FEFF 		bl	memset
 616              	.LVL40:
 266:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 20


 617              		.loc 1 266 5 is_stmt 1 view .LVU127
 266:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 618              		.loc 1 266 24 is_stmt 0 view .LVU128
 619 000e 0023     		movs	r3, #0
 620 0010 0793     		str	r3, [sp, #28]
 621 0012 0893     		str	r3, [sp, #32]
 622 0014 0993     		str	r3, [sp, #36]
 623 0016 0A93     		str	r3, [sp, #40]
 624 0018 0B93     		str	r3, [sp, #44]
 267:Core/Src/main.c **** 
 625              		.loc 1 267 5 is_stmt 1 view .LVU129
 267:Core/Src/main.c **** 
 626              		.loc 1 267 30 is_stmt 0 view .LVU130
 627 001a 0193     		str	r3, [sp, #4]
 628 001c 0293     		str	r3, [sp, #8]
 629 001e 0393     		str	r3, [sp, #12]
 630 0020 0493     		str	r3, [sp, #16]
 631 0022 0593     		str	r3, [sp, #20]
 632 0024 0693     		str	r3, [sp, #24]
 272:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 633              		.loc 1 272 5 is_stmt 1 view .LVU131
 272:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 634              		.loc 1 272 38 is_stmt 0 view .LVU132
 635 0026 0223     		movs	r3, #2
 636 0028 0C93     		str	r3, [sp, #48]
 273:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 637              		.loc 1 273 5 is_stmt 1 view .LVU133
 273:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 638              		.loc 1 273 32 is_stmt 0 view .LVU134
 639 002a 0122     		movs	r2, #1
 640 002c 1092     		str	r2, [sp, #64]
 274:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 641              		.loc 1 274 5 is_stmt 1 view .LVU135
 274:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 642              		.loc 1 274 43 is_stmt 0 view .LVU136
 643 002e 1022     		movs	r2, #16
 644 0030 1192     		str	r2, [sp, #68]
 275:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 645              		.loc 1 275 5 is_stmt 1 view .LVU137
 275:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 646              		.loc 1 275 36 is_stmt 0 view .LVU138
 647 0032 1393     		str	r3, [sp, #76]
 276:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL8;
 648              		.loc 1 276 5 is_stmt 1 view .LVU139
 277:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 649              		.loc 1 277 5 view .LVU140
 277:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 650              		.loc 1 277 34 is_stmt 0 view .LVU141
 651 0034 4FF4C013 		mov	r3, #1572864
 652 0038 1593     		str	r3, [sp, #84]
 278:Core/Src/main.c ****         Error_Handler();
 653              		.loc 1 278 5 is_stmt 1 view .LVU142
 278:Core/Src/main.c ****         Error_Handler();
 654              		.loc 1 278 9 is_stmt 0 view .LVU143
 655 003a 0CA8     		add	r0, sp, #48
 656 003c FFF7FEFF 		bl	HAL_RCC_OscConfig
 657              	.LVL41:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 21


 278:Core/Src/main.c ****         Error_Handler();
 658              		.loc 1 278 8 view .LVU144
 659 0040 D8B9     		cbnz	r0, .L32
 284:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 660              		.loc 1 284 5 is_stmt 1 view .LVU145
 284:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 661              		.loc 1 284 33 is_stmt 0 view .LVU146
 662 0042 0F23     		movs	r3, #15
 663 0044 0793     		str	r3, [sp, #28]
 286:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 664              		.loc 1 286 5 is_stmt 1 view .LVU147
 286:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 665              		.loc 1 286 36 is_stmt 0 view .LVU148
 666 0046 0223     		movs	r3, #2
 667 0048 0893     		str	r3, [sp, #32]
 287:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 668              		.loc 1 287 5 is_stmt 1 view .LVU149
 287:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 669              		.loc 1 287 37 is_stmt 0 view .LVU150
 670 004a 0023     		movs	r3, #0
 671 004c 0993     		str	r3, [sp, #36]
 288:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 672              		.loc 1 288 5 is_stmt 1 view .LVU151
 288:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 673              		.loc 1 288 38 is_stmt 0 view .LVU152
 674 004e 4FF48062 		mov	r2, #1024
 675 0052 0A92     		str	r2, [sp, #40]
 289:Core/Src/main.c **** 
 676              		.loc 1 289 5 is_stmt 1 view .LVU153
 289:Core/Src/main.c **** 
 677              		.loc 1 289 38 is_stmt 0 view .LVU154
 678 0054 0B93     		str	r3, [sp, #44]
 291:Core/Src/main.c ****         Error_Handler();
 679              		.loc 1 291 5 is_stmt 1 view .LVU155
 291:Core/Src/main.c ****         Error_Handler();
 680              		.loc 1 291 9 is_stmt 0 view .LVU156
 681 0056 0121     		movs	r1, #1
 682 0058 07A8     		add	r0, sp, #28
 683 005a FFF7FEFF 		bl	HAL_RCC_ClockConfig
 684              	.LVL42:
 291:Core/Src/main.c ****         Error_Handler();
 685              		.loc 1 291 8 view .LVU157
 686 005e 70B9     		cbnz	r0, .L33
 294:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 687              		.loc 1 294 5 is_stmt 1 view .LVU158
 294:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 688              		.loc 1 294 40 is_stmt 0 view .LVU159
 689 0060 41F20103 		movw	r3, #4097
 690 0064 0193     		str	r3, [sp, #4]
 296:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 691              		.loc 1 296 5 is_stmt 1 view .LVU160
 296:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 692              		.loc 1 296 40 is_stmt 0 view .LVU161
 693 0066 0023     		movs	r3, #0
 694 0068 0393     		str	r3, [sp, #12]
 297:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 695              		.loc 1 297 5 is_stmt 1 view .LVU162
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 22


 297:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 696              		.loc 1 297 38 is_stmt 0 view .LVU163
 697 006a 0693     		str	r3, [sp, #24]
 298:Core/Src/main.c ****         Error_Handler();
 698              		.loc 1 298 5 is_stmt 1 view .LVU164
 298:Core/Src/main.c ****         Error_Handler();
 699              		.loc 1 298 9 is_stmt 0 view .LVU165
 700 006c 01A8     		add	r0, sp, #4
 701 006e FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 702              	.LVL43:
 298:Core/Src/main.c ****         Error_Handler();
 703              		.loc 1 298 8 view .LVU166
 704 0072 30B9     		cbnz	r0, .L34
 301:Core/Src/main.c **** 
 705              		.loc 1 301 1 view .LVU167
 706 0074 17B0     		add	sp, sp, #92
 707              	.LCFI12:
 708              		.cfi_remember_state
 709              		.cfi_def_cfa_offset 4
 710              		@ sp needed
 711 0076 5DF804FB 		ldr	pc, [sp], #4
 712              	.L32:
 713              	.LCFI13:
 714              		.cfi_restore_state
 279:Core/Src/main.c ****     }
 715              		.loc 1 279 9 is_stmt 1 view .LVU168
 716 007a FFF7FEFF 		bl	Error_Handler
 717              	.LVL44:
 718              	.L33:
 292:Core/Src/main.c ****     }
 719              		.loc 1 292 9 view .LVU169
 720 007e FFF7FEFF 		bl	Error_Handler
 721              	.LVL45:
 722              	.L34:
 299:Core/Src/main.c ****     }
 723              		.loc 1 299 9 view .LVU170
 724 0082 FFF7FEFF 		bl	Error_Handler
 725              	.LVL46:
 726              		.cfi_endproc
 727              	.LFE132:
 729              		.global	__aeabi_ddiv
 730              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 731              		.align	2
 732              	.LC0:
 733 0000 424C4452 		.ascii	"BLDRV Gen2\015\012\000"
 733      56204765 
 733      6E320D0A 
 733      00
 734 000d 000000   		.align	2
 735              	.LC1:
 736 0010 43616C69 		.ascii	"Calibration Start\015\012\000"
 736      62726174 
 736      696F6E20 
 736      53746172 
 736      740D0A00 
 737              		.align	2
 738              	.LC2:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 23


 739 0024 4F666673 		.ascii	"Offset: \000"
 739      65743A20 
 739      00
 740 002d 000000   		.align	2
 741              	.LC3:
 742 0030 0D0A00   		.ascii	"\015\012\000"
 743 0033 00       		.align	2
 744              	.LC4:
 745 0034 43616C69 		.ascii	"Calibration End\015\012\000"
 745      62726174 
 745      696F6E20 
 745      456E640D 
 745      0A00
 746              		.section	.text.main,"ax",%progbits
 747              		.align	1
 748              		.global	main
 749              		.syntax unified
 750              		.thumb
 751              		.thumb_func
 753              	main:
 754              	.LFB131:
 147:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 755              		.loc 1 147 16 view -0
 756              		.cfi_startproc
 757              		@ args = 0, pretend = 0, frame = 0
 758              		@ frame_needed = 0, uses_anonymous_args = 0
 759 0000 38B5     		push	{r3, r4, r5, lr}
 760              	.LCFI14:
 761              		.cfi_def_cfa_offset 16
 762              		.cfi_offset 3, -16
 763              		.cfi_offset 4, -12
 764              		.cfi_offset 5, -8
 765              		.cfi_offset 14, -4
 157:Core/Src/main.c **** 
 766              		.loc 1 157 5 view .LVU172
 767 0002 FFF7FEFF 		bl	HAL_Init
 768              	.LVL47:
 164:Core/Src/main.c **** 
 769              		.loc 1 164 5 view .LVU173
 770 0006 FFF7FEFF 		bl	SystemClock_Config
 771              	.LVL48:
 171:Core/Src/main.c ****     MX_DMA_Init();
 772              		.loc 1 171 5 view .LVU174
 773 000a FFF7FEFF 		bl	MX_GPIO_Init
 774              	.LVL49:
 172:Core/Src/main.c ****     MX_TIM1_Init();
 775              		.loc 1 172 5 view .LVU175
 776 000e FFF7FEFF 		bl	MX_DMA_Init
 777              	.LVL50:
 173:Core/Src/main.c ****     MX_TIM16_Init();
 778              		.loc 1 173 5 view .LVU176
 779 0012 FFF7FEFF 		bl	MX_TIM1_Init
 780              	.LVL51:
 174:Core/Src/main.c ****     MX_TIM2_Init();
 781              		.loc 1 174 5 view .LVU177
 782 0016 FFF7FEFF 		bl	MX_TIM16_Init
 783              	.LVL52:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 24


 175:Core/Src/main.c ****     MX_TIM3_Init();
 784              		.loc 1 175 5 view .LVU178
 785 001a FFF7FEFF 		bl	MX_TIM2_Init
 786              	.LVL53:
 176:Core/Src/main.c ****     MX_TIM6_Init();
 787              		.loc 1 176 5 view .LVU179
 788 001e FFF7FEFF 		bl	MX_TIM3_Init
 789              	.LVL54:
 177:Core/Src/main.c ****     MX_SPI1_Init();
 790              		.loc 1 177 5 view .LVU180
 791 0022 FFF7FEFF 		bl	MX_TIM6_Init
 792              	.LVL55:
 178:Core/Src/main.c ****     MX_USART1_UART_Init();
 793              		.loc 1 178 5 view .LVU181
 794 0026 FFF7FEFF 		bl	MX_SPI1_Init
 795              	.LVL56:
 179:Core/Src/main.c ****     /* USER CODE BEGIN 2 */
 796              		.loc 1 179 5 view .LVU182
 797 002a FFF7FEFF 		bl	MX_USART1_UART_Init
 798              	.LVL57:
 181:Core/Src/main.c ****     setbuf(stdout, NULL);
 799              		.loc 1 181 5 view .LVU183
 181:Core/Src/main.c ****     setbuf(stdout, NULL);
 800              		.loc 1 181 12 is_stmt 0 view .LVU184
 801 002e 564C     		ldr	r4, .L40+8
 802 0030 2368     		ldr	r3, [r4]
 181:Core/Src/main.c ****     setbuf(stdout, NULL);
 803              		.loc 1 181 5 view .LVU185
 804 0032 0021     		movs	r1, #0
 805 0034 5868     		ldr	r0, [r3, #4]
 806 0036 FFF7FEFF 		bl	setbuf
 807              	.LVL58:
 182:Core/Src/main.c ****     setbuf(stderr, NULL);
 808              		.loc 1 182 5 is_stmt 1 view .LVU186
 182:Core/Src/main.c ****     setbuf(stderr, NULL);
 809              		.loc 1 182 12 is_stmt 0 view .LVU187
 810 003a 2368     		ldr	r3, [r4]
 182:Core/Src/main.c ****     setbuf(stderr, NULL);
 811              		.loc 1 182 5 view .LVU188
 812 003c 0021     		movs	r1, #0
 813 003e 9868     		ldr	r0, [r3, #8]
 814 0040 FFF7FEFF 		bl	setbuf
 815              	.LVL59:
 183:Core/Src/main.c ****     dma_printf_init(&huart1);
 816              		.loc 1 183 5 is_stmt 1 view .LVU189
 183:Core/Src/main.c ****     dma_printf_init(&huart1);
 817              		.loc 1 183 12 is_stmt 0 view .LVU190
 818 0044 2368     		ldr	r3, [r4]
 183:Core/Src/main.c ****     dma_printf_init(&huart1);
 819              		.loc 1 183 5 view .LVU191
 820 0046 0021     		movs	r1, #0
 821 0048 D868     		ldr	r0, [r3, #12]
 822 004a FFF7FEFF 		bl	setbuf
 823              	.LVL60:
 184:Core/Src/main.c ****     dma_scanf_init(&huart1);
 824              		.loc 1 184 5 is_stmt 1 view .LVU192
 825 004e 4F4C     		ldr	r4, .L40+12
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 25


 826 0050 2046     		mov	r0, r4
 827 0052 FFF7FEFF 		bl	dma_printf_init
 828              	.LVL61:
 185:Core/Src/main.c **** 
 829              		.loc 1 185 5 view .LVU193
 830 0056 2046     		mov	r0, r4
 831 0058 FFF7FEFF 		bl	dma_scanf_init
 832              	.LVL62:
 188:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_1);  // L
 833              		.loc 1 188 5 view .LVU194
 834 005c 4C4C     		ldr	r4, .L40+16
 835 005e 0021     		movs	r1, #0
 836 0060 2046     		mov	r0, r4
 837 0062 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 838              	.LVL63:
 189:Core/Src/main.c **** 
 839              		.loc 1 189 5 view .LVU195
 840 0066 0021     		movs	r1, #0
 841 0068 2046     		mov	r0, r4
 842 006a FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 843              	.LVL64:
 192:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim16, TIM_CHANNEL_1);  // L
 844              		.loc 1 192 5 view .LVU196
 845 006e 494D     		ldr	r5, .L40+20
 846 0070 0021     		movs	r1, #0
 847 0072 2846     		mov	r0, r5
 848 0074 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 849              	.LVL65:
 193:Core/Src/main.c **** 
 850              		.loc 1 193 5 view .LVU197
 851 0078 0021     		movs	r1, #0
 852 007a 2846     		mov	r0, r5
 853 007c FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 854              	.LVL66:
 196:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_3);  // L
 855              		.loc 1 196 5 view .LVU198
 856 0080 0C21     		movs	r1, #12
 857 0082 4548     		ldr	r0, .L40+24
 858 0084 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 859              	.LVL67:
 197:Core/Src/main.c **** 
 860              		.loc 1 197 5 view .LVU199
 861 0088 0821     		movs	r1, #8
 862 008a 2046     		mov	r0, r4
 863 008c FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 864              	.LVL68:
 200:Core/Src/main.c **** 
 865              		.loc 1 200 5 view .LVU200
 866 0090 0021     		movs	r1, #0
 867 0092 4248     		ldr	r0, .L40+28
 868 0094 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 869              	.LVL69:
 203:Core/Src/main.c **** 
 870              		.loc 1 203 5 view .LVU201
 871 0098 4148     		ldr	r0, .L40+32
 872 009a FFF7FEFF 		bl	HAL_TIM_Base_Start
 873              	.LVL70:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 26


 206:Core/Src/main.c **** 
 874              		.loc 1 206 5 view .LVU202
 875 009e 0022     		movs	r2, #0
 876 00a0 0221     		movs	r1, #2
 877 00a2 4048     		ldr	r0, .L40+36
 878 00a4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 879              	.LVL71:
 212:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 880              		.loc 1 212 5 view .LVU203
 881              	.LBB8:
 212:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 882              		.loc 1 212 10 view .LVU204
 212:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 883              		.loc 1 212 14 is_stmt 0 view .LVU205
 884 00a8 0024     		movs	r4, #0
 212:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 885              		.loc 1 212 5 view .LVU206
 886 00aa 15E0     		b	.L36
 887              	.LVL72:
 888              	.L37:
 213:Core/Src/main.c ****     }
 889              		.loc 1 213 9 is_stmt 1 discriminator 3 view .LVU207
 213:Core/Src/main.c ****     }
 890              		.loc 1 213 28 is_stmt 0 discriminator 3 view .LVU208
 891 00ac 2046     		mov	r0, r4
 892 00ae FFF7FEFF 		bl	__aeabi_i2d
 893              	.LVL73:
 894 00b2 33A3     		adr	r3, .L40
 895 00b4 D3E90023 		ldrd	r2, [r3]
 896 00b8 FFF7FEFF 		bl	__aeabi_dmul
 897              	.LVL74:
 213:Core/Src/main.c ****     }
 898              		.loc 1 213 24 discriminator 3 view .LVU209
 899 00bc 0022     		movs	r2, #0
 900 00be 3A4B     		ldr	r3, .L40+40
 901 00c0 FFF7FEFF 		bl	__aeabi_ddiv
 902              	.LVL75:
 903 00c4 41EC100B 		vmov	d0, r0, r1
 904 00c8 FFF7FEFF 		bl	cos
 905              	.LVL76:
 213:Core/Src/main.c ****     }
 906              		.loc 1 213 22 discriminator 3 view .LVU210
 907 00cc 374B     		ldr	r3, .L40+44
 908 00ce 03EBC403 		add	r3, r3, r4, lsl #3
 909 00d2 83ED000B 		vstr.64	d0, [r3]
 212:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 910              		.loc 1 212 31 is_stmt 1 discriminator 3 view .LVU211
 911 00d6 0134     		adds	r4, r4, #1
 912              	.LVL77:
 913              	.L36:
 212:Core/Src/main.c ****         cos_table[i] = cos(radians(i));
 914              		.loc 1 212 23 discriminator 1 view .LVU212
 915 00d8 B4F5B47F 		cmp	r4, #360
 916 00dc E6DB     		blt	.L37
 917              	.LBE8:
 216:Core/Src/main.c ****     dma_printf_puts("Calibration Start\r\n");
 918              		.loc 1 216 5 view .LVU213
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 27


 919 00de 3448     		ldr	r0, .L40+48
 920 00e0 FFF7FEFF 		bl	dma_printf_puts
 921              	.LVL78:
 217:Core/Src/main.c ****     setPhase(0, 50);
 922              		.loc 1 217 5 view .LVU214
 923 00e4 3348     		ldr	r0, .L40+52
 924 00e6 FFF7FEFF 		bl	dma_printf_puts
 925              	.LVL79:
 218:Core/Src/main.c ****     HAL_Delay(500);
 926              		.loc 1 218 5 view .LVU215
 927 00ea 3221     		movs	r1, #50
 928 00ec 0020     		movs	r0, #0
 929 00ee FFF7FEFF 		bl	setPhase
 930              	.LVL80:
 219:Core/Src/main.c **** 
 931              		.loc 1 219 5 view .LVU216
 932 00f2 4FF4FA70 		mov	r0, #500
 933 00f6 FFF7FEFF 		bl	HAL_Delay
 934              	.LVL81:
 221:Core/Src/main.c ****     offset = getRotation();
 935              		.loc 1 221 5 view .LVU217
 221:Core/Src/main.c ****     offset = getRotation();
 936              		.loc 1 221 18 is_stmt 0 view .LVU218
 937 00fa FFF7FEFF 		bl	getRotation
 938              	.LVL82:
 222:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 939              		.loc 1 222 5 is_stmt 1 view .LVU219
 222:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 940              		.loc 1 222 14 is_stmt 0 view .LVU220
 941 00fe FFF7FEFF 		bl	getRotation
 942              	.LVL83:
 943 0102 0446     		mov	r4, r0
 944              	.LVL84:
 223:Core/Src/main.c ****     dma_printf_puts(uint2char(offset));
 945              		.loc 1 223 5 is_stmt 1 view .LVU221
 946 0104 2C48     		ldr	r0, .L40+56
 947 0106 FFF7FEFF 		bl	dma_printf_puts
 948              	.LVL85:
 224:Core/Src/main.c ****     dma_printf_puts("\r\n");
 949              		.loc 1 224 5 view .LVU222
 224:Core/Src/main.c ****     dma_printf_puts("\r\n");
 950              		.loc 1 224 21 is_stmt 0 view .LVU223
 951 010a A4B2     		uxth	r4, r4
 224:Core/Src/main.c ****     dma_printf_puts("\r\n");
 952              		.loc 1 224 21 view .LVU224
 953 010c 2046     		mov	r0, r4
 954 010e FFF7FEFF 		bl	uint2char
 955              	.LVL86:
 224:Core/Src/main.c ****     dma_printf_puts("\r\n");
 956              		.loc 1 224 5 view .LVU225
 957 0112 FFF7FEFF 		bl	dma_printf_puts
 958              	.LVL87:
 225:Core/Src/main.c ****     dma_printf_puts("Calibration End\r\n");
 959              		.loc 1 225 5 is_stmt 1 view .LVU226
 960 0116 2948     		ldr	r0, .L40+60
 961 0118 FFF7FEFF 		bl	dma_printf_puts
 962              	.LVL88:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 28


 226:Core/Src/main.c **** 
 963              		.loc 1 226 5 view .LVU227
 964 011c 2848     		ldr	r0, .L40+64
 965 011e FFF7FEFF 		bl	dma_printf_puts
 966              	.LVL89:
 967              	.L38:
 228:Core/Src/main.c ****         /* USER CODE END WHILE */
 968              		.loc 1 228 5 discriminator 1 view .LVU228
 969              	.LBB9:
 232:Core/Src/main.c ****         uint16_t pwm_pwr = 400;
 970              		.loc 1 232 9 discriminator 1 view .LVU229
 233:Core/Src/main.c **** 
 971              		.loc 1 233 9 discriminator 1 view .LVU230
 235:Core/Src/main.c **** 
 972              		.loc 1 235 9 discriminator 1 view .LVU231
 237:Core/Src/main.c ****         rotation += 8192;
 973              		.loc 1 237 9 discriminator 1 view .LVU232
 237:Core/Src/main.c ****         rotation += 8192;
 974              		.loc 1 237 29 is_stmt 0 discriminator 1 view .LVU233
 975 0122 FFF7FEFF 		bl	getRotation
 976              	.LVL90:
 238:Core/Src/main.c ****         rotation %= 8192;
 977              		.loc 1 238 9 is_stmt 1 discriminator 1 view .LVU234
 239:Core/Src/main.c **** 
 978              		.loc 1 239 9 discriminator 1 view .LVU235
 242:Core/Src/main.c ****         rotation *= 360;
 979              		.loc 1 242 9 discriminator 1 view .LVU236
 242:Core/Src/main.c ****         rotation *= 360;
 980              		.loc 1 242 18 is_stmt 0 discriminator 1 view .LVU237
 981 0126 001B     		subs	r0, r0, r4
 982              	.LVL91:
 242:Core/Src/main.c ****         rotation *= 360;
 983              		.loc 1 242 18 discriminator 1 view .LVU238
 984 0128 C0F30C05 		ubfx	r5, r0, #0, #13
 985 012c C0F34B03 		ubfx	r3, r0, #1, #12
 986 0130 244A     		ldr	r2, .L40+68
 987 0132 A2FB0313 		umull	r1, r3, r2, r3
 988 0136 5B0A     		lsrs	r3, r3, #9
 989 0138 40F29241 		movw	r1, #1170
 990 013c 01FB1353 		mls	r3, r1, r3, r5
 991              	.LVL92:
 243:Core/Src/main.c ****         rotation /= 1170;
 992              		.loc 1 243 9 is_stmt 1 discriminator 1 view .LVU239
 243:Core/Src/main.c ****         rotation /= 1170;
 993              		.loc 1 243 18 is_stmt 0 discriminator 1 view .LVU240
 994 0140 4FF4B471 		mov	r1, #360
 995 0144 01FB03F3 		mul	r3, r1, r3
 996              	.LVL93:
 244:Core/Src/main.c ****         rotation %= 360;
 997              		.loc 1 244 9 is_stmt 1 discriminator 1 view .LVU241
 244:Core/Src/main.c ****         rotation %= 360;
 998              		.loc 1 244 18 is_stmt 0 discriminator 1 view .LVU242
 999 0148 5B08     		lsrs	r3, r3, #1
 1000              	.LVL94:
 244:Core/Src/main.c ****         rotation %= 360;
 1001              		.loc 1 244 18 discriminator 1 view .LVU243
 1002 014a A2FB0323 		umull	r2, r3, r2, r3
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 29


 1003              	.LVL95:
 245:Core/Src/main.c **** 
 1004              		.loc 1 245 9 is_stmt 1 discriminator 1 view .LVU244
 245:Core/Src/main.c **** 
 1005              		.loc 1 245 18 is_stmt 0 discriminator 1 view .LVU245
 1006 014e 1A0B     		lsrs	r2, r3, #12
 1007 0150 1D4D     		ldr	r5, .L40+72
 1008 0152 A5FB0202 		umull	r0, r2, r5, r2
 1009 0156 9208     		lsrs	r2, r2, #2
 1010 0158 01FB02F2 		mul	r2, r1, r2
 1011 015c C2EB5322 		rsb	r2, r2, r3, lsr #9
 1012              	.LVL96:
 247:Core/Src/main.c ****         rotation %= 360;
 1013              		.loc 1 247 9 is_stmt 1 discriminator 1 view .LVU246
 247:Core/Src/main.c ****         rotation %= 360;
 1014              		.loc 1 247 18 is_stmt 0 discriminator 1 view .LVU247
 1015 0160 5A32     		adds	r2, r2, #90
 1016              	.LVL97:
 248:Core/Src/main.c **** 
 1017              		.loc 1 248 9 is_stmt 1 discriminator 1 view .LVU248
 248:Core/Src/main.c **** 
 1018              		.loc 1 248 18 is_stmt 0 discriminator 1 view .LVU249
 1019 0162 D008     		lsrs	r0, r2, #3
 1020 0164 A5FB0050 		umull	r5, r0, r5, r0
 1021 0168 8008     		lsrs	r0, r0, #2
 1022 016a 01FB1020 		mls	r0, r1, r0, r2
 1023              	.LVL98:
 251:Core/Src/main.c **** 
 1024              		.loc 1 251 9 is_stmt 1 discriminator 1 view .LVU250
 1025 016e 4FF4C871 		mov	r1, #400
 1026 0172 80B2     		uxth	r0, r0
 1027              	.LVL99:
 251:Core/Src/main.c **** 
 1028              		.loc 1 251 9 is_stmt 0 discriminator 1 view .LVU251
 1029 0174 FFF7FEFF 		bl	setPhase
 1030              	.LVL100:
 251:Core/Src/main.c **** 
 1031              		.loc 1 251 9 discriminator 1 view .LVU252
 1032              	.LBE9:
 228:Core/Src/main.c ****         /* USER CODE END WHILE */
 1033              		.loc 1 228 11 is_stmt 1 discriminator 1 view .LVU253
 1034 0178 D3E7     		b	.L38
 1035              	.L41:
 1036 017a 00BFAFF3 		.align	3
 1036      0080
 1037              	.L40:
 1038 0180 182D4454 		.word	1413754136
 1039 0184 FB210940 		.word	1074340347
 1040 0188 00000000 		.word	_impure_ptr
 1041 018c 00000000 		.word	huart1
 1042 0190 00000000 		.word	htim1
 1043 0194 00000000 		.word	htim16
 1044 0198 00000000 		.word	htim3
 1045 019c 00000000 		.word	htim2
 1046 01a0 00000000 		.word	htim6
 1047 01a4 00040048 		.word	1207960576
 1048 01a8 00806640 		.word	1080459264
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 30


 1049 01ac 00000000 		.word	cos_table
 1050 01b0 00000000 		.word	.LC0
 1051 01b4 10000000 		.word	.LC1
 1052 01b8 24000000 		.word	.LC2
 1053 01bc 30000000 		.word	.LC3
 1054 01c0 34000000 		.word	.LC4
 1055 01c4 E1000EE0 		.word	-535953183
 1056 01c8 176CC116 		.word	381774871
 1057              		.cfi_endproc
 1058              	.LFE131:
 1060              		.section	.bss.str.0,"aw",%nobits
 1061              		.align	2
 1064              	str.0:
 1065 0000 00000000 		.space	5
 1065      00
 1066              		.global	cos_table
 1067              		.section	.bss.cos_table,"aw",%nobits
 1068              		.align	3
 1071              	cos_table:
 1072 0000 00000000 		.space	2880
 1072      00000000 
 1072      00000000 
 1072      00000000 
 1072      00000000 
 1073              		.text
 1074              	.Letext0:
 1075              		.file 3 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/machine/_default_ty
 1076              		.file 4 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_stdint.h"
 1077              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f303x8.h"
 1078              		.file 6 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 1079              		.file 7 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc.h"
 1080              		.file 8 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc_ex.h"
 1081              		.file 9 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_gpio.h"
 1082              		.file 10 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 1083              		.file 11 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_spi.h"
 1084              		.file 12 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_tim.h"
 1085              		.file 13 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_uart.h"
 1086              		.file 14 "Core/Inc/spi.h"
 1087              		.file 15 "Core/Inc/tim.h"
 1088              		.file 16 "Core/Inc/usart.h"
 1089              		.file 17 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/lib/gcc/arm-none-eabi/12.3.1/include/std
 1090              		.file 18 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_types.h"
 1091              		.file 19 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/reent.h"
 1092              		.file 20 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/lock.h"
 1093              		.file 21 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/stdio.h"
 1094              		.file 22 "Core/Inc/dma_printf.h"
 1095              		.file 23 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal.h"
 1096              		.file 24 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_tim_ex.h"
 1097              		.file 25 "Core/Inc/dma.h"
 1098              		.file 26 "Core/Inc/gpio.h"
 1099              		.file 27 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/math.h"
 1100              		.file 28 "<built-in>"
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 31


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:21     .text.spiCalcEvenParity:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:27     .text.spiCalcEvenParity:00000000 spiCalcEvenParity
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:93     .text.AS5048A_read:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:99     .text.AS5048A_read:00000000 AS5048A_read
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:188    .text.AS5048A_read:0000007c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:193    .text.getRotation:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:199    .text.getRotation:00000000 getRotation
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:229    .text.setPhase:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:235    .text.setPhase:00000000 setPhase
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:375    .text.setPhase:000000d8 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:1071   .bss.cos_table:00000000 cos_table
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:384    .text.uint2char:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:390    .text.uint2char:00000000 uint2char
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:455    .text.uint2char:0000005c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:1064   .bss.str.0:00000000 str.0
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:463    .text.HAL_UART_TxCpltCallback:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:469    .text.HAL_UART_TxCpltCallback:00000000 HAL_UART_TxCpltCallback
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:491    .text.__io_putchar:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:497    .text.__io_putchar:00000000 __io_putchar
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:526    .text.__io_getchar:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:532    .text.__io_getchar:00000000 __io_getchar
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:553    .text.Error_Handler:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:559    .text.Error_Handler:00000000 Error_Handler
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:591    .text.SystemClock_Config:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:597    .text.SystemClock_Config:00000000 SystemClock_Config
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:731    .rodata.main.str1.4:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:747    .text.main:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:753    .text.main:00000000 main
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:1038   .text.main:00000180 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:1061   .bss.str.0:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s:1068   .bss.cos_table:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_SPI_Receive
hspi1
__aeabi_i2d
__aeabi_dmul
__aeabi_dadd
__aeabi_d2uiz
htim1
htim16
htim3
dma_printf_send_it
dma_printf_putc
dma_scanf_getc_blocking
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
__aeabi_ddiv
HAL_Init
MX_GPIO_Init
MX_DMA_Init
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccaRsGtN.s 			page 32


MX_TIM1_Init
MX_TIM16_Init
MX_TIM2_Init
MX_TIM3_Init
MX_TIM6_Init
MX_SPI1_Init
MX_USART1_UART_Init
setbuf
dma_printf_init
dma_scanf_init
HAL_TIM_PWM_Start
HAL_TIMEx_PWMN_Start
HAL_TIM_Base_Start
cos
dma_printf_puts
HAL_Delay
_impure_ptr
huart1
htim2
htim6
