ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.section	.text.spiCalcEvenParity,"ax",%progbits
  21              		.align	1
  22              		.global	spiCalcEvenParity
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	spiCalcEvenParity:
  28              	.LVL0:
  29              	.LFB126:
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****  ******************************************************************************
   4:Core/Src/main.c ****  * @file           : main.c
   5:Core/Src/main.c ****  * @brief          : Main program body
   6:Core/Src/main.c ****  ******************************************************************************
   7:Core/Src/main.c ****  * @attention
   8:Core/Src/main.c ****  *
   9:Core/Src/main.c ****  * Copyright (c) 2024 STMicroelectronics.
  10:Core/Src/main.c ****  * All rights reserved.
  11:Core/Src/main.c ****  *
  12:Core/Src/main.c ****  * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****  * in the root directory of this software component.
  14:Core/Src/main.c ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****  *
  16:Core/Src/main.c ****  ******************************************************************************
  17:Core/Src/main.c ****  */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** #include "adc.h"
  22:Core/Src/main.c **** #include "dma.h"
  23:Core/Src/main.c **** #include "spi.h"
  24:Core/Src/main.c **** #include "tim.h"
  25:Core/Src/main.c **** #include "usart.h"
  26:Core/Src/main.c **** #include "gpio.h"
  27:Core/Src/main.c **** 
  28:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  29:Core/Src/main.c **** /* USER CODE BEGIN Includes */
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 2


  30:Core/Src/main.c **** #include <math.h>
  31:Core/Src/main.c **** #include <stdio.h>
  32:Core/Src/main.c **** 
  33:Core/Src/main.c **** #include "dma_printf.h"
  34:Core/Src/main.c **** /* USER CODE END Includes */
  35:Core/Src/main.c **** 
  36:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  37:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  38:Core/Src/main.c **** 
  39:Core/Src/main.c **** /* USER CODE END PTD */
  40:Core/Src/main.c **** 
  41:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  42:Core/Src/main.c **** /* USER CODE BEGIN PD */
  43:Core/Src/main.c **** #define radians(x) ((x) * 3.14159265358979323846 / 180.0)
  44:Core/Src/main.c **** 
  45:Core/Src/main.c **** #define CS_LOW() HAL_GPIO_WritePin(GPIOA, GPIO_PIN_4, GPIO_PIN_RESET)
  46:Core/Src/main.c **** #define CS_HIGH() HAL_GPIO_WritePin(GPIOA, GPIO_PIN_4, GPIO_PIN_SET)
  47:Core/Src/main.c **** /* USER CODE END PD */
  48:Core/Src/main.c **** 
  49:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  50:Core/Src/main.c **** /* USER CODE BEGIN PM */
  51:Core/Src/main.c **** 
  52:Core/Src/main.c **** /* USER CODE END PM */
  53:Core/Src/main.c **** 
  54:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  55:Core/Src/main.c **** 
  56:Core/Src/main.c **** /* USER CODE BEGIN PV */
  57:Core/Src/main.c **** 
  58:Core/Src/main.c **** /* USER CODE END PV */
  59:Core/Src/main.c **** 
  60:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
  61:Core/Src/main.c **** void SystemClock_Config(void);
  62:Core/Src/main.c **** /* USER CODE BEGIN PFP */
  63:Core/Src/main.c **** 
  64:Core/Src/main.c **** /* USER CODE END PFP */
  65:Core/Src/main.c **** 
  66:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
  67:Core/Src/main.c **** /* USER CODE BEGIN 0 */
  68:Core/Src/main.c **** #define AS5048A_ANGLE 0x3FFF
  69:Core/Src/main.c **** 
  70:Core/Src/main.c **** uint8_t spiCalcEvenParity(uint16_t value) {
  30              		.loc 1 70 43 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 70 43 is_stmt 0 view .LVU1
  36 0000 0246     		mov	r2, r0
  71:Core/Src/main.c ****     uint8_t cnt = 0;
  37              		.loc 1 71 5 is_stmt 1 view .LVU2
  38              	.LVL1:
  72:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  39              		.loc 1 72 5 view .LVU3
  40              	.LBB4:
  41              		.loc 1 72 10 view .LVU4
  42              		.loc 1 72 18 is_stmt 0 view .LVU5
  43 0002 0023     		movs	r3, #0
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 3


  44              	.LBE4:
  71:Core/Src/main.c ****     uint8_t cnt = 0;
  45              		.loc 1 71 13 view .LVU6
  46 0004 1846     		mov	r0, r3
  47              	.LVL2:
  48              	.LBB5:
  49              		.loc 1 72 5 view .LVU7
  50 0006 02E0     		b	.L2
  51              	.LVL3:
  52              	.L3:
  73:Core/Src/main.c ****         if (value & 0x1) {
  74:Core/Src/main.c ****             cnt++;
  75:Core/Src/main.c ****         }
  76:Core/Src/main.c ****         value >>= 1;
  53              		.loc 1 76 9 is_stmt 1 discriminator 2 view .LVU8
  54              		.loc 1 76 15 is_stmt 0 discriminator 2 view .LVU9
  55 0008 5208     		lsrs	r2, r2, #1
  56              	.LVL4:
  72:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  57              		.loc 1 72 34 is_stmt 1 discriminator 2 view .LVU10
  58 000a 0133     		adds	r3, r3, #1
  59              	.LVL5:
  72:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  60              		.loc 1 72 34 is_stmt 0 discriminator 2 view .LVU11
  61 000c DBB2     		uxtb	r3, r3
  62              	.LVL6:
  63              	.L2:
  72:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  64              		.loc 1 72 27 is_stmt 1 discriminator 1 view .LVU12
  65 000e 0F2B     		cmp	r3, #15
  66 0010 05D8     		bhi	.L5
  73:Core/Src/main.c ****         if (value & 0x1) {
  67              		.loc 1 73 9 view .LVU13
  73:Core/Src/main.c ****         if (value & 0x1) {
  68              		.loc 1 73 12 is_stmt 0 view .LVU14
  69 0012 12F0010F 		tst	r2, #1
  70 0016 F7D0     		beq	.L3
  74:Core/Src/main.c ****         }
  71              		.loc 1 74 13 is_stmt 1 view .LVU15
  74:Core/Src/main.c ****         }
  72              		.loc 1 74 16 is_stmt 0 view .LVU16
  73 0018 0130     		adds	r0, r0, #1
  74              	.LVL7:
  74:Core/Src/main.c ****         }
  75              		.loc 1 74 16 view .LVU17
  76 001a C0B2     		uxtb	r0, r0
  77              	.LVL8:
  74:Core/Src/main.c ****         }
  78              		.loc 1 74 16 view .LVU18
  79 001c F4E7     		b	.L3
  80              	.L5:
  74:Core/Src/main.c ****         }
  81              		.loc 1 74 16 view .LVU19
  82              	.LBE5:
  77:Core/Src/main.c ****     }
  78:Core/Src/main.c ****     return cnt & 0x1;
  83              		.loc 1 78 5 is_stmt 1 view .LVU20
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 4


  79:Core/Src/main.c **** }
  84              		.loc 1 79 1 is_stmt 0 view .LVU21
  85 001e 00F00100 		and	r0, r0, #1
  86              	.LVL9:
  87              		.loc 1 79 1 view .LVU22
  88 0022 7047     		bx	lr
  89              		.cfi_endproc
  90              	.LFE126:
  92              		.section	.text.AS5048A_read,"ax",%progbits
  93              		.align	1
  94              		.global	AS5048A_read
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  99              	AS5048A_read:
 100              	.LVL10:
 101              	.LFB127:
  80:Core/Src/main.c **** 
  81:Core/Src/main.c **** uint16_t AS5048A_read(uint16_t registerAddress) {
 102              		.loc 1 81 49 is_stmt 1 view -0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 8
 105              		@ frame_needed = 0, uses_anonymous_args = 0
 106              		.loc 1 81 49 is_stmt 0 view .LVU24
 107 0000 30B5     		push	{r4, r5, lr}
 108              	.LCFI0:
 109              		.cfi_def_cfa_offset 12
 110              		.cfi_offset 4, -12
 111              		.cfi_offset 5, -8
 112              		.cfi_offset 14, -4
 113 0002 83B0     		sub	sp, sp, #12
 114              	.LCFI1:
 115              		.cfi_def_cfa_offset 24
  82:Core/Src/main.c ****     uint16_t command = 0x4000 | registerAddress;
 116              		.loc 1 82 5 is_stmt 1 view .LVU25
 117              		.loc 1 82 14 is_stmt 0 view .LVU26
 118 0004 40F48044 		orr	r4, r0, #16384
 119 0008 ADF80640 		strh	r4, [sp, #6]	@ movhi
  83:Core/Src/main.c **** 
  84:Core/Src/main.c ****     // パリティビットの追加
  85:Core/Src/main.c ****     command |= spiCalcEvenParity(command) << 15;
 120              		.loc 1 85 5 is_stmt 1 view .LVU27
 121              		.loc 1 85 16 is_stmt 0 view .LVU28
 122 000c 2046     		mov	r0, r4
 123              	.LVL11:
 124              		.loc 1 85 16 view .LVU29
 125 000e FFF7FEFF 		bl	spiCalcEvenParity
 126              	.LVL12:
 127              		.loc 1 85 13 view .LVU30
 128 0012 44EAC034 		orr	r4, r4, r0, lsl #15
 129 0016 ADF80640 		strh	r4, [sp, #6]	@ movhi
  86:Core/Src/main.c **** 
  87:Core/Src/main.c ****     uint16_t response = 0;
 130              		.loc 1 87 5 is_stmt 1 view .LVU31
 131              		.loc 1 87 14 is_stmt 0 view .LVU32
 132 001a 0024     		movs	r4, #0
 133 001c ADF80440 		strh	r4, [sp, #4]	@ movhi
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 5


  88:Core/Src/main.c **** 
  89:Core/Src/main.c ****     // SPI通信開始
  90:Core/Src/main.c ****     CS_LOW();
 134              		.loc 1 90 5 is_stmt 1 view .LVU33
 135 0020 2246     		mov	r2, r4
 136 0022 1021     		movs	r1, #16
 137 0024 4FF09040 		mov	r0, #1207959552
 138 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 139              	.LVL13:
  91:Core/Src/main.c ****     HAL_SPI_Transmit(&hspi1, (uint8_t *)&command, 1, HAL_MAX_DELAY);
 140              		.loc 1 91 5 view .LVU34
 141 002c 134D     		ldr	r5, .L8
 142 002e 4FF0FF33 		mov	r3, #-1
 143 0032 0122     		movs	r2, #1
 144 0034 0DF10601 		add	r1, sp, #6
 145 0038 2846     		mov	r0, r5
 146 003a FFF7FEFF 		bl	HAL_SPI_Transmit
 147              	.LVL14:
  92:Core/Src/main.c ****     CS_HIGH();
 148              		.loc 1 92 5 view .LVU35
 149 003e 0122     		movs	r2, #1
 150 0040 1021     		movs	r1, #16
 151 0042 4FF09040 		mov	r0, #1207959552
 152 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 153              	.LVL15:
  93:Core/Src/main.c **** 
  94:Core/Src/main.c ****     // データ受信
  95:Core/Src/main.c ****     CS_LOW();
 154              		.loc 1 95 5 view .LVU36
 155 004a 2246     		mov	r2, r4
 156 004c 1021     		movs	r1, #16
 157 004e 4FF09040 		mov	r0, #1207959552
 158 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 159              	.LVL16:
  96:Core/Src/main.c ****     HAL_SPI_Receive(&hspi1, (uint8_t *)&response, 1, HAL_MAX_DELAY);
 160              		.loc 1 96 5 view .LVU37
 161 0056 4FF0FF33 		mov	r3, #-1
 162 005a 0122     		movs	r2, #1
 163 005c 01A9     		add	r1, sp, #4
 164 005e 2846     		mov	r0, r5
 165 0060 FFF7FEFF 		bl	HAL_SPI_Receive
 166              	.LVL17:
  97:Core/Src/main.c ****     CS_HIGH();
 167              		.loc 1 97 5 view .LVU38
 168 0064 0122     		movs	r2, #1
 169 0066 1021     		movs	r1, #16
 170 0068 4FF09040 		mov	r0, #1207959552
 171 006c FFF7FEFF 		bl	HAL_GPIO_WritePin
 172              	.LVL18:
  98:Core/Src/main.c **** 
  99:Core/Src/main.c ****     // エラービットの確認（必要に応じて実装）
 100:Core/Src/main.c ****     if (response & 0x4000) {
 173              		.loc 1 100 5 view .LVU39
 174              		.loc 1 100 18 is_stmt 0 view .LVU40
 175 0070 BDF80400 		ldrh	r0, [sp, #4]
 101:Core/Src/main.c ****         // エラー処理
 102:Core/Src/main.c ****     }
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 6


 176              		.loc 1 102 5 is_stmt 1 view .LVU41
 103:Core/Src/main.c **** 
 104:Core/Src/main.c ****     return response & 0x3FFF;  // データ部分のみ返す
 177              		.loc 1 104 5 view .LVU42
 105:Core/Src/main.c **** }
 178              		.loc 1 105 1 is_stmt 0 view .LVU43
 179 0074 C0F30D00 		ubfx	r0, r0, #0, #14
 180 0078 03B0     		add	sp, sp, #12
 181              	.LCFI2:
 182              		.cfi_def_cfa_offset 12
 183              		@ sp needed
 184 007a 30BD     		pop	{r4, r5, pc}
 185              	.L9:
 186              		.align	2
 187              	.L8:
 188 007c 00000000 		.word	hspi1
 189              		.cfi_endproc
 190              	.LFE127:
 192              		.section	.text.getRotation,"ax",%progbits
 193              		.align	1
 194              		.global	getRotation
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 199              	getRotation:
 200              	.LFB128:
 106:Core/Src/main.c **** 
 107:Core/Src/main.c **** int offset = 0;
 108:Core/Src/main.c **** int16_t getRotation() {
 201              		.loc 1 108 23 is_stmt 1 view -0
 202              		.cfi_startproc
 203              		@ args = 0, pretend = 0, frame = 0
 204              		@ frame_needed = 0, uses_anonymous_args = 0
 205 0000 08B5     		push	{r3, lr}
 206              	.LCFI3:
 207              		.cfi_def_cfa_offset 8
 208              		.cfi_offset 3, -8
 209              		.cfi_offset 14, -4
 109:Core/Src/main.c ****     uint16_t data = AS5048A_read(AS5048A_ANGLE);
 210              		.loc 1 109 5 view .LVU45
 211              		.loc 1 109 21 is_stmt 0 view .LVU46
 212 0002 43F6FF70 		movw	r0, #16383
 213 0006 FFF7FEFF 		bl	AS5048A_read
 214              	.LVL19:
 110:Core/Src/main.c ****     int16_t rotation = (int16_t)data;
 215              		.loc 1 110 5 is_stmt 1 view .LVU47
 111:Core/Src/main.c ****     return rotation;
 216              		.loc 1 111 5 view .LVU48
 112:Core/Src/main.c **** }
 217              		.loc 1 112 1 is_stmt 0 view .LVU49
 218 000a 00B2     		sxth	r0, r0
 219              		.loc 1 112 1 view .LVU50
 220 000c 08BD     		pop	{r3, pc}
 221              		.cfi_endproc
 222              	.LFE128:
 224              		.section	.text.electrical_angle,"ax",%progbits
 225              		.align	1
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 7


 226              		.global	electrical_angle
 227              		.syntax unified
 228              		.thumb
 229              		.thumb_func
 231              	electrical_angle:
 232              	.LVL20:
 233              	.LFB129:
 113:Core/Src/main.c **** 
 114:Core/Src/main.c **** // 電気角
 115:Core/Src/main.c **** uint16_t electrical_angle(int16_t real_angle) {
 234              		.loc 1 115 47 is_stmt 1 view -0
 235              		.cfi_startproc
 236              		@ args = 0, pretend = 0, frame = 0
 237              		@ frame_needed = 0, uses_anonymous_args = 0
 238              		@ link register save eliminated.
 116:Core/Src/main.c ****     uint32_t rotation = real_angle;
 239              		.loc 1 116 5 view .LVU52
 117:Core/Src/main.c **** 
 118:Core/Src/main.c ****     // 7回で一回転
 119:Core/Src/main.c ****     rotation %= 1170;
 240              		.loc 1 119 5 view .LVU53
 241              		.loc 1 119 14 is_stmt 0 view .LVU54
 242 0000 4308     		lsrs	r3, r0, #1
 243 0002 054A     		ldr	r2, .L13
 244 0004 A2FB0323 		umull	r2, r3, r2, r3
 245 0008 5B0A     		lsrs	r3, r3, #9
 246 000a 40F29242 		movw	r2, #1170
 247 000e 02FB1303 		mls	r3, r2, r3, r0
 248              	.LVL21:
 120:Core/Src/main.c **** 
 121:Core/Src/main.c ****     return (uint16_t)rotation;
 249              		.loc 1 121 5 is_stmt 1 view .LVU55
 122:Core/Src/main.c **** }
 250              		.loc 1 122 1 is_stmt 0 view .LVU56
 251 0012 98B2     		uxth	r0, r3
 252              	.LVL22:
 253              		.loc 1 122 1 view .LVU57
 254 0014 7047     		bx	lr
 255              	.L14:
 256 0016 00BF     		.align	2
 257              	.L13:
 258 0018 E1000EE0 		.word	-535953183
 259              		.cfi_endproc
 260              	.LFE129:
 262              		.section	.text.setPhase,"ax",%progbits
 263              		.align	1
 264              		.global	setPhase
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 269              	setPhase:
 270              	.LVL23:
 271              	.LFB130:
 123:Core/Src/main.c **** 
 124:Core/Src/main.c **** float cos_table[1170];
 125:Core/Src/main.c **** 
 126:Core/Src/main.c **** void setPhase(uint16_t phase, uint16_t pwm_pwr) {
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 8


 272              		.loc 1 126 49 is_stmt 1 view -0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 8
 275              		@ frame_needed = 0, uses_anonymous_args = 0
 276              		.loc 1 126 49 is_stmt 0 view .LVU59
 277 0000 30B5     		push	{r4, r5, lr}
 278              	.LCFI4:
 279              		.cfi_def_cfa_offset 12
 280              		.cfi_offset 4, -12
 281              		.cfi_offset 5, -8
 282              		.cfi_offset 14, -4
 283 0002 83B0     		sub	sp, sp, #12
 284              	.LCFI5:
 285              		.cfi_def_cfa_offset 24
 286 0004 07EE901A 		vmov	s15, r1	@ int
 127:Core/Src/main.c ****     uint16_t sinwave[3];
 287              		.loc 1 127 5 is_stmt 1 view .LVU60
 128:Core/Src/main.c **** 
 129:Core/Src/main.c ****     sinwave[0] = pwm_pwr + pwm_pwr * cos_table[(phase + 0) % 1170];
 288              		.loc 1 129 5 view .LVU61
 289              		.loc 1 129 26 is_stmt 0 view .LVU62
 290 0008 F8EEE77A 		vcvt.f32.s32	s15, s15
 291              		.loc 1 129 60 view .LVU63
 292 000c 294B     		ldr	r3, .L17
 293 000e 83FB0012 		smull	r1, r2, r3, r0
 294              	.LVL24:
 295              		.loc 1 129 60 view .LVU64
 296 0012 0244     		add	r2, r2, r0
 297 0014 9212     		asrs	r2, r2, #10
 298 0016 40F2924C 		movw	ip, #1170
 299 001a 0CFB1202 		mls	r2, ip, r2, r0
 300              		.loc 1 129 47 view .LVU65
 301 001e 264C     		ldr	r4, .L17+4
 302 0020 04EB8202 		add	r2, r4, r2, lsl #2
 303 0024 92ED007A 		vldr.32	s14, [r2]
 304              		.loc 1 129 36 view .LVU66
 305 0028 27EE877A 		vmul.f32	s14, s15, s14
 306              		.loc 1 129 26 view .LVU67
 307 002c 37EE877A 		vadd.f32	s14, s15, s14
 308              		.loc 1 129 16 view .LVU68
 309 0030 BCEEC77A 		vcvt.u32.f32	s14, s14
 310 0034 17EE102A 		vmov	r2, s14	@ int
 311 0038 91B2     		uxth	r1, r2
 312 003a ADF80010 		strh	r1, [sp]	@ movhi
 130:Core/Src/main.c ****     sinwave[1] = pwm_pwr + pwm_pwr * cos_table[(phase + 390) % 1170];
 313              		.loc 1 130 5 is_stmt 1 view .LVU69
 314              		.loc 1 130 55 is_stmt 0 view .LVU70
 315 003e 00F5C37E 		add	lr, r0, #390
 316              		.loc 1 130 62 view .LVU71
 317 0042 83FB0E52 		smull	r5, r2, r3, lr
 318 0046 7244     		add	r2, r2, lr
 319 0048 9212     		asrs	r2, r2, #10
 320 004a 0CFB12E2 		mls	r2, ip, r2, lr
 321              		.loc 1 130 47 view .LVU72
 322 004e 04EB8202 		add	r2, r4, r2, lsl #2
 323 0052 92ED007A 		vldr.32	s14, [r2]
 324              		.loc 1 130 36 view .LVU73
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 9


 325 0056 27EE877A 		vmul.f32	s14, s15, s14
 326              		.loc 1 130 26 view .LVU74
 327 005a 37EE877A 		vadd.f32	s14, s15, s14
 328              		.loc 1 130 16 view .LVU75
 329 005e BCEEC77A 		vcvt.u32.f32	s14, s14
 330 0062 17EE102A 		vmov	r2, s14	@ int
 331 0066 92B2     		uxth	r2, r2
 332 0068 ADF80220 		strh	r2, [sp, #2]	@ movhi
 131:Core/Src/main.c ****     sinwave[2] = pwm_pwr + pwm_pwr * cos_table[(phase + 780) % 1170];
 333              		.loc 1 131 5 is_stmt 1 view .LVU76
 334              		.loc 1 131 55 is_stmt 0 view .LVU77
 335 006c 00F54370 		add	r0, r0, #780
 336              	.LVL25:
 337              		.loc 1 131 62 view .LVU78
 338 0070 83FB00E3 		smull	lr, r3, r3, r0
 339 0074 0344     		add	r3, r3, r0
 340 0076 9B12     		asrs	r3, r3, #10
 341 0078 0CFB1303 		mls	r3, ip, r3, r0
 342              		.loc 1 131 47 view .LVU79
 343 007c 04EB8304 		add	r4, r4, r3, lsl #2
 344 0080 94ED007A 		vldr.32	s14, [r4]
 345              		.loc 1 131 36 view .LVU80
 346 0084 27EE877A 		vmul.f32	s14, s15, s14
 347              		.loc 1 131 26 view .LVU81
 348 0088 77EE877A 		vadd.f32	s15, s15, s14
 349              		.loc 1 131 16 view .LVU82
 350 008c FCEEE77A 		vcvt.u32.f32	s15, s15
 351 0090 17EE903A 		vmov	r3, s15	@ int
 352 0094 9BB2     		uxth	r3, r3
 353 0096 ADF80430 		strh	r3, [sp, #4]	@ movhi
 132:Core/Src/main.c **** 
 133:Core/Src/main.c ****     // A相
 134:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_1, sinwave[0]);
 354              		.loc 1 134 5 is_stmt 1 view .LVU83
 355 009a 0848     		ldr	r0, .L17+8
 356 009c 0068     		ldr	r0, [r0]
 357 009e 4163     		str	r1, [r0, #52]
 135:Core/Src/main.c **** 
 136:Core/Src/main.c ****     // B相
 137:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim16, TIM_CHANNEL_1, sinwave[1]);
 358              		.loc 1 137 5 view .LVU84
 359 00a0 0749     		ldr	r1, .L17+12
 360 00a2 0968     		ldr	r1, [r1]
 361 00a4 4A63     		str	r2, [r1, #52]
 138:Core/Src/main.c **** 
 139:Core/Src/main.c ****     // C相
 140:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_4, sinwave[2]);
 362              		.loc 1 140 5 view .LVU85
 363 00a6 074A     		ldr	r2, .L17+16
 364 00a8 1268     		ldr	r2, [r2]
 365 00aa 1364     		str	r3, [r2, #64]
 141:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_3, sinwave[2]);
 366              		.loc 1 141 5 view .LVU86
 367 00ac C363     		str	r3, [r0, #60]
 142:Core/Src/main.c **** }
 368              		.loc 1 142 1 is_stmt 0 view .LVU87
 369 00ae 03B0     		add	sp, sp, #12
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 10


 370              	.LCFI6:
 371              		.cfi_def_cfa_offset 12
 372              		@ sp needed
 373 00b0 30BD     		pop	{r4, r5, pc}
 374              	.L18:
 375 00b2 00BF     		.align	2
 376              	.L17:
 377 00b4 E1000EE0 		.word	-535953183
 378 00b8 00000000 		.word	cos_table
 379 00bc 00000000 		.word	htim1
 380 00c0 00000000 		.word	htim16
 381 00c4 00000000 		.word	htim3
 382              		.cfi_endproc
 383              	.LFE130:
 385              		.section	.text.setVoltage,"ax",%progbits
 386              		.align	1
 387              		.global	setVoltage
 388              		.syntax unified
 389              		.thumb
 390              		.thumb_func
 392              	setVoltage:
 393              	.LVL26:
 394              	.LFB131:
 143:Core/Src/main.c **** 
 144:Core/Src/main.c **** void setVoltage(float a, float b, float c) {
 395              		.loc 1 144 44 is_stmt 1 view -0
 396              		.cfi_startproc
 397              		@ args = 0, pretend = 0, frame = 0
 398              		@ frame_needed = 0, uses_anonymous_args = 0
 399              		@ link register save eliminated.
 145:Core/Src/main.c ****     float batt_voltage = 17;  // バッテリー電圧
 400              		.loc 1 145 5 view .LVU89
 146:Core/Src/main.c **** 
 147:Core/Src/main.c ****     // 電圧値を 0-1023 の範囲にマッピングする
 148:Core/Src/main.c ****     // 電圧 a, b, c をバッテリー電圧で正規化し、0〜1023の範囲にスケーリン
 149:Core/Src/main.c ****     int int_a = (int)((a / batt_voltage) * 1023) + 512;
 401              		.loc 1 149 5 view .LVU90
 402              		.loc 1 149 26 is_stmt 0 view .LVU91
 403 0000 F3EE016A 		vmov.f32	s13, #1.7e+1
 404 0004 C0EE267A 		vdiv.f32	s15, s0, s13
 405              		.loc 1 149 42 view .LVU92
 406 0008 9FED207A 		vldr.32	s14, .L20
 407 000c 67EE877A 		vmul.f32	s15, s15, s14
 408              		.loc 1 149 17 view .LVU93
 409 0010 FDEEE77A 		vcvt.s32.f32	s15, s15
 410 0014 17EE901A 		vmov	r1, s15	@ int
 411              		.loc 1 149 9 view .LVU94
 412 0018 01F50071 		add	r1, r1, #512
 413              	.LVL27:
 150:Core/Src/main.c ****     int int_b = (int)((b / batt_voltage) * 1023) + 512;
 414              		.loc 1 150 5 is_stmt 1 view .LVU95
 415              		.loc 1 150 26 is_stmt 0 view .LVU96
 416 001c C0EEA67A 		vdiv.f32	s15, s1, s13
 417              		.loc 1 150 42 view .LVU97
 418 0020 67EE877A 		vmul.f32	s15, s15, s14
 419              		.loc 1 150 17 view .LVU98
 420 0024 FDEEE77A 		vcvt.s32.f32	s15, s15
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 11


 421 0028 17EE902A 		vmov	r2, s15	@ int
 422              		.loc 1 150 9 view .LVU99
 423 002c 02F50072 		add	r2, r2, #512
 424              	.LVL28:
 151:Core/Src/main.c ****     int int_c = (int)((c / batt_voltage) * 1023) + 512;
 425              		.loc 1 151 5 is_stmt 1 view .LVU100
 426              		.loc 1 151 26 is_stmt 0 view .LVU101
 427 0030 C1EE267A 		vdiv.f32	s15, s2, s13
 428              		.loc 1 151 42 view .LVU102
 429 0034 67EE877A 		vmul.f32	s15, s15, s14
 430              		.loc 1 151 17 view .LVU103
 431 0038 FDEEE77A 		vcvt.s32.f32	s15, s15
 432 003c 17EE903A 		vmov	r3, s15	@ int
 433              		.loc 1 151 9 view .LVU104
 434 0040 03F50073 		add	r3, r3, #512
 435              	.LVL29:
 152:Core/Src/main.c **** 
 153:Core/Src/main.c ****     // clip [ 100, 900 ]
 154:Core/Src/main.c ****     int clip_low = 200;
 436              		.loc 1 154 5 is_stmt 1 view .LVU105
 155:Core/Src/main.c ****     int clip_high = 800;
 437              		.loc 1 155 5 view .LVU106
 156:Core/Src/main.c **** 
 157:Core/Src/main.c ****     int_a = int_a < clip_low ? clip_low : int_a;
 438              		.loc 1 157 5 view .LVU107
 439              		.loc 1 157 11 is_stmt 0 view .LVU108
 440 0044 C829     		cmp	r1, #200
 441 0046 B8BF     		it	lt
 442 0048 C821     		movlt	r1, #200
 443              	.LVL30:
 158:Core/Src/main.c ****     int_a = int_a > clip_high ? clip_high : int_a;
 444              		.loc 1 158 5 is_stmt 1 view .LVU109
 445              		.loc 1 158 11 is_stmt 0 view .LVU110
 446 004a B1F5487F 		cmp	r1, #800
 447 004e A8BF     		it	ge
 448 0050 4FF44871 		movge	r1, #800
 449              	.LVL31:
 159:Core/Src/main.c ****     
 160:Core/Src/main.c ****     int_b = int_b < clip_low ? clip_low : int_b;
 450              		.loc 1 160 5 is_stmt 1 view .LVU111
 451              		.loc 1 160 11 is_stmt 0 view .LVU112
 452 0054 C82A     		cmp	r2, #200
 453 0056 B8BF     		it	lt
 454 0058 C822     		movlt	r2, #200
 455              	.LVL32:
 161:Core/Src/main.c ****     int_b = int_b > clip_high ? clip_high : int_b;
 456              		.loc 1 161 5 is_stmt 1 view .LVU113
 457              		.loc 1 161 11 is_stmt 0 view .LVU114
 458 005a B2F5487F 		cmp	r2, #800
 459 005e A8BF     		it	ge
 460 0060 4FF44872 		movge	r2, #800
 461              	.LVL33:
 162:Core/Src/main.c **** 
 163:Core/Src/main.c ****     int_c = int_c < clip_low ? clip_low : int_c;
 462              		.loc 1 163 5 is_stmt 1 view .LVU115
 463              		.loc 1 163 11 is_stmt 0 view .LVU116
 464 0064 C82B     		cmp	r3, #200
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 12


 465 0066 B8BF     		it	lt
 466 0068 C823     		movlt	r3, #200
 467              	.LVL34:
 164:Core/Src/main.c ****     int_c = int_c > clip_high ? clip_high : int_c;
 468              		.loc 1 164 5 is_stmt 1 view .LVU117
 469              		.loc 1 164 11 is_stmt 0 view .LVU118
 470 006a B3F5487F 		cmp	r3, #800
 471 006e A8BF     		it	ge
 472 0070 4FF44873 		movge	r3, #800
 473              	.LVL35:
 165:Core/Src/main.c **** 
 166:Core/Src/main.c ****     // PWM信号を各チャネルに設定
 167:Core/Src/main.c ****     // A相
 168:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_1, int_a);
 474              		.loc 1 168 5 is_stmt 1 view .LVU119
 475 0074 0648     		ldr	r0, .L20+4
 476 0076 0068     		ldr	r0, [r0]
 477 0078 4163     		str	r1, [r0, #52]
 169:Core/Src/main.c **** 
 170:Core/Src/main.c ****     // B相
 171:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim16, TIM_CHANNEL_1, int_b);
 478              		.loc 1 171 5 view .LVU120
 479 007a 0649     		ldr	r1, .L20+8
 480              	.LVL36:
 481              		.loc 1 171 5 is_stmt 0 view .LVU121
 482 007c 0968     		ldr	r1, [r1]
 483 007e 4A63     		str	r2, [r1, #52]
 484              	.LVL37:
 172:Core/Src/main.c **** 
 173:Core/Src/main.c ****     // C相
 174:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_4, int_c);
 485              		.loc 1 174 5 is_stmt 1 view .LVU122
 486 0080 054A     		ldr	r2, .L20+12
 487              	.LVL38:
 488              		.loc 1 174 5 is_stmt 0 view .LVU123
 489 0082 1268     		ldr	r2, [r2]
 490 0084 1364     		str	r3, [r2, #64]
 491              	.LVL39:
 175:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_3, int_c);
 492              		.loc 1 175 5 is_stmt 1 view .LVU124
 493 0086 C363     		str	r3, [r0, #60]
 176:Core/Src/main.c **** }
 494              		.loc 1 176 1 is_stmt 0 view .LVU125
 495 0088 7047     		bx	lr
 496              	.L21:
 497 008a 00BF     		.align	2
 498              	.L20:
 499 008c 00C07F44 		.word	1149222912
 500 0090 00000000 		.word	htim1
 501 0094 00000000 		.word	htim16
 502 0098 00000000 		.word	htim3
 503              		.cfi_endproc
 504              	.LFE131:
 506              		.section	.text.uint2char,"ax",%progbits
 507              		.align	1
 508              		.global	uint2char
 509              		.syntax unified
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 13


 510              		.thumb
 511              		.thumb_func
 513              	uint2char:
 514              	.LVL40:
 515              	.LFB132:
 177:Core/Src/main.c **** 
 178:Core/Src/main.c **** char *uint2char(uint16_t num) {
 516              		.loc 1 178 31 is_stmt 1 view -0
 517              		.cfi_startproc
 518              		@ args = 0, pretend = 0, frame = 0
 519              		@ frame_needed = 0, uses_anonymous_args = 0
 520              		@ link register save eliminated.
 521              		.loc 1 178 31 is_stmt 0 view .LVU127
 522 0000 0146     		mov	r1, r0
 179:Core/Src/main.c ****     static char str[5];
 523              		.loc 1 179 5 is_stmt 1 view .LVU128
 180:Core/Src/main.c ****     str[0] = num / 1000 + '0';
 524              		.loc 1 180 5 view .LVU129
 525              		.loc 1 180 25 is_stmt 0 view .LVU130
 526 0002 164B     		ldr	r3, .L23
 527 0004 A3FB0023 		umull	r2, r3, r3, r0
 528 0008 9B09     		lsrs	r3, r3, #6
 529 000a 03F13002 		add	r2, r3, #48
 530              		.loc 1 180 12 view .LVU131
 531 000e 1448     		ldr	r0, .L23+4
 532              	.LVL41:
 533              		.loc 1 180 12 view .LVU132
 534 0010 0270     		strb	r2, [r0]
 181:Core/Src/main.c ****     str[1] = (num % 1000) / 100 + '0';
 535              		.loc 1 181 5 is_stmt 1 view .LVU133
 536              		.loc 1 181 33 is_stmt 0 view .LVU134
 537 0012 4FF47A72 		mov	r2, #1000
 538 0016 02FB1312 		mls	r2, r2, r3, r1
 539 001a 92B2     		uxth	r2, r2
 540 001c 114B     		ldr	r3, .L23+8
 541 001e A3FB02C2 		umull	ip, r2, r3, r2
 542 0022 5209     		lsrs	r2, r2, #5
 543 0024 3032     		adds	r2, r2, #48
 544              		.loc 1 181 12 view .LVU135
 545 0026 4270     		strb	r2, [r0, #1]
 182:Core/Src/main.c ****     str[2] = (num % 100) / 10 + '0';
 546              		.loc 1 182 5 is_stmt 1 view .LVU136
 547              		.loc 1 182 31 is_stmt 0 view .LVU137
 548 0028 A3FB0123 		umull	r2, r3, r3, r1
 549 002c 5B09     		lsrs	r3, r3, #5
 550 002e 6422     		movs	r2, #100
 551 0030 02FB1313 		mls	r3, r2, r3, r1
 552 0034 9BB2     		uxth	r3, r3
 553 0036 0C4A     		ldr	r2, .L23+12
 554 0038 A2FB03C3 		umull	ip, r3, r2, r3
 555 003c DB08     		lsrs	r3, r3, #3
 556 003e 3033     		adds	r3, r3, #48
 557              		.loc 1 182 12 view .LVU138
 558 0040 8370     		strb	r3, [r0, #2]
 183:Core/Src/main.c ****     str[3] = num % 10 + '0';
 559              		.loc 1 183 5 is_stmt 1 view .LVU139
 560              		.loc 1 183 23 is_stmt 0 view .LVU140
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 14


 561 0042 A2FB0123 		umull	r2, r3, r2, r1
 562 0046 DB08     		lsrs	r3, r3, #3
 563 0048 03EB8303 		add	r3, r3, r3, lsl #2
 564 004c A1EB4301 		sub	r1, r1, r3, lsl #1
 565 0050 3031     		adds	r1, r1, #48
 566              		.loc 1 183 12 view .LVU141
 567 0052 C170     		strb	r1, [r0, #3]
 184:Core/Src/main.c ****     str[4] = '\0';
 568              		.loc 1 184 5 is_stmt 1 view .LVU142
 569              		.loc 1 184 12 is_stmt 0 view .LVU143
 570 0054 0023     		movs	r3, #0
 571 0056 0371     		strb	r3, [r0, #4]
 185:Core/Src/main.c **** 
 186:Core/Src/main.c ****     return str;
 572              		.loc 1 186 5 is_stmt 1 view .LVU144
 187:Core/Src/main.c **** }
 573              		.loc 1 187 1 is_stmt 0 view .LVU145
 574 0058 7047     		bx	lr
 575              	.L24:
 576 005a 00BF     		.align	2
 577              	.L23:
 578 005c D34D6210 		.word	274877907
 579 0060 00000000 		.word	str.1
 580 0064 1F85EB51 		.word	1374389535
 581 0068 CDCCCCCC 		.word	-858993459
 582              		.cfi_endproc
 583              	.LFE132:
 585              		.global	__aeabi_i2d
 586              		.global	__aeabi_dmul
 587              		.global	__aeabi_dsub
 588              		.global	__aeabi_d2f
 589              		.global	__aeabi_dadd
 590              		.global	__aeabi_f2d
 591              		.section	.text.senseOut,"ax",%progbits
 592              		.align	1
 593              		.global	senseOut
 594              		.syntax unified
 595              		.thumb
 596              		.thumb_func
 598              	senseOut:
 599              	.LFB133:
 188:Core/Src/main.c **** 
 189:Core/Src/main.c **** uint16_t adcBuffer[3];  // PA0, PA1, PA2の3つのチャンネル分のデータ
 190:Core/Src/main.c **** uint16_t adcOffset[3];  // オフセット値
 191:Core/Src/main.c **** 
 192:Core/Src/main.c **** float sense[3];
 193:Core/Src/main.c **** void senseOut() {
 600              		.loc 1 193 17 is_stmt 1 view -0
 601              		.cfi_startproc
 602              		@ args = 0, pretend = 0, frame = 24
 603              		@ frame_needed = 0, uses_anonymous_args = 0
 604 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 605              	.LCFI7:
 606              		.cfi_def_cfa_offset 36
 607              		.cfi_offset 4, -36
 608              		.cfi_offset 5, -32
 609              		.cfi_offset 6, -28
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 15


 610              		.cfi_offset 7, -24
 611              		.cfi_offset 8, -20
 612              		.cfi_offset 9, -16
 613              		.cfi_offset 10, -12
 614              		.cfi_offset 11, -8
 615              		.cfi_offset 14, -4
 616 0004 2DED048B 		vpush.64	{d8, d9}
 617              	.LCFI8:
 618              		.cfi_def_cfa_offset 52
 619              		.cfi_offset 80, -52
 620              		.cfi_offset 81, -48
 621              		.cfi_offset 82, -44
 622              		.cfi_offset 83, -40
 623 0008 87B0     		sub	sp, sp, #28
 624              	.LCFI9:
 625              		.cfi_def_cfa_offset 80
 194:Core/Src/main.c ****     float _sense[3];
 626              		.loc 1 194 5 view .LVU147
 195:Core/Src/main.c ****     _sense[0] = 0.995832 * (adcBuffer[0] - 2048) -
 627              		.loc 1 195 5 view .LVU148
 628              		.loc 1 195 38 is_stmt 0 view .LVU149
 629 000a DFF83CA2 		ldr	r10, .L27+80
 630 000e BAF80000 		ldrh	r0, [r10]
 631              		.loc 1 195 26 view .LVU150
 632 0012 A0F50060 		sub	r0, r0, #2048
 633 0016 FFF7FEFF 		bl	__aeabi_i2d
 634              	.LVL42:
 635 001a 0646     		mov	r6, r0
 636 001c 0F46     		mov	r7, r1
 637 001e 7CA3     		adr	r3, .L27+24
 638 0020 D3E90023 		ldrd	r2, [r3]
 639 0024 FFF7FEFF 		bl	__aeabi_dmul
 640              	.LVL43:
 641 0028 8046     		mov	r8, r0
 642 002a 8946     		mov	r9, r1
 196:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) -
 643              		.loc 1 196 38 view .LVU151
 644 002c BAF80200 		ldrh	r0, [r10, #2]
 645              		.loc 1 196 26 view .LVU152
 646 0030 A0F50060 		sub	r0, r0, #2048
 647 0034 FFF7FEFF 		bl	__aeabi_i2d
 648              	.LVL44:
 649 0038 0246     		mov	r2, r0
 650 003a 0B46     		mov	r3, r1
 651 003c CDE90023 		strd	r2, [sp]
 652 0040 75A3     		adr	r3, .L27+32
 653 0042 D3E90023 		ldrd	r2, [r3]
 654 0046 FFF7FEFF 		bl	__aeabi_dmul
 655              	.LVL45:
 656 004a 0446     		mov	r4, r0
 657 004c 0D46     		mov	r5, r1
 195:Core/Src/main.c ****     _sense[0] = 0.995832 * (adcBuffer[0] - 2048) -
 658              		.loc 1 195 50 view .LVU153
 659 004e 0246     		mov	r2, r0
 660 0050 0B46     		mov	r3, r1
 661 0052 4046     		mov	r0, r8
 662 0054 4946     		mov	r1, r9
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 16


 663 0056 FFF7FEFF 		bl	__aeabi_dsub
 664              	.LVL46:
 665 005a 8046     		mov	r8, r0
 666 005c 8946     		mov	r9, r1
 197:Core/Src/main.c ****                 0.014988 * (adcBuffer[2] - 2048);
 667              		.loc 1 197 38 view .LVU154
 668 005e BAF80400 		ldrh	r0, [r10, #4]
 669              		.loc 1 197 26 view .LVU155
 670 0062 A0F50060 		sub	r0, r0, #2048
 671 0066 FFF7FEFF 		bl	__aeabi_i2d
 672              	.LVL47:
 673 006a 8246     		mov	r10, r0
 674 006c 8B46     		mov	fp, r1
 675 006e 6CA3     		adr	r3, .L27+40
 676 0070 D3E90023 		ldrd	r2, [r3]
 677 0074 FFF7FEFF 		bl	__aeabi_dmul
 678              	.LVL48:
 679 0078 0246     		mov	r2, r0
 680 007a 0B46     		mov	r3, r1
 196:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) -
 681              		.loc 1 196 50 view .LVU156
 682 007c 4046     		mov	r0, r8
 683 007e 4946     		mov	r1, r9
 684 0080 FFF7FEFF 		bl	__aeabi_dsub
 685              	.LVL49:
 686 0084 FFF7FEFF 		bl	__aeabi_d2f
 687              	.LVL50:
 688 0088 08EE900A 		vmov	s17, r0
 195:Core/Src/main.c ****     _sense[0] = 0.995832 * (adcBuffer[0] - 2048) -
 689              		.loc 1 195 15 view .LVU157
 690 008c 0390     		str	r0, [sp, #12]	@ float
 198:Core/Src/main.c **** 
 199:Core/Src/main.c ****     _sense[1] = 0.037737 * (adcBuffer[0] - 2048) +
 691              		.loc 1 199 5 is_stmt 1 view .LVU158
 692              		.loc 1 199 26 is_stmt 0 view .LVU159
 693 008e 66A3     		adr	r3, .L27+48
 694 0090 D3E90023 		ldrd	r2, [r3]
 695 0094 3046     		mov	r0, r6
 696 0096 3946     		mov	r1, r7
 697 0098 FFF7FEFF 		bl	__aeabi_dmul
 698              	.LVL51:
 699 009c 8046     		mov	r8, r0
 700 009e 8946     		mov	r9, r1
 200:Core/Src/main.c ****                 1.007723 * (adcBuffer[1] - 2048) -
 701              		.loc 1 200 26 view .LVU160
 702 00a0 63A3     		adr	r3, .L27+56
 703 00a2 D3E90023 		ldrd	r2, [r3]
 704 00a6 DDE90001 		ldrd	r0, [sp]
 705 00aa FFF7FEFF 		bl	__aeabi_dmul
 706              	.LVL52:
 707 00ae 0246     		mov	r2, r0
 708 00b0 0B46     		mov	r3, r1
 199:Core/Src/main.c ****                 1.007723 * (adcBuffer[1] - 2048) -
 709              		.loc 1 199 50 view .LVU161
 710 00b2 4046     		mov	r0, r8
 711 00b4 4946     		mov	r1, r9
 712 00b6 FFF7FEFF 		bl	__aeabi_dadd
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 17


 713              	.LVL53:
 714 00ba 8046     		mov	r8, r0
 715 00bc 8946     		mov	r9, r1
 201:Core/Src/main.c ****                 0.033757 * (adcBuffer[2] - 2048);
 716              		.loc 1 201 26 view .LVU162
 717 00be 5EA3     		adr	r3, .L27+64
 718 00c0 D3E90023 		ldrd	r2, [r3]
 719 00c4 5046     		mov	r0, r10
 720 00c6 5946     		mov	r1, fp
 721 00c8 FFF7FEFF 		bl	__aeabi_dmul
 722              	.LVL54:
 723 00cc 0246     		mov	r2, r0
 724 00ce 0B46     		mov	r3, r1
 200:Core/Src/main.c ****                 1.007723 * (adcBuffer[1] - 2048) -
 725              		.loc 1 200 50 view .LVU163
 726 00d0 4046     		mov	r0, r8
 727 00d2 4946     		mov	r1, r9
 728 00d4 FFF7FEFF 		bl	__aeabi_dsub
 729              	.LVL55:
 730 00d8 FFF7FEFF 		bl	__aeabi_d2f
 731              	.LVL56:
 732 00dc 08EE100A 		vmov	s16, r0
 199:Core/Src/main.c ****                 1.007723 * (adcBuffer[1] - 2048) -
 733              		.loc 1 199 15 view .LVU164
 734 00e0 0490     		str	r0, [sp, #16]	@ float
 202:Core/Src/main.c **** 
 203:Core/Src/main.c ****     _sense[2] = -0.014988 * (adcBuffer[0] - 2048) -
 735              		.loc 1 203 5 is_stmt 1 view .LVU165
 736              		.loc 1 203 27 is_stmt 0 view .LVU166
 737 00e2 57A3     		adr	r3, .L27+72
 738 00e4 D3E90023 		ldrd	r2, [r3]
 739 00e8 3046     		mov	r0, r6
 740 00ea 3946     		mov	r1, r7
 741 00ec FFF7FEFF 		bl	__aeabi_dmul
 742              	.LVL57:
 743              		.loc 1 203 51 view .LVU167
 744 00f0 2246     		mov	r2, r4
 745 00f2 2B46     		mov	r3, r5
 746 00f4 FFF7FEFF 		bl	__aeabi_dsub
 747              	.LVL58:
 748 00f8 0446     		mov	r4, r0
 749 00fa 0D46     		mov	r5, r1
 204:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) +
 205:Core/Src/main.c ****                 0.995832 * (adcBuffer[2] - 2048);
 750              		.loc 1 205 26 view .LVU168
 751 00fc 44A3     		adr	r3, .L27+24
 752 00fe D3E90023 		ldrd	r2, [r3]
 753 0102 5046     		mov	r0, r10
 754 0104 5946     		mov	r1, fp
 755 0106 FFF7FEFF 		bl	__aeabi_dmul
 756              	.LVL59:
 757 010a 0246     		mov	r2, r0
 758 010c 0B46     		mov	r3, r1
 204:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) +
 759              		.loc 1 204 50 view .LVU169
 760 010e 2046     		mov	r0, r4
 761 0110 2946     		mov	r1, r5
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 18


 762 0112 FFF7FEFF 		bl	__aeabi_dadd
 763              	.LVL60:
 764 0116 FFF7FEFF 		bl	__aeabi_d2f
 765              	.LVL61:
 766 011a 07EE900A 		vmov	s15, r0
 203:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) +
 767              		.loc 1 203 15 view .LVU170
 768 011e 0590     		str	r0, [sp, #20]	@ float
 206:Core/Src/main.c **** 
 207:Core/Src/main.c ****     float gain = 1.2;
 769              		.loc 1 207 5 is_stmt 1 view .LVU171
 770              	.LVL62:
 208:Core/Src/main.c ****     float scaleFactor = 3.3 / 4096.0;
 771              		.loc 1 208 5 view .LVU172
 209:Core/Src/main.c **** 
 210:Core/Src/main.c ****     _sense[0] = (_sense[0] * scaleFactor) / gain;
 772              		.loc 1 210 5 view .LVU173
 773              		.loc 1 210 28 is_stmt 0 view .LVU174
 774 0120 DFED376A 		vldr.32	s13, .L27+8
 775 0124 68EEA68A 		vmul.f32	s17, s17, s13
 776              		.loc 1 210 43 view .LVU175
 777 0128 9FED367A 		vldr.32	s14, .L27+12
 778 012c C8EE879A 		vdiv.f32	s19, s17, s14
 779              		.loc 1 210 15 view .LVU176
 780 0130 CDED039A 		vstr.32	s19, [sp, #12]
 211:Core/Src/main.c ****     _sense[1] = (_sense[1] * scaleFactor) / gain;
 781              		.loc 1 211 5 is_stmt 1 view .LVU177
 782              		.loc 1 211 28 is_stmt 0 view .LVU178
 783 0134 28EE268A 		vmul.f32	s16, s16, s13
 784              		.loc 1 211 43 view .LVU179
 785 0138 88EE079A 		vdiv.f32	s18, s16, s14
 786              		.loc 1 211 15 view .LVU180
 787 013c 8DED049A 		vstr.32	s18, [sp, #16]
 212:Core/Src/main.c ****     _sense[2] = (_sense[2] * scaleFactor) / gain;
 788              		.loc 1 212 5 is_stmt 1 view .LVU181
 789              		.loc 1 212 28 is_stmt 0 view .LVU182
 790 0140 67EEA67A 		vmul.f32	s15, s15, s13
 791              		.loc 1 212 43 view .LVU183
 792 0144 C7EE878A 		vdiv.f32	s17, s15, s14
 793              		.loc 1 212 15 view .LVU184
 794 0148 CDED058A 		vstr.32	s17, [sp, #20]
 213:Core/Src/main.c **** 
 214:Core/Src/main.c ****     // 　ローパスフィルタ
 215:Core/Src/main.c ****     const float alpha = 0.08;
 795              		.loc 1 215 5 is_stmt 1 view .LVU185
 796              	.LVL63:
 216:Core/Src/main.c ****     sense[0] = (1.0 - alpha) * sense[0] + alpha * _sense[0];
 797              		.loc 1 216 5 view .LVU186
 798              		.loc 1 216 37 is_stmt 0 view .LVU187
 799 014c 2E4C     		ldr	r4, .L27+16
 800 014e 2068     		ldr	r0, [r4]	@ float
 801 0150 FFF7FEFF 		bl	__aeabi_f2d
 802              	.LVL64:
 803              		.loc 1 216 30 view .LVU188
 804 0154 28A3     		adr	r3, .L27
 805 0156 D3E90023 		ldrd	r2, [r3]
 806 015a FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 19


 807              	.LVL65:
 808 015e 0646     		mov	r6, r0
 809 0160 0F46     		mov	r7, r1
 810              		.loc 1 216 49 view .LVU189
 811 0162 9FED2A8A 		vldr.32	s16, .L27+20
 812 0166 69EE887A 		vmul.f32	s15, s19, s16
 813 016a 17EE900A 		vmov	r0, s15
 814 016e FFF7FEFF 		bl	__aeabi_f2d
 815              	.LVL66:
 816 0172 0246     		mov	r2, r0
 817 0174 0B46     		mov	r3, r1
 818              		.loc 1 216 41 view .LVU190
 819 0176 3046     		mov	r0, r6
 820 0178 3946     		mov	r1, r7
 821 017a FFF7FEFF 		bl	__aeabi_dadd
 822              	.LVL67:
 823 017e FFF7FEFF 		bl	__aeabi_d2f
 824              	.LVL68:
 825              		.loc 1 216 14 view .LVU191
 826 0182 2060     		str	r0, [r4]	@ float
 217:Core/Src/main.c ****     sense[1] = (1.0 - alpha) * sense[1] + alpha * _sense[1];
 827              		.loc 1 217 5 is_stmt 1 view .LVU192
 828              		.loc 1 217 37 is_stmt 0 view .LVU193
 829 0184 6068     		ldr	r0, [r4, #4]	@ float
 830 0186 FFF7FEFF 		bl	__aeabi_f2d
 831              	.LVL69:
 832              		.loc 1 217 30 view .LVU194
 833 018a 1BA3     		adr	r3, .L27
 834 018c D3E90023 		ldrd	r2, [r3]
 835 0190 FFF7FEFF 		bl	__aeabi_dmul
 836              	.LVL70:
 837 0194 0646     		mov	r6, r0
 838 0196 0F46     		mov	r7, r1
 839              		.loc 1 217 49 view .LVU195
 840 0198 69EE087A 		vmul.f32	s15, s18, s16
 841 019c 17EE900A 		vmov	r0, s15
 842 01a0 FFF7FEFF 		bl	__aeabi_f2d
 843              	.LVL71:
 844 01a4 0246     		mov	r2, r0
 845 01a6 0B46     		mov	r3, r1
 846              		.loc 1 217 41 view .LVU196
 847 01a8 3046     		mov	r0, r6
 848 01aa 3946     		mov	r1, r7
 849 01ac FFF7FEFF 		bl	__aeabi_dadd
 850              	.LVL72:
 851 01b0 FFF7FEFF 		bl	__aeabi_d2f
 852              	.LVL73:
 853              		.loc 1 217 14 view .LVU197
 854 01b4 6060     		str	r0, [r4, #4]	@ float
 218:Core/Src/main.c ****     sense[2] = (1.0 - alpha) * sense[2] + alpha * _sense[2];
 855              		.loc 1 218 5 is_stmt 1 view .LVU198
 856              		.loc 1 218 37 is_stmt 0 view .LVU199
 857 01b6 A068     		ldr	r0, [r4, #8]	@ float
 858 01b8 FFF7FEFF 		bl	__aeabi_f2d
 859              	.LVL74:
 860              		.loc 1 218 30 view .LVU200
 861 01bc 0EA3     		adr	r3, .L27
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 20


 862 01be D3E90023 		ldrd	r2, [r3]
 863 01c2 FFF7FEFF 		bl	__aeabi_dmul
 864              	.LVL75:
 865 01c6 0646     		mov	r6, r0
 866 01c8 0F46     		mov	r7, r1
 867              		.loc 1 218 49 view .LVU201
 868 01ca 68EE887A 		vmul.f32	s15, s17, s16
 869 01ce 17EE900A 		vmov	r0, s15
 870 01d2 FFF7FEFF 		bl	__aeabi_f2d
 871              	.LVL76:
 872 01d6 0246     		mov	r2, r0
 873 01d8 0B46     		mov	r3, r1
 874              		.loc 1 218 41 view .LVU202
 875 01da 3046     		mov	r0, r6
 876 01dc 3946     		mov	r1, r7
 877 01de FFF7FEFF 		bl	__aeabi_dadd
 878              	.LVL77:
 879 01e2 FFF7FEFF 		bl	__aeabi_d2f
 880              	.LVL78:
 881              		.loc 1 218 14 view .LVU203
 882 01e6 A060     		str	r0, [r4, #8]	@ float
 219:Core/Src/main.c **** 
 220:Core/Src/main.c ****     // sense_A += 0.5;
 221:Core/Src/main.c ****     // sense_B += 0.45;
 222:Core/Src/main.c ****     // sense_C += 0.33;
 223:Core/Src/main.c **** }
 883              		.loc 1 223 1 view .LVU204
 884 01e8 07B0     		add	sp, sp, #28
 885              	.LCFI10:
 886              		.cfi_def_cfa_offset 52
 887              		@ sp needed
 888 01ea BDEC048B 		vldm	sp!, {d8-d9}
 889              	.LCFI11:
 890              		.cfi_restore 82
 891              		.cfi_restore 83
 892              		.cfi_restore 80
 893              		.cfi_restore 81
 894              		.cfi_def_cfa_offset 36
 895 01ee BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 896              	.L28:
 897 01f2 00BFAFF3 		.align	3
 897      0080
 898              	.L27:
 899 01f8 000000D8 		.word	-671088640
 900 01fc A370ED3F 		.word	1072525475
 901 0200 3333533A 		.word	978531123
 902 0204 9A99993F 		.word	1067030938
 903 0208 00000000 		.word	sense
 904 020c 0AD7A33D 		.word	1034147594
 905 0210 C0ED0912 		.word	302640576
 906 0214 DBDDEF3F 		.word	1072684507
 907 0218 279F1EDB 		.word	-618750169
 908 021c 32E09C3F 		.word	1067245618
 909 0220 7FDAA84E 		.word	1319688831
 910 0224 07B28E3F 		.word	1066316295
 911 0228 0DC4B299 		.word	-1716337651
 912 022c 4352A33F 		.word	1067668035
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 21


 913 0230 06D50627 		.word	654759174
 914 0234 A21FF03F 		.word	1072701346
 915 0238 3BAB05F6 		.word	-167400645
 916 023c 9848A13F 		.word	1067534488
 917 0240 7FDAA84E 		.word	1319688831
 918 0244 07B28EBF 		.word	-1081167353
 919 0248 00000000 		.word	adcBuffer
 920              		.cfi_endproc
 921              	.LFE133:
 923              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 924              		.align	1
 925              		.global	HAL_UART_TxCpltCallback
 926              		.syntax unified
 927              		.thumb
 928              		.thumb_func
 930              	HAL_UART_TxCpltCallback:
 931              	.LVL79:
 932              	.LFB136:
 224:Core/Src/main.c **** /* USER CODE END 0 */
 225:Core/Src/main.c **** 
 226:Core/Src/main.c **** /**
 227:Core/Src/main.c ****  * @brief  The application entry point.
 228:Core/Src/main.c ****  * @retval int
 229:Core/Src/main.c ****  */
 230:Core/Src/main.c **** int main(void) {
 231:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 232:Core/Src/main.c **** 
 233:Core/Src/main.c ****     /* USER CODE END 1 */
 234:Core/Src/main.c **** 
 235:Core/Src/main.c ****     /* MCU
 236:Core/Src/main.c ****      * Configuration--------------------------------------------------------*/
 237:Core/Src/main.c **** 
 238:Core/Src/main.c ****     /* Reset of all peripherals, Initializes the Flash interface and the
 239:Core/Src/main.c ****      * Systick. */
 240:Core/Src/main.c ****     HAL_Init();
 241:Core/Src/main.c **** 
 242:Core/Src/main.c ****     /* USER CODE BEGIN Init */
 243:Core/Src/main.c **** 
 244:Core/Src/main.c ****     /* USER CODE END Init */
 245:Core/Src/main.c **** 
 246:Core/Src/main.c ****     /* Configure the system clock */
 247:Core/Src/main.c ****     SystemClock_Config();
 248:Core/Src/main.c **** 
 249:Core/Src/main.c ****     /* USER CODE BEGIN SysInit */
 250:Core/Src/main.c **** 
 251:Core/Src/main.c ****     /* USER CODE END SysInit */
 252:Core/Src/main.c **** 
 253:Core/Src/main.c ****     /* Initialize all configured peripherals */
 254:Core/Src/main.c ****     MX_GPIO_Init();
 255:Core/Src/main.c ****     MX_DMA_Init();
 256:Core/Src/main.c ****     MX_TIM1_Init();
 257:Core/Src/main.c ****     MX_TIM16_Init();
 258:Core/Src/main.c ****     MX_TIM2_Init();
 259:Core/Src/main.c ****     MX_TIM3_Init();
 260:Core/Src/main.c ****     MX_SPI1_Init();
 261:Core/Src/main.c ****     MX_USART1_UART_Init();
 262:Core/Src/main.c ****     MX_ADC1_Init();
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 22


 263:Core/Src/main.c ****     /* USER CODE BEGIN 2 */
 264:Core/Src/main.c ****     setbuf(stdin, NULL);
 265:Core/Src/main.c ****     setbuf(stdout, NULL);
 266:Core/Src/main.c ****     setbuf(stderr, NULL);
 267:Core/Src/main.c ****     dma_printf_init(&huart1);
 268:Core/Src/main.c ****     dma_scanf_init(&huart1);
 269:Core/Src/main.c **** 
 270:Core/Src/main.c ****     // A相
 271:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_1);     // H
 272:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_1);  // L
 273:Core/Src/main.c **** 
 274:Core/Src/main.c ****     // B相
 275:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim16, TIM_CHANNEL_1);     // H
 276:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim16, TIM_CHANNEL_1);  // L
 277:Core/Src/main.c **** 
 278:Core/Src/main.c ****     // C相
 279:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_4);     // H
 280:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_3);  // L
 281:Core/Src/main.c **** 
 282:Core/Src/main.c ****     // デバッグ用LED
 283:Core/Src/main.c ****     // HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_1);
 284:Core/Src/main.c **** 
 285:Core/Src/main.c ****     // タイマー用
 286:Core/Src/main.c **** 
 287:Core/Src/main.c ****     // DRVOFF
 288:Core/Src/main.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_1, GPIO_PIN_RESET);
 289:Core/Src/main.c **** 
 290:Core/Src/main.c ****     HAL_ADCEx_Calibration_Start(&hadc1, ADC_SINGLE_ENDED);
 291:Core/Src/main.c **** 
 292:Core/Src/main.c ****     if (HAL_ADC_Start_DMA(&hadc1, (uint32_t *)adcBuffer, 3) == HAL_OK)
 293:Core/Src/main.c ****         printf("Start ADC Successfully\n\r");
 294:Core/Src/main.c ****     else
 295:Core/Src/main.c ****         printf("Start ADC failed\n\r");
 296:Core/Src/main.c ****     /* USER CODE END 2 */
 297:Core/Src/main.c **** 
 298:Core/Src/main.c ****     /* Infinite loop */
 299:Core/Src/main.c ****     /* USER CODE BEGIN WHILE */
 300:Core/Src/main.c **** 
 301:Core/Src/main.c ****     for (int i = 0; i < 1170; i++) {
 302:Core/Src/main.c ****         cos_table[i] = cos(radians(i * 360.0 / 1170.0));
 303:Core/Src/main.c ****     }
 304:Core/Src/main.c **** 
 305:Core/Src/main.c ****     dma_printf_puts("BLDRV Gen2\r\n");
 306:Core/Src/main.c ****     dma_printf_puts("Calibration Start\r\n");
 307:Core/Src/main.c ****     setPhase(0, 50);
 308:Core/Src/main.c ****     HAL_Delay(500);
 309:Core/Src/main.c **** 
 310:Core/Src/main.c ****     offset = getRotation();  // なんか2回いる
 311:Core/Src/main.c ****     offset = getRotation();
 312:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 313:Core/Src/main.c ****     dma_printf_puts(uint2char(offset));
 314:Core/Src/main.c ****     dma_printf_puts("\r\n");
 315:Core/Src/main.c ****     dma_printf_puts("Calibration End\r\n");
 316:Core/Src/main.c **** 
 317:Core/Src/main.c ****     HAL_TIM_Base_Start_IT(&htim2);
 318:Core/Src/main.c **** 
 319:Core/Src/main.c ****     while (1) {
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 23


 320:Core/Src/main.c ****         /* USER CODE END WHILE */
 321:Core/Src/main.c **** 
 322:Core/Src/main.c ****         /* USER CODE BEGIN 3 */
 323:Core/Src/main.c **** 
 324:Core/Src/main.c ****         // dma_printf_puts("Angle: ");
 325:Core/Src/main.c ****         // dma_printf_puts(uint2char(rotation));
 326:Core/Src/main.c ****         // dma_printf_puts("\r\n");
 327:Core/Src/main.c **** 
 328:Core/Src/main.c ****         // printf("%f\t%f\t%f\n", sense[0], sense[1], sense[2]);
 329:Core/Src/main.c ****         // printf("ADC: %d %d %d\n", adcBuffer[0], adcBuffer[1], adcBuffer[2]);
 330:Core/Src/main.c ****     }
 331:Core/Src/main.c ****     /* USER CODE END 3 */
 332:Core/Src/main.c **** }
 333:Core/Src/main.c **** 
 334:Core/Src/main.c **** /**
 335:Core/Src/main.c ****  * @brief System Clock Configuration
 336:Core/Src/main.c ****  * @retval None
 337:Core/Src/main.c ****  */
 338:Core/Src/main.c **** void SystemClock_Config(void) {
 339:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 340:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 341:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 342:Core/Src/main.c **** 
 343:Core/Src/main.c ****     /** Initializes the RCC Oscillators according to the specified parameters
 344:Core/Src/main.c ****      * in the RCC_OscInitTypeDef structure.
 345:Core/Src/main.c ****      */
 346:Core/Src/main.c ****     RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
 347:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 348:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 349:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 350:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 351:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL8;
 352:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 353:Core/Src/main.c ****         Error_Handler();
 354:Core/Src/main.c ****     }
 355:Core/Src/main.c **** 
 356:Core/Src/main.c ****     /** Initializes the CPU, AHB and APB buses clocks
 357:Core/Src/main.c ****      */
 358:Core/Src/main.c ****     RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK |
 359:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 360:Core/Src/main.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 361:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 362:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 363:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 364:Core/Src/main.c **** 
 365:Core/Src/main.c ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_1) != HAL_OK) {
 366:Core/Src/main.c ****         Error_Handler();
 367:Core/Src/main.c ****     }
 368:Core/Src/main.c ****     PeriphClkInit.PeriphClockSelection =
 369:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 370:Core/Src/main.c ****     PeriphClkInit.Usart1ClockSelection = RCC_USART1CLKSOURCE_PCLK1;
 371:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 372:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 373:Core/Src/main.c ****         Error_Handler();
 374:Core/Src/main.c ****     }
 375:Core/Src/main.c **** }
 376:Core/Src/main.c **** 
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 24


 377:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 378:Core/Src/main.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart) {
 933              		.loc 1 378 57 is_stmt 1 view -0
 934              		.cfi_startproc
 935              		@ args = 0, pretend = 0, frame = 0
 936              		@ frame_needed = 0, uses_anonymous_args = 0
 937              		.loc 1 378 57 is_stmt 0 view .LVU206
 938 0000 08B5     		push	{r3, lr}
 939              	.LCFI12:
 940              		.cfi_def_cfa_offset 8
 941              		.cfi_offset 3, -8
 942              		.cfi_offset 14, -4
 379:Core/Src/main.c ****     dma_printf_send_it(huart);
 943              		.loc 1 379 5 is_stmt 1 view .LVU207
 944 0002 FFF7FEFF 		bl	dma_printf_send_it
 945              	.LVL80:
 380:Core/Src/main.c **** }
 946              		.loc 1 380 1 is_stmt 0 view .LVU208
 947 0006 08BD     		pop	{r3, pc}
 948              		.cfi_endproc
 949              	.LFE136:
 951              		.section	.text.__io_putchar,"ax",%progbits
 952              		.align	1
 953              		.global	__io_putchar
 954              		.syntax unified
 955              		.thumb
 956              		.thumb_func
 958              	__io_putchar:
 959              	.LVL81:
 960              	.LFB137:
 381:Core/Src/main.c **** int __io_putchar(int ch) {
 961              		.loc 1 381 26 is_stmt 1 view -0
 962              		.cfi_startproc
 963              		@ args = 0, pretend = 0, frame = 0
 964              		@ frame_needed = 0, uses_anonymous_args = 0
 965              		.loc 1 381 26 is_stmt 0 view .LVU210
 966 0000 10B5     		push	{r4, lr}
 967              	.LCFI13:
 968              		.cfi_def_cfa_offset 8
 969              		.cfi_offset 4, -8
 970              		.cfi_offset 14, -4
 971 0002 0446     		mov	r4, r0
 382:Core/Src/main.c ****     dma_printf_putc(ch & 0xFF);
 972              		.loc 1 382 5 is_stmt 1 view .LVU211
 973 0004 C0B2     		uxtb	r0, r0
 974              	.LVL82:
 975              		.loc 1 382 5 is_stmt 0 view .LVU212
 976 0006 FFF7FEFF 		bl	dma_printf_putc
 977              	.LVL83:
 383:Core/Src/main.c ****     return ch;
 978              		.loc 1 383 5 is_stmt 1 view .LVU213
 384:Core/Src/main.c **** }
 979              		.loc 1 384 1 is_stmt 0 view .LVU214
 980 000a 2046     		mov	r0, r4
 981 000c 10BD     		pop	{r4, pc}
 982              		.loc 1 384 1 view .LVU215
 983              		.cfi_endproc
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 25


 984              	.LFE137:
 986              		.section	.text.__io_getchar,"ax",%progbits
 987              		.align	1
 988              		.global	__io_getchar
 989              		.syntax unified
 990              		.thumb
 991              		.thumb_func
 993              	__io_getchar:
 994              	.LFB138:
 385:Core/Src/main.c **** 
 386:Core/Src/main.c **** int __io_getchar(void) {
 995              		.loc 1 386 24 is_stmt 1 view -0
 996              		.cfi_startproc
 997              		@ args = 0, pretend = 0, frame = 0
 998              		@ frame_needed = 0, uses_anonymous_args = 0
 999 0000 08B5     		push	{r3, lr}
 1000              	.LCFI14:
 1001              		.cfi_def_cfa_offset 8
 1002              		.cfi_offset 3, -8
 1003              		.cfi_offset 14, -4
 387:Core/Src/main.c ****     return dma_scanf_getc_blocking();
 1004              		.loc 1 387 5 view .LVU217
 1005              		.loc 1 387 12 is_stmt 0 view .LVU218
 1006 0002 FFF7FEFF 		bl	dma_scanf_getc_blocking
 1007              	.LVL84:
 388:Core/Src/main.c **** }
 1008              		.loc 1 388 1 view .LVU219
 1009 0006 08BD     		pop	{r3, pc}
 1010              		.cfi_endproc
 1011              	.LFE138:
 1013              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 1014              		.align	1
 1015              		.global	HAL_TIM_PeriodElapsedCallback
 1016              		.syntax unified
 1017              		.thumb
 1018              		.thumb_func
 1020              	HAL_TIM_PeriodElapsedCallback:
 1021              	.LVL85:
 1022              	.LFB139:
 389:Core/Src/main.c **** 
 390:Core/Src/main.c **** int old_real_angle = 0;
 391:Core/Src/main.c **** 
 392:Core/Src/main.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim) {
 1023              		.loc 1 392 61 is_stmt 1 view -0
 1024              		.cfi_startproc
 1025              		@ args = 0, pretend = 0, frame = 0
 1026              		@ frame_needed = 0, uses_anonymous_args = 0
 1027              		.loc 1 392 61 is_stmt 0 view .LVU221
 1028 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1029              	.LCFI15:
 1030              		.cfi_def_cfa_offset 24
 1031              		.cfi_offset 3, -24
 1032              		.cfi_offset 4, -20
 1033              		.cfi_offset 5, -16
 1034              		.cfi_offset 6, -12
 1035              		.cfi_offset 7, -8
 1036              		.cfi_offset 14, -4
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 26


 1037 0002 2DED028B 		vpush.64	{d8}
 1038              	.LCFI16:
 1039              		.cfi_def_cfa_offset 32
 1040              		.cfi_offset 80, -32
 1041              		.cfi_offset 81, -28
 393:Core/Src/main.c ****     if (htim == &htim2) {
 1042              		.loc 1 393 5 is_stmt 1 view .LVU222
 1043              		.loc 1 393 8 is_stmt 0 view .LVU223
 1044 0006 5C4B     		ldr	r3, .L43+24
 1045 0008 8342     		cmp	r3, r0
 1046 000a 02D0     		beq	.L42
 1047              	.LVL86:
 1048              	.L35:
 394:Core/Src/main.c ****         int16_t real_angle = getRotation() - offset;
 395:Core/Src/main.c ****         real_angle += 8192;
 396:Core/Src/main.c ****         real_angle %= 8192;
 397:Core/Src/main.c **** 
 398:Core/Src/main.c ****         int velocity = real_angle - old_real_angle;
 399:Core/Src/main.c ****         if (velocity > 4096) {
 400:Core/Src/main.c ****             velocity -= 8192;
 401:Core/Src/main.c ****         } else if (velocity < -4096) {
 402:Core/Src/main.c ****             velocity += 8192;
 403:Core/Src/main.c ****         }
 404:Core/Src/main.c **** 
 405:Core/Src/main.c ****         old_real_angle = real_angle;
 406:Core/Src/main.c **** 
 407:Core/Src/main.c ****         uint16_t rotation = electrical_angle(real_angle);
 408:Core/Src/main.c **** 
 409:Core/Src/main.c ****         senseOut();
 410:Core/Src/main.c **** 
 411:Core/Src/main.c ****         float ref_vel = ((HAL_GetTick() / 1000) % 2) ? 4 : 0;
 412:Core/Src/main.c **** 
 413:Core/Src/main.c ****         float err_vel = ref_vel - velocity;
 414:Core/Src/main.c ****         static float err_vel_int = 0;
 415:Core/Src/main.c ****         err_vel_int += err_vel;
 416:Core/Src/main.c **** 
 417:Core/Src/main.c ****         float vol_q = ref_vel;
 418:Core/Src/main.c **** 
 419:Core/Src/main.c ****         // float err_d;
 420:Core/Src/main.c ****         // static float err_d_int = 0;
 421:Core/Src/main.c ****         // float err_q;
 422:Core/Src/main.c ****         // static float err_q_int = 0;
 423:Core/Src/main.c **** 
 424:Core/Src/main.c ****         // // alpha beta
 425:Core/Src/main.c ****         // float curr_alpha =
 426:Core/Src/main.c ****         //     0.8169496580928 * (sense[0] - 0.5 * (sense[1] + sense[2]));
 427:Core/Src/main.c ****         // float curr_beta = 0.7071067811866 * (sense[1] - sense[2]);
 428:Core/Src/main.c **** 
 429:Core/Src/main.c ****         // // dq
 430:Core/Src/main.c ****         // float curr_d = curr_alpha * cos_table[rotation] +
 431:Core/Src/main.c ****         //                curr_beta * cos_table[(rotation + 877) % 1170];
 432:Core/Src/main.c ****         // float curr_q = -curr_alpha * cos_table[(rotation + 877) % 1170] +
 433:Core/Src/main.c ****         //                curr_beta * cos_table[rotation];
 434:Core/Src/main.c **** 
 435:Core/Src/main.c ****         // err_d = 0.0 - curr_d;
 436:Core/Src/main.c ****         // err_d_int += err_d;
 437:Core/Src/main.c ****         // float vol_d = 1.2 * err_d + 0.0008 * err_d_int;
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 27


 438:Core/Src/main.c **** 
 439:Core/Src/main.c ****         // err_q = ref_q - curr_q;
 440:Core/Src/main.c ****         // err_q_int += err_q;
 441:Core/Src/main.c **** 
 442:Core/Src/main.c ****         // float vol_q = 1.2 * err_q + 0.0008 * err_q_int;
 443:Core/Src/main.c ****         float vol_d = 0.0;
 444:Core/Src/main.c **** 
 445:Core/Src/main.c ****         float vol_alpha = vol_d * cos_table[rotation] -
 446:Core/Src/main.c ****                           vol_q * cos_table[(rotation + 877) % 1170];
 447:Core/Src/main.c **** 
 448:Core/Src/main.c ****         float vol_beta = vol_d * cos_table[(rotation + 877) % 1170] +
 449:Core/Src/main.c ****                          vol_q * cos_table[rotation];
 450:Core/Src/main.c **** 
 451:Core/Src/main.c ****         float vol_u = 0.81649658 * vol_alpha;
 452:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 453:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 454:Core/Src/main.c **** 
 455:Core/Src/main.c ****         setVoltage(vol_u, vol_v, vol_w);
 456:Core/Src/main.c **** 
 457:Core/Src/main.c ****         // printf("vol_q: %5f\tvol_d: %5f\tcurr_q: %5f\tcurr_d: %5f\n", vol_q,
 458:Core/Src/main.c ****         //        vol_d, curr_q, curr_d);
 459:Core/Src/main.c ****     }
 460:Core/Src/main.c **** }
 1049              		.loc 1 460 1 view .LVU224
 1050 000c BDEC028B 		vldm	sp!, {d8}
 1051              	.LCFI17:
 1052              		.cfi_remember_state
 1053              		.cfi_restore 80
 1054              		.cfi_restore 81
 1055              		.cfi_def_cfa_offset 24
 1056 0010 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1057              	.LVL87:
 1058              	.L42:
 1059              	.LCFI18:
 1060              		.cfi_restore_state
 1061              	.LBB6:
 394:Core/Src/main.c ****         int16_t real_angle = getRotation() - offset;
 1062              		.loc 1 394 9 is_stmt 1 view .LVU225
 394:Core/Src/main.c ****         int16_t real_angle = getRotation() - offset;
 1063              		.loc 1 394 30 is_stmt 0 view .LVU226
 1064 0012 FFF7FEFF 		bl	getRotation
 1065              	.LVL88:
 394:Core/Src/main.c ****         int16_t real_angle = getRotation() - offset;
 1066              		.loc 1 394 30 view .LVU227
 1067 0016 80B2     		uxth	r0, r0
 394:Core/Src/main.c ****         int16_t real_angle = getRotation() - offset;
 1068              		.loc 1 394 44 view .LVU228
 1069 0018 584B     		ldr	r3, .L43+28
 1070 001a 1B68     		ldr	r3, [r3]
 1071 001c C01A     		subs	r0, r0, r3
 1072 001e 80B2     		uxth	r0, r0
 1073              	.LVL89:
 395:Core/Src/main.c ****         real_angle %= 8192;
 1074              		.loc 1 395 9 is_stmt 1 view .LVU229
 395:Core/Src/main.c ****         real_angle %= 8192;
 1075              		.loc 1 395 20 is_stmt 0 view .LVU230
 1076 0020 00F50050 		add	r0, r0, #8192
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 28


 1077              	.LVL90:
 395:Core/Src/main.c ****         real_angle %= 8192;
 1078              		.loc 1 395 20 view .LVU231
 1079 0024 00B2     		sxth	r0, r0
 1080              	.LVL91:
 396:Core/Src/main.c **** 
 1081              		.loc 1 396 9 is_stmt 1 view .LVU232
 396:Core/Src/main.c **** 
 1082              		.loc 1 396 20 is_stmt 0 view .LVU233
 1083 0026 4342     		rsbs	r3, r0, #0
 1084 0028 C0F30C00 		ubfx	r0, r0, #0, #13
 1085              	.LVL92:
 396:Core/Src/main.c **** 
 1086              		.loc 1 396 20 view .LVU234
 1087 002c C3F30C03 		ubfx	r3, r3, #0, #13
 1088 0030 58BF     		it	pl
 1089 0032 5842     		rsbpl	r0, r3, #0
 1090              	.LVL93:
 398:Core/Src/main.c ****         if (velocity > 4096) {
 1091              		.loc 1 398 9 is_stmt 1 view .LVU235
 398:Core/Src/main.c ****         if (velocity > 4096) {
 1092              		.loc 1 398 35 is_stmt 0 view .LVU236
 1093 0034 524B     		ldr	r3, .L43+32
 1094 0036 1C68     		ldr	r4, [r3]
 398:Core/Src/main.c ****         if (velocity > 4096) {
 1095              		.loc 1 398 13 view .LVU237
 1096 0038 041B     		subs	r4, r0, r4
 1097              	.LVL94:
 399:Core/Src/main.c ****             velocity -= 8192;
 1098              		.loc 1 399 9 is_stmt 1 view .LVU238
 399:Core/Src/main.c ****             velocity -= 8192;
 1099              		.loc 1 399 12 is_stmt 0 view .LVU239
 1100 003a B4F5805F 		cmp	r4, #4096
 1101 003e 40F38280 		ble	.L37
 400:Core/Src/main.c ****         } else if (velocity < -4096) {
 1102              		.loc 1 400 13 is_stmt 1 view .LVU240
 400:Core/Src/main.c ****         } else if (velocity < -4096) {
 1103              		.loc 1 400 22 is_stmt 0 view .LVU241
 1104 0042 A4F50054 		sub	r4, r4, #8192
 1105              	.LVL95:
 1106              	.L38:
 405:Core/Src/main.c **** 
 1107              		.loc 1 405 9 is_stmt 1 view .LVU242
 405:Core/Src/main.c **** 
 1108              		.loc 1 405 24 is_stmt 0 view .LVU243
 1109 0046 4E4B     		ldr	r3, .L43+32
 1110 0048 1860     		str	r0, [r3]
 407:Core/Src/main.c **** 
 1111              		.loc 1 407 9 is_stmt 1 view .LVU244
 407:Core/Src/main.c **** 
 1112              		.loc 1 407 29 is_stmt 0 view .LVU245
 1113 004a FFF7FEFF 		bl	electrical_angle
 1114              	.LVL96:
 407:Core/Src/main.c **** 
 1115              		.loc 1 407 29 view .LVU246
 1116 004e 0546     		mov	r5, r0
 1117              	.LVL97:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 29


 409:Core/Src/main.c **** 
 1118              		.loc 1 409 9 is_stmt 1 view .LVU247
 1119 0050 FFF7FEFF 		bl	senseOut
 1120              	.LVL98:
 411:Core/Src/main.c **** 
 1121              		.loc 1 411 9 view .LVU248
 411:Core/Src/main.c **** 
 1122              		.loc 1 411 27 is_stmt 0 view .LVU249
 1123 0054 FFF7FEFF 		bl	HAL_GetTick
 1124              	.LVL99:
 411:Core/Src/main.c **** 
 1125              		.loc 1 411 41 view .LVU250
 1126 0058 4A4B     		ldr	r3, .L43+36
 1127 005a A3FB0030 		umull	r3, r0, r3, r0
 411:Core/Src/main.c **** 
 1128              		.loc 1 411 15 view .LVU251
 1129 005e 10F0400F 		tst	r0, #64
 1130 0062 77D0     		beq	.L40
 411:Core/Src/main.c **** 
 1131              		.loc 1 411 15 view .LVU252
 1132 0064 F1EE006A 		vmov.f32	s13, #4.0e+0
 1133              	.L39:
 1134              	.LVL100:
 413:Core/Src/main.c ****         static float err_vel_int = 0;
 1135              		.loc 1 413 9 is_stmt 1 discriminator 4 view .LVU253
 413:Core/Src/main.c ****         static float err_vel_int = 0;
 1136              		.loc 1 413 33 is_stmt 0 discriminator 4 view .LVU254
 1137 0068 07EE904A 		vmov	s15, r4	@ int
 1138 006c F8EEE77A 		vcvt.f32.s32	s15, s15
 413:Core/Src/main.c ****         static float err_vel_int = 0;
 1139              		.loc 1 413 15 discriminator 4 view .LVU255
 1140 0070 76EEE77A 		vsub.f32	s15, s13, s15
 1141              	.LVL101:
 414:Core/Src/main.c ****         err_vel_int += err_vel;
 1142              		.loc 1 414 9 is_stmt 1 discriminator 4 view .LVU256
 415:Core/Src/main.c **** 
 1143              		.loc 1 415 9 discriminator 4 view .LVU257
 415:Core/Src/main.c **** 
 1144              		.loc 1 415 21 is_stmt 0 discriminator 4 view .LVU258
 1145 0074 444B     		ldr	r3, .L43+40
 1146 0076 93ED007A 		vldr.32	s14, [r3]
 1147 007a 77EE277A 		vadd.f32	s15, s14, s15
 1148              	.LVL102:
 415:Core/Src/main.c **** 
 1149              		.loc 1 415 21 discriminator 4 view .LVU259
 1150 007e C3ED007A 		vstr.32	s15, [r3]
 417:Core/Src/main.c **** 
 1151              		.loc 1 417 9 is_stmt 1 discriminator 4 view .LVU260
 1152              	.LVL103:
 443:Core/Src/main.c **** 
 1153              		.loc 1 443 9 discriminator 4 view .LVU261
 445:Core/Src/main.c ****                           vol_q * cos_table[(rotation + 877) % 1170];
 1154              		.loc 1 445 9 discriminator 4 view .LVU262
 445:Core/Src/main.c ****                           vol_q * cos_table[(rotation + 877) % 1170];
 1155              		.loc 1 445 44 is_stmt 0 discriminator 4 view .LVU263
 1156 0082 4249     		ldr	r1, .L43+44
 1157 0084 01EB8503 		add	r3, r1, r5, lsl #2
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 30


 1158 0088 93ED007A 		vldr.32	s14, [r3]
 445:Core/Src/main.c ****                           vol_q * cos_table[(rotation + 877) % 1170];
 1159              		.loc 1 445 33 discriminator 4 view .LVU264
 1160 008c 9FED406A 		vldr.32	s12, .L43+48
 1161 0090 27EE065A 		vmul.f32	s10, s14, s12
 446:Core/Src/main.c **** 
 1162              		.loc 1 446 55 discriminator 4 view .LVU265
 1163 0094 05F26D30 		addw	r0, r5, #877
 446:Core/Src/main.c **** 
 1164              		.loc 1 446 62 discriminator 4 view .LVU266
 1165 0098 3E4A     		ldr	r2, .L43+52
 1166 009a 82FB0032 		smull	r3, r2, r2, r0
 1167 009e 0244     		add	r2, r2, r0
 1168 00a0 C317     		asrs	r3, r0, #31
 1169 00a2 C3EBA223 		rsb	r3, r3, r2, asr #10
 1170 00a6 40F29242 		movw	r2, #1170
 1171 00aa 02FB1303 		mls	r3, r2, r3, r0
 446:Core/Src/main.c **** 
 1172              		.loc 1 446 44 discriminator 4 view .LVU267
 1173 00ae 01EB8301 		add	r1, r1, r3, lsl #2
 1174 00b2 D1ED007A 		vldr.32	s15, [r1]
 446:Core/Src/main.c **** 
 1175              		.loc 1 446 33 discriminator 4 view .LVU268
 1176 00b6 67EEA65A 		vmul.f32	s11, s15, s13
 1177              	.LVL104:
 448:Core/Src/main.c ****                          vol_q * cos_table[rotation];
 1178              		.loc 1 448 9 is_stmt 1 discriminator 4 view .LVU269
 448:Core/Src/main.c ****                          vol_q * cos_table[rotation];
 1179              		.loc 1 448 32 is_stmt 0 discriminator 4 view .LVU270
 1180 00ba 67EE867A 		vmul.f32	s15, s15, s12
 449:Core/Src/main.c **** 
 1181              		.loc 1 449 32 discriminator 4 view .LVU271
 1182 00be 27EE267A 		vmul.f32	s14, s14, s13
 448:Core/Src/main.c ****                          vol_q * cos_table[rotation];
 1183              		.loc 1 448 15 discriminator 4 view .LVU272
 1184 00c2 37EE878A 		vadd.f32	s16, s15, s14
 1185              	.LVL105:
 451:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1186              		.loc 1 451 9 is_stmt 1 discriminator 4 view .LVU273
 451:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1187              		.loc 1 451 34 is_stmt 0 discriminator 4 view .LVU274
 1188 00c6 75EE657A 		vsub.f32	s15, s10, s11
 1189              	.LVL106:
 451:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1190              		.loc 1 451 34 discriminator 4 view .LVU275
 1191 00ca 17EE900A 		vmov	r0, s15
 1192 00ce FFF7FEFF 		bl	__aeabi_f2d
 1193              	.LVL107:
 451:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1194              		.loc 1 451 34 discriminator 4 view .LVU276
 1195 00d2 0446     		mov	r4, r0
 1196              	.LVL108:
 451:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1197              		.loc 1 451 34 discriminator 4 view .LVU277
 1198 00d4 0D46     		mov	r5, r1
 1199              	.LVL109:
 451:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 31


 1200              		.loc 1 451 34 discriminator 4 view .LVU278
 1201 00d6 22A3     		adr	r3, .L43
 1202 00d8 D3E90023 		ldrd	r2, [r3]
 1203 00dc FFF7FEFF 		bl	__aeabi_dmul
 1204              	.LVL110:
 451:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1205              		.loc 1 451 15 discriminator 4 view .LVU279
 1206 00e0 FFF7FEFF 		bl	__aeabi_d2f
 1207              	.LVL111:
 1208 00e4 08EE900A 		vmov	s17, r0
 1209              	.LVL112:
 452:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1210              		.loc 1 452 9 is_stmt 1 discriminator 4 view .LVU280
 452:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1211              		.loc 1 452 35 is_stmt 0 discriminator 4 view .LVU281
 1212 00e8 1FA3     		adr	r3, .L43+8
 1213 00ea D3E90023 		ldrd	r2, [r3]
 1214 00ee 2046     		mov	r0, r4
 1215              	.LVL113:
 452:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1216              		.loc 1 452 35 discriminator 4 view .LVU282
 1217 00f0 2946     		mov	r1, r5
 1218 00f2 FFF7FEFF 		bl	__aeabi_dmul
 1219              	.LVL114:
 1220 00f6 0446     		mov	r4, r0
 1221 00f8 0D46     		mov	r5, r1
 452:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1222              		.loc 1 452 61 discriminator 4 view .LVU283
 1223 00fa 18EE100A 		vmov	r0, s16
 1224 00fe FFF7FEFF 		bl	__aeabi_f2d
 1225              	.LVL115:
 1226 0102 1BA3     		adr	r3, .L43+16
 1227 0104 D3E90023 		ldrd	r2, [r3]
 1228 0108 FFF7FEFF 		bl	__aeabi_dmul
 1229              	.LVL116:
 1230 010c 0646     		mov	r6, r0
 1231 010e 0F46     		mov	r7, r1
 452:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1232              		.loc 1 452 47 discriminator 4 view .LVU284
 1233 0110 0246     		mov	r2, r0
 1234 0112 0B46     		mov	r3, r1
 1235 0114 2046     		mov	r0, r4
 1236 0116 2946     		mov	r1, r5
 1237 0118 FFF7FEFF 		bl	__aeabi_dadd
 1238              	.LVL117:
 452:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1239              		.loc 1 452 15 discriminator 4 view .LVU285
 1240 011c FFF7FEFF 		bl	__aeabi_d2f
 1241              	.LVL118:
 1242 0120 08EE100A 		vmov	s16, r0
 1243              	.LVL119:
 453:Core/Src/main.c **** 
 1244              		.loc 1 453 9 is_stmt 1 discriminator 4 view .LVU286
 453:Core/Src/main.c **** 
 1245              		.loc 1 453 47 is_stmt 0 discriminator 4 view .LVU287
 1246 0124 3246     		mov	r2, r6
 1247 0126 3B46     		mov	r3, r7
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 32


 1248 0128 2046     		mov	r0, r4
 1249              	.LVL120:
 453:Core/Src/main.c **** 
 1250              		.loc 1 453 47 discriminator 4 view .LVU288
 1251 012a 2946     		mov	r1, r5
 1252 012c FFF7FEFF 		bl	__aeabi_dsub
 1253              	.LVL121:
 453:Core/Src/main.c **** 
 1254              		.loc 1 453 15 discriminator 4 view .LVU289
 1255 0130 FFF7FEFF 		bl	__aeabi_d2f
 1256              	.LVL122:
 455:Core/Src/main.c **** 
 1257              		.loc 1 455 9 is_stmt 1 discriminator 4 view .LVU290
 1258 0134 01EE100A 		vmov	s2, r0
 1259 0138 F0EE480A 		vmov.f32	s1, s16
 1260 013c B0EE680A 		vmov.f32	s0, s17
 1261 0140 FFF7FEFF 		bl	setVoltage
 1262              	.LVL123:
 455:Core/Src/main.c **** 
 1263              		.loc 1 455 9 is_stmt 0 discriminator 4 view .LVU291
 1264              	.LBE6:
 1265              		.loc 1 460 1 discriminator 4 view .LVU292
 1266 0144 62E7     		b	.L35
 1267              	.LVL124:
 1268              	.L37:
 1269              	.LBB7:
 401:Core/Src/main.c ****             velocity += 8192;
 1270              		.loc 1 401 16 is_stmt 1 view .LVU293
 401:Core/Src/main.c ****             velocity += 8192;
 1271              		.loc 1 401 19 is_stmt 0 view .LVU294
 1272 0146 14F5805F 		cmn	r4, #4096
 1273 014a BFF67CAF 		bge	.L38
 402:Core/Src/main.c ****         }
 1274              		.loc 1 402 13 is_stmt 1 view .LVU295
 402:Core/Src/main.c ****         }
 1275              		.loc 1 402 22 is_stmt 0 view .LVU296
 1276 014e 04F50054 		add	r4, r4, #8192
 1277              	.LVL125:
 402:Core/Src/main.c ****         }
 1278              		.loc 1 402 22 view .LVU297
 1279 0152 78E7     		b	.L38
 1280              	.LVL126:
 1281              	.L40:
 411:Core/Src/main.c **** 
 1282              		.loc 1 411 15 view .LVU298
 1283 0154 DFED0E6A 		vldr.32	s13, .L43+48
 1284 0158 86E7     		b	.L39
 1285              	.L44:
 1286 015a 00BFAFF3 		.align	3
 1286      0080
 1287              	.L43:
 1288 0160 C9AA8C6F 		.word	1871489737
 1289 0164 BD20EA3F 		.word	1072308413
 1290 0168 C9AA8C6F 		.word	1871489737
 1291 016c BD20DABF 		.word	-1076223811
 1292 0170 3E986566 		.word	1717934142
 1293 0174 9EA0E63F 		.word	1072079006
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 33


 1294 0178 00000000 		.word	htim2
 1295 017c 00000000 		.word	offset
 1296 0180 00000000 		.word	old_real_angle
 1297 0184 D34D6210 		.word	274877907
 1298 0188 00000000 		.word	err_vel_int.0
 1299 018c 00000000 		.word	cos_table
 1300 0190 00000000 		.word	0
 1301 0194 E1000EE0 		.word	-535953183
 1302              	.LBE7:
 1303              		.cfi_endproc
 1304              	.LFE139:
 1306              		.section	.text.Error_Handler,"ax",%progbits
 1307              		.align	1
 1308              		.global	Error_Handler
 1309              		.syntax unified
 1310              		.thumb
 1311              		.thumb_func
 1313              	Error_Handler:
 1314              	.LFB140:
 461:Core/Src/main.c **** 
 462:Core/Src/main.c **** /* USER CODE END 4 */
 463:Core/Src/main.c **** 
 464:Core/Src/main.c **** /**
 465:Core/Src/main.c ****  * @brief  This function is executed in case of error occurrence.
 466:Core/Src/main.c ****  * @retval None
 467:Core/Src/main.c ****  */
 468:Core/Src/main.c **** void Error_Handler(void) {
 1315              		.loc 1 468 26 is_stmt 1 view -0
 1316              		.cfi_startproc
 1317              		@ Volatile: function does not return.
 1318              		@ args = 0, pretend = 0, frame = 0
 1319              		@ frame_needed = 0, uses_anonymous_args = 0
 1320              		@ link register save eliminated.
 469:Core/Src/main.c ****     /* USER CODE BEGIN Error_Handler_Debug */
 470:Core/Src/main.c ****     /* User can add his own implementation to report the HAL error return state
 471:Core/Src/main.c ****      */
 472:Core/Src/main.c ****     __disable_irq();
 1321              		.loc 1 472 5 view .LVU300
 1322              	.LBB8:
 1323              	.LBI8:
 1324              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 34


  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 35


  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 36


 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 1325              		.loc 2 140 27 view .LVU301
 1326              	.LBB9:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 1327              		.loc 2 142 3 view .LVU302
 1328              		.syntax unified
 1329              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1330 0000 72B6     		cpsid i
 1331              	@ 0 "" 2
 1332              		.thumb
 1333              		.syntax unified
 1334              	.L46:
 1335              	.LBE9:
 1336              	.LBE8:
 473:Core/Src/main.c ****     while (1) {
 1337              		.loc 1 473 5 discriminator 1 view .LVU303
 474:Core/Src/main.c ****     }
 1338              		.loc 1 474 5 discriminator 1 view .LVU304
 473:Core/Src/main.c ****     while (1) {
 1339              		.loc 1 473 11 discriminator 1 view .LVU305
 1340 0002 FEE7     		b	.L46
 1341              		.cfi_endproc
 1342              	.LFE140:
 1344              		.section	.text.SystemClock_Config,"ax",%progbits
 1345              		.align	1
 1346              		.global	SystemClock_Config
 1347              		.syntax unified
 1348              		.thumb
 1349              		.thumb_func
 1351              	SystemClock_Config:
 1352              	.LFB135:
 338:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 1353              		.loc 1 338 31 view -0
 1354              		.cfi_startproc
 1355              		@ args = 0, pretend = 0, frame = 88
 1356              		@ frame_needed = 0, uses_anonymous_args = 0
 1357 0000 00B5     		push	{lr}
 1358              	.LCFI19:
 1359              		.cfi_def_cfa_offset 4
 1360              		.cfi_offset 14, -4
 1361 0002 97B0     		sub	sp, sp, #92
 1362              	.LCFI20:
 1363              		.cfi_def_cfa_offset 96
 339:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1364              		.loc 1 339 5 view .LVU307
 339:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1365              		.loc 1 339 24 is_stmt 0 view .LVU308
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 37


 1366 0004 2822     		movs	r2, #40
 1367 0006 0021     		movs	r1, #0
 1368 0008 0CA8     		add	r0, sp, #48
 1369 000a FFF7FEFF 		bl	memset
 1370              	.LVL127:
 340:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 1371              		.loc 1 340 5 is_stmt 1 view .LVU309
 340:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 1372              		.loc 1 340 24 is_stmt 0 view .LVU310
 1373 000e 0023     		movs	r3, #0
 1374 0010 0793     		str	r3, [sp, #28]
 1375 0012 0893     		str	r3, [sp, #32]
 1376 0014 0993     		str	r3, [sp, #36]
 1377 0016 0A93     		str	r3, [sp, #40]
 1378 0018 0B93     		str	r3, [sp, #44]
 341:Core/Src/main.c **** 
 1379              		.loc 1 341 5 is_stmt 1 view .LVU311
 341:Core/Src/main.c **** 
 1380              		.loc 1 341 30 is_stmt 0 view .LVU312
 1381 001a 0193     		str	r3, [sp, #4]
 1382 001c 0293     		str	r3, [sp, #8]
 1383 001e 0393     		str	r3, [sp, #12]
 1384 0020 0493     		str	r3, [sp, #16]
 1385 0022 0593     		str	r3, [sp, #20]
 1386 0024 0693     		str	r3, [sp, #24]
 346:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1387              		.loc 1 346 5 is_stmt 1 view .LVU313
 346:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1388              		.loc 1 346 38 is_stmt 0 view .LVU314
 1389 0026 0223     		movs	r3, #2
 1390 0028 0C93     		str	r3, [sp, #48]
 347:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 1391              		.loc 1 347 5 is_stmt 1 view .LVU315
 347:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 1392              		.loc 1 347 32 is_stmt 0 view .LVU316
 1393 002a 0122     		movs	r2, #1
 1394 002c 1092     		str	r2, [sp, #64]
 348:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1395              		.loc 1 348 5 is_stmt 1 view .LVU317
 348:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1396              		.loc 1 348 43 is_stmt 0 view .LVU318
 1397 002e 1022     		movs	r2, #16
 1398 0030 1192     		str	r2, [sp, #68]
 349:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 1399              		.loc 1 349 5 is_stmt 1 view .LVU319
 349:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 1400              		.loc 1 349 36 is_stmt 0 view .LVU320
 1401 0032 1393     		str	r3, [sp, #76]
 350:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL8;
 1402              		.loc 1 350 5 is_stmt 1 view .LVU321
 351:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 1403              		.loc 1 351 5 view .LVU322
 351:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 1404              		.loc 1 351 34 is_stmt 0 view .LVU323
 1405 0034 4FF4C013 		mov	r3, #1572864
 1406 0038 1593     		str	r3, [sp, #84]
 352:Core/Src/main.c ****         Error_Handler();
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 38


 1407              		.loc 1 352 5 is_stmt 1 view .LVU324
 352:Core/Src/main.c ****         Error_Handler();
 1408              		.loc 1 352 9 is_stmt 0 view .LVU325
 1409 003a 0CA8     		add	r0, sp, #48
 1410 003c FFF7FEFF 		bl	HAL_RCC_OscConfig
 1411              	.LVL128:
 352:Core/Src/main.c ****         Error_Handler();
 1412              		.loc 1 352 8 view .LVU326
 1413 0040 C8B9     		cbnz	r0, .L52
 358:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 1414              		.loc 1 358 5 is_stmt 1 view .LVU327
 358:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 1415              		.loc 1 358 33 is_stmt 0 view .LVU328
 1416 0042 0F23     		movs	r3, #15
 1417 0044 0793     		str	r3, [sp, #28]
 360:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1418              		.loc 1 360 5 is_stmt 1 view .LVU329
 360:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1419              		.loc 1 360 36 is_stmt 0 view .LVU330
 1420 0046 0223     		movs	r3, #2
 1421 0048 0893     		str	r3, [sp, #32]
 361:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 1422              		.loc 1 361 5 is_stmt 1 view .LVU331
 361:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 1423              		.loc 1 361 37 is_stmt 0 view .LVU332
 1424 004a 0023     		movs	r3, #0
 1425 004c 0993     		str	r3, [sp, #36]
 362:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1426              		.loc 1 362 5 is_stmt 1 view .LVU333
 362:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1427              		.loc 1 362 38 is_stmt 0 view .LVU334
 1428 004e 0A93     		str	r3, [sp, #40]
 363:Core/Src/main.c **** 
 1429              		.loc 1 363 5 is_stmt 1 view .LVU335
 363:Core/Src/main.c **** 
 1430              		.loc 1 363 38 is_stmt 0 view .LVU336
 1431 0050 0B93     		str	r3, [sp, #44]
 365:Core/Src/main.c ****         Error_Handler();
 1432              		.loc 1 365 5 is_stmt 1 view .LVU337
 365:Core/Src/main.c ****         Error_Handler();
 1433              		.loc 1 365 9 is_stmt 0 view .LVU338
 1434 0052 0121     		movs	r1, #1
 1435 0054 07A8     		add	r0, sp, #28
 1436 0056 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1437              	.LVL129:
 365:Core/Src/main.c ****         Error_Handler();
 1438              		.loc 1 365 8 view .LVU339
 1439 005a 70B9     		cbnz	r0, .L53
 368:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 1440              		.loc 1 368 5 is_stmt 1 view .LVU340
 368:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 1441              		.loc 1 368 40 is_stmt 0 view .LVU341
 1442 005c 41F20103 		movw	r3, #4097
 1443 0060 0193     		str	r3, [sp, #4]
 370:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 1444              		.loc 1 370 5 is_stmt 1 view .LVU342
 370:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 39


 1445              		.loc 1 370 40 is_stmt 0 view .LVU343
 1446 0062 0023     		movs	r3, #0
 1447 0064 0393     		str	r3, [sp, #12]
 371:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 1448              		.loc 1 371 5 is_stmt 1 view .LVU344
 371:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 1449              		.loc 1 371 38 is_stmt 0 view .LVU345
 1450 0066 0693     		str	r3, [sp, #24]
 372:Core/Src/main.c ****         Error_Handler();
 1451              		.loc 1 372 5 is_stmt 1 view .LVU346
 372:Core/Src/main.c ****         Error_Handler();
 1452              		.loc 1 372 9 is_stmt 0 view .LVU347
 1453 0068 01A8     		add	r0, sp, #4
 1454 006a FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1455              	.LVL130:
 372:Core/Src/main.c ****         Error_Handler();
 1456              		.loc 1 372 8 view .LVU348
 1457 006e 30B9     		cbnz	r0, .L54
 375:Core/Src/main.c **** 
 1458              		.loc 1 375 1 view .LVU349
 1459 0070 17B0     		add	sp, sp, #92
 1460              	.LCFI21:
 1461              		.cfi_remember_state
 1462              		.cfi_def_cfa_offset 4
 1463              		@ sp needed
 1464 0072 5DF804FB 		ldr	pc, [sp], #4
 1465              	.L52:
 1466              	.LCFI22:
 1467              		.cfi_restore_state
 353:Core/Src/main.c ****     }
 1468              		.loc 1 353 9 is_stmt 1 view .LVU350
 1469 0076 FFF7FEFF 		bl	Error_Handler
 1470              	.LVL131:
 1471              	.L53:
 366:Core/Src/main.c ****     }
 1472              		.loc 1 366 9 view .LVU351
 1473 007a FFF7FEFF 		bl	Error_Handler
 1474              	.LVL132:
 1475              	.L54:
 373:Core/Src/main.c ****     }
 1476              		.loc 1 373 9 view .LVU352
 1477 007e FFF7FEFF 		bl	Error_Handler
 1478              	.LVL133:
 1479              		.cfi_endproc
 1480              	.LFE135:
 1482              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 1483              		.align	2
 1484              	.LC0:
 1485 0000 53746172 		.ascii	"Start ADC Successfully\012\015\000"
 1485      74204144 
 1485      43205375 
 1485      63636573 
 1485      7366756C 
 1486 0019 000000   		.align	2
 1487              	.LC1:
 1488 001c 53746172 		.ascii	"Start ADC failed\012\015\000"
 1488      74204144 
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 40


 1488      43206661 
 1488      696C6564 
 1488      0A0D00
 1489              		.global	__aeabi_ddiv
 1490 002f 00       		.align	2
 1491              	.LC2:
 1492 0030 424C4452 		.ascii	"BLDRV Gen2\015\012\000"
 1492      56204765 
 1492      6E320D0A 
 1492      00
 1493 003d 000000   		.align	2
 1494              	.LC3:
 1495 0040 43616C69 		.ascii	"Calibration Start\015\012\000"
 1495      62726174 
 1495      696F6E20 
 1495      53746172 
 1495      740D0A00 
 1496              		.align	2
 1497              	.LC4:
 1498 0054 4F666673 		.ascii	"Offset: \000"
 1498      65743A20 
 1498      00
 1499 005d 000000   		.align	2
 1500              	.LC5:
 1501 0060 0D0A00   		.ascii	"\015\012\000"
 1502 0063 00       		.align	2
 1503              	.LC6:
 1504 0064 43616C69 		.ascii	"Calibration End\015\012\000"
 1504      62726174 
 1504      696F6E20 
 1504      456E640D 
 1504      0A00
 1505              		.section	.text.main,"ax",%progbits
 1506              		.align	1
 1507              		.global	main
 1508              		.syntax unified
 1509              		.thumb
 1510              		.thumb_func
 1512              	main:
 1513              	.LFB134:
 230:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 1514              		.loc 1 230 16 view -0
 1515              		.cfi_startproc
 1516              		@ args = 0, pretend = 0, frame = 0
 1517              		@ frame_needed = 0, uses_anonymous_args = 0
 1518 0000 38B5     		push	{r3, r4, r5, lr}
 1519              	.LCFI23:
 1520              		.cfi_def_cfa_offset 16
 1521              		.cfi_offset 3, -16
 1522              		.cfi_offset 4, -12
 1523              		.cfi_offset 5, -8
 1524              		.cfi_offset 14, -4
 240:Core/Src/main.c **** 
 1525              		.loc 1 240 5 view .LVU354
 1526 0002 FFF7FEFF 		bl	HAL_Init
 1527              	.LVL134:
 247:Core/Src/main.c **** 
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 41


 1528              		.loc 1 247 5 view .LVU355
 1529 0006 FFF7FEFF 		bl	SystemClock_Config
 1530              	.LVL135:
 254:Core/Src/main.c ****     MX_DMA_Init();
 1531              		.loc 1 254 5 view .LVU356
 1532 000a FFF7FEFF 		bl	MX_GPIO_Init
 1533              	.LVL136:
 255:Core/Src/main.c ****     MX_TIM1_Init();
 1534              		.loc 1 255 5 view .LVU357
 1535 000e FFF7FEFF 		bl	MX_DMA_Init
 1536              	.LVL137:
 256:Core/Src/main.c ****     MX_TIM16_Init();
 1537              		.loc 1 256 5 view .LVU358
 1538 0012 FFF7FEFF 		bl	MX_TIM1_Init
 1539              	.LVL138:
 257:Core/Src/main.c ****     MX_TIM2_Init();
 1540              		.loc 1 257 5 view .LVU359
 1541 0016 FFF7FEFF 		bl	MX_TIM16_Init
 1542              	.LVL139:
 258:Core/Src/main.c ****     MX_TIM3_Init();
 1543              		.loc 1 258 5 view .LVU360
 1544 001a FFF7FEFF 		bl	MX_TIM2_Init
 1545              	.LVL140:
 259:Core/Src/main.c ****     MX_SPI1_Init();
 1546              		.loc 1 259 5 view .LVU361
 1547 001e FFF7FEFF 		bl	MX_TIM3_Init
 1548              	.LVL141:
 260:Core/Src/main.c ****     MX_USART1_UART_Init();
 1549              		.loc 1 260 5 view .LVU362
 1550 0022 FFF7FEFF 		bl	MX_SPI1_Init
 1551              	.LVL142:
 261:Core/Src/main.c ****     MX_ADC1_Init();
 1552              		.loc 1 261 5 view .LVU363
 1553 0026 FFF7FEFF 		bl	MX_USART1_UART_Init
 1554              	.LVL143:
 262:Core/Src/main.c ****     /* USER CODE BEGIN 2 */
 1555              		.loc 1 262 5 view .LVU364
 1556 002a FFF7FEFF 		bl	MX_ADC1_Init
 1557              	.LVL144:
 264:Core/Src/main.c ****     setbuf(stdout, NULL);
 1558              		.loc 1 264 5 view .LVU365
 264:Core/Src/main.c ****     setbuf(stdout, NULL);
 1559              		.loc 1 264 12 is_stmt 0 view .LVU366
 1560 002e 504C     		ldr	r4, .L62+16
 1561 0030 2368     		ldr	r3, [r4]
 264:Core/Src/main.c ****     setbuf(stdout, NULL);
 1562              		.loc 1 264 5 view .LVU367
 1563 0032 0021     		movs	r1, #0
 1564 0034 5868     		ldr	r0, [r3, #4]
 1565 0036 FFF7FEFF 		bl	setbuf
 1566              	.LVL145:
 265:Core/Src/main.c ****     setbuf(stderr, NULL);
 1567              		.loc 1 265 5 is_stmt 1 view .LVU368
 265:Core/Src/main.c ****     setbuf(stderr, NULL);
 1568              		.loc 1 265 12 is_stmt 0 view .LVU369
 1569 003a 2368     		ldr	r3, [r4]
 265:Core/Src/main.c ****     setbuf(stderr, NULL);
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 42


 1570              		.loc 1 265 5 view .LVU370
 1571 003c 0021     		movs	r1, #0
 1572 003e 9868     		ldr	r0, [r3, #8]
 1573 0040 FFF7FEFF 		bl	setbuf
 1574              	.LVL146:
 266:Core/Src/main.c ****     dma_printf_init(&huart1);
 1575              		.loc 1 266 5 is_stmt 1 view .LVU371
 266:Core/Src/main.c ****     dma_printf_init(&huart1);
 1576              		.loc 1 266 12 is_stmt 0 view .LVU372
 1577 0044 2368     		ldr	r3, [r4]
 266:Core/Src/main.c ****     dma_printf_init(&huart1);
 1578              		.loc 1 266 5 view .LVU373
 1579 0046 0021     		movs	r1, #0
 1580 0048 D868     		ldr	r0, [r3, #12]
 1581 004a FFF7FEFF 		bl	setbuf
 1582              	.LVL147:
 267:Core/Src/main.c ****     dma_scanf_init(&huart1);
 1583              		.loc 1 267 5 is_stmt 1 view .LVU374
 1584 004e 494C     		ldr	r4, .L62+20
 1585 0050 2046     		mov	r0, r4
 1586 0052 FFF7FEFF 		bl	dma_printf_init
 1587              	.LVL148:
 268:Core/Src/main.c **** 
 1588              		.loc 1 268 5 view .LVU375
 1589 0056 2046     		mov	r0, r4
 1590 0058 FFF7FEFF 		bl	dma_scanf_init
 1591              	.LVL149:
 271:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_1);  // L
 1592              		.loc 1 271 5 view .LVU376
 1593 005c 464C     		ldr	r4, .L62+24
 1594 005e 0021     		movs	r1, #0
 1595 0060 2046     		mov	r0, r4
 1596 0062 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1597              	.LVL150:
 272:Core/Src/main.c **** 
 1598              		.loc 1 272 5 view .LVU377
 1599 0066 0021     		movs	r1, #0
 1600 0068 2046     		mov	r0, r4
 1601 006a FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1602              	.LVL151:
 275:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim16, TIM_CHANNEL_1);  // L
 1603              		.loc 1 275 5 view .LVU378
 1604 006e 434D     		ldr	r5, .L62+28
 1605 0070 0021     		movs	r1, #0
 1606 0072 2846     		mov	r0, r5
 1607 0074 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1608              	.LVL152:
 276:Core/Src/main.c **** 
 1609              		.loc 1 276 5 view .LVU379
 1610 0078 0021     		movs	r1, #0
 1611 007a 2846     		mov	r0, r5
 1612 007c FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1613              	.LVL153:
 279:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_3);  // L
 1614              		.loc 1 279 5 view .LVU380
 1615 0080 0C21     		movs	r1, #12
 1616 0082 3F48     		ldr	r0, .L62+32
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 43


 1617 0084 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1618              	.LVL154:
 280:Core/Src/main.c **** 
 1619              		.loc 1 280 5 view .LVU381
 1620 0088 0821     		movs	r1, #8
 1621 008a 2046     		mov	r0, r4
 1622 008c FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1623              	.LVL155:
 288:Core/Src/main.c **** 
 1624              		.loc 1 288 5 view .LVU382
 1625 0090 0022     		movs	r2, #0
 1626 0092 0221     		movs	r1, #2
 1627 0094 3B48     		ldr	r0, .L62+36
 1628 0096 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1629              	.LVL156:
 290:Core/Src/main.c **** 
 1630              		.loc 1 290 5 view .LVU383
 1631 009a 3B4C     		ldr	r4, .L62+40
 1632 009c 0021     		movs	r1, #0
 1633 009e 2046     		mov	r0, r4
 1634 00a0 FFF7FEFF 		bl	HAL_ADCEx_Calibration_Start
 1635              	.LVL157:
 292:Core/Src/main.c ****         printf("Start ADC Successfully\n\r");
 1636              		.loc 1 292 5 view .LVU384
 292:Core/Src/main.c ****         printf("Start ADC Successfully\n\r");
 1637              		.loc 1 292 9 is_stmt 0 view .LVU385
 1638 00a4 0322     		movs	r2, #3
 1639 00a6 3949     		ldr	r1, .L62+44
 1640 00a8 2046     		mov	r0, r4
 1641 00aa FFF7FEFF 		bl	HAL_ADC_Start_DMA
 1642              	.LVL158:
 292:Core/Src/main.c ****         printf("Start ADC Successfully\n\r");
 1643              		.loc 1 292 8 view .LVU386
 1644 00ae 20B9     		cbnz	r0, .L56
 293:Core/Src/main.c ****     else
 1645              		.loc 1 293 9 is_stmt 1 view .LVU387
 1646 00b0 3748     		ldr	r0, .L62+48
 1647 00b2 FFF7FEFF 		bl	printf
 1648              	.LVL159:
 1649              	.L58:
 230:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 1650              		.loc 1 230 16 is_stmt 0 discriminator 1 view .LVU388
 1651 00b6 0024     		movs	r4, #0
 1652 00b8 25E0     		b	.L57
 1653              	.L56:
 295:Core/Src/main.c ****     /* USER CODE END 2 */
 1654              		.loc 1 295 9 is_stmt 1 view .LVU389
 1655 00ba 3648     		ldr	r0, .L62+52
 1656 00bc FFF7FEFF 		bl	printf
 1657              	.LVL160:
 1658 00c0 F9E7     		b	.L58
 1659              	.LVL161:
 1660              	.L59:
 1661              	.LBB10:
 302:Core/Src/main.c ****     }
 1662              		.loc 1 302 9 discriminator 3 view .LVU390
 302:Core/Src/main.c ****     }
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 44


 1663              		.loc 1 302 28 is_stmt 0 discriminator 3 view .LVU391
 1664 00c2 2046     		mov	r0, r4
 1665 00c4 FFF7FEFF 		bl	__aeabi_i2d
 1666              	.LVL162:
 1667 00c8 0022     		movs	r2, #0
 1668 00ca 334B     		ldr	r3, .L62+56
 1669 00cc FFF7FEFF 		bl	__aeabi_dmul
 1670              	.LVL163:
 1671 00d0 23A3     		adr	r3, .L62
 1672 00d2 D3E90023 		ldrd	r2, [r3]
 1673 00d6 FFF7FEFF 		bl	__aeabi_ddiv
 1674              	.LVL164:
 1675 00da 23A3     		adr	r3, .L62+8
 1676 00dc D3E90023 		ldrd	r2, [r3]
 1677 00e0 FFF7FEFF 		bl	__aeabi_dmul
 1678              	.LVL165:
 302:Core/Src/main.c ****     }
 1679              		.loc 1 302 24 discriminator 3 view .LVU392
 1680 00e4 0022     		movs	r2, #0
 1681 00e6 2D4B     		ldr	r3, .L62+60
 1682 00e8 FFF7FEFF 		bl	__aeabi_ddiv
 1683              	.LVL166:
 1684 00ec 41EC100B 		vmov	d0, r0, r1
 1685 00f0 FFF7FEFF 		bl	cos
 1686              	.LVL167:
 1687 00f4 51EC100B 		vmov	r0, r1, d0
 1688 00f8 FFF7FEFF 		bl	__aeabi_d2f
 1689              	.LVL168:
 302:Core/Src/main.c ****     }
 1690              		.loc 1 302 22 discriminator 3 view .LVU393
 1691 00fc 284B     		ldr	r3, .L62+64
 1692 00fe 03EB8403 		add	r3, r3, r4, lsl #2
 1693 0102 1860     		str	r0, [r3]	@ float
 301:Core/Src/main.c ****         cos_table[i] = cos(radians(i * 360.0 / 1170.0));
 1694              		.loc 1 301 32 is_stmt 1 discriminator 3 view .LVU394
 1695 0104 0134     		adds	r4, r4, #1
 1696              	.LVL169:
 1697              	.L57:
 301:Core/Src/main.c ****         cos_table[i] = cos(radians(i * 360.0 / 1170.0));
 1698              		.loc 1 301 23 discriminator 1 view .LVU395
 1699 0106 40F29143 		movw	r3, #1169
 1700 010a 9C42     		cmp	r4, r3
 1701 010c D9DD     		ble	.L59
 1702              	.LBE10:
 305:Core/Src/main.c ****     dma_printf_puts("Calibration Start\r\n");
 1703              		.loc 1 305 5 view .LVU396
 1704 010e 2548     		ldr	r0, .L62+68
 1705 0110 FFF7FEFF 		bl	dma_printf_puts
 1706              	.LVL170:
 306:Core/Src/main.c ****     setPhase(0, 50);
 1707              		.loc 1 306 5 view .LVU397
 1708 0114 2448     		ldr	r0, .L62+72
 1709 0116 FFF7FEFF 		bl	dma_printf_puts
 1710              	.LVL171:
 307:Core/Src/main.c ****     HAL_Delay(500);
 1711              		.loc 1 307 5 view .LVU398
 1712 011a 3221     		movs	r1, #50
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 45


 1713 011c 0020     		movs	r0, #0
 1714 011e FFF7FEFF 		bl	setPhase
 1715              	.LVL172:
 308:Core/Src/main.c **** 
 1716              		.loc 1 308 5 view .LVU399
 1717 0122 4FF4FA70 		mov	r0, #500
 1718 0126 FFF7FEFF 		bl	HAL_Delay
 1719              	.LVL173:
 310:Core/Src/main.c ****     offset = getRotation();
 1720              		.loc 1 310 5 view .LVU400
 310:Core/Src/main.c ****     offset = getRotation();
 1721              		.loc 1 310 14 is_stmt 0 view .LVU401
 1722 012a FFF7FEFF 		bl	getRotation
 1723              	.LVL174:
 310:Core/Src/main.c ****     offset = getRotation();
 1724              		.loc 1 310 12 view .LVU402
 1725 012e 1F4C     		ldr	r4, .L62+76
 1726              	.LVL175:
 310:Core/Src/main.c ****     offset = getRotation();
 1727              		.loc 1 310 12 view .LVU403
 1728 0130 2060     		str	r0, [r4]
 311:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 1729              		.loc 1 311 5 is_stmt 1 view .LVU404
 311:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 1730              		.loc 1 311 14 is_stmt 0 view .LVU405
 1731 0132 FFF7FEFF 		bl	getRotation
 1732              	.LVL176:
 311:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 1733              		.loc 1 311 12 view .LVU406
 1734 0136 2060     		str	r0, [r4]
 312:Core/Src/main.c ****     dma_printf_puts(uint2char(offset));
 1735              		.loc 1 312 5 is_stmt 1 view .LVU407
 1736 0138 1D48     		ldr	r0, .L62+80
 1737 013a FFF7FEFF 		bl	dma_printf_puts
 1738              	.LVL177:
 313:Core/Src/main.c ****     dma_printf_puts("\r\n");
 1739              		.loc 1 313 5 view .LVU408
 313:Core/Src/main.c ****     dma_printf_puts("\r\n");
 1740              		.loc 1 313 21 is_stmt 0 view .LVU409
 1741 013e 2088     		ldrh	r0, [r4]
 1742 0140 FFF7FEFF 		bl	uint2char
 1743              	.LVL178:
 313:Core/Src/main.c ****     dma_printf_puts("\r\n");
 1744              		.loc 1 313 5 view .LVU410
 1745 0144 FFF7FEFF 		bl	dma_printf_puts
 1746              	.LVL179:
 314:Core/Src/main.c ****     dma_printf_puts("Calibration End\r\n");
 1747              		.loc 1 314 5 is_stmt 1 view .LVU411
 1748 0148 1A48     		ldr	r0, .L62+84
 1749 014a FFF7FEFF 		bl	dma_printf_puts
 1750              	.LVL180:
 315:Core/Src/main.c **** 
 1751              		.loc 1 315 5 view .LVU412
 1752 014e 1A48     		ldr	r0, .L62+88
 1753 0150 FFF7FEFF 		bl	dma_printf_puts
 1754              	.LVL181:
 317:Core/Src/main.c **** 
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 46


 1755              		.loc 1 317 5 view .LVU413
 1756 0154 1948     		ldr	r0, .L62+92
 1757 0156 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1758              	.LVL182:
 1759              	.L60:
 319:Core/Src/main.c ****         /* USER CODE END WHILE */
 1760              		.loc 1 319 5 discriminator 1 view .LVU414
 330:Core/Src/main.c ****     /* USER CODE END 3 */
 1761              		.loc 1 330 5 discriminator 1 view .LVU415
 319:Core/Src/main.c ****         /* USER CODE END WHILE */
 1762              		.loc 1 319 11 discriminator 1 view .LVU416
 1763 015a FEE7     		b	.L60
 1764              	.L63:
 1765 015c AFF30080 		.align	3
 1766              	.L62:
 1767 0160 00000000 		.word	0
 1768 0164 00489240 		.word	1083328512
 1769 0168 182D4454 		.word	1413754136
 1770 016c FB210940 		.word	1074340347
 1771 0170 00000000 		.word	_impure_ptr
 1772 0174 00000000 		.word	huart1
 1773 0178 00000000 		.word	htim1
 1774 017c 00000000 		.word	htim16
 1775 0180 00000000 		.word	htim3
 1776 0184 00040048 		.word	1207960576
 1777 0188 00000000 		.word	hadc1
 1778 018c 00000000 		.word	adcBuffer
 1779 0190 00000000 		.word	.LC0
 1780 0194 1C000000 		.word	.LC1
 1781 0198 00807640 		.word	1081507840
 1782 019c 00806640 		.word	1080459264
 1783 01a0 00000000 		.word	cos_table
 1784 01a4 30000000 		.word	.LC2
 1785 01a8 40000000 		.word	.LC3
 1786 01ac 00000000 		.word	offset
 1787 01b0 54000000 		.word	.LC4
 1788 01b4 60000000 		.word	.LC5
 1789 01b8 64000000 		.word	.LC6
 1790 01bc 00000000 		.word	htim2
 1791              		.cfi_endproc
 1792              	.LFE134:
 1794              		.section	.bss.err_vel_int.0,"aw",%nobits
 1795              		.align	2
 1798              	err_vel_int.0:
 1799 0000 00000000 		.space	4
 1800              		.section	.bss.str.1,"aw",%nobits
 1801              		.align	2
 1804              	str.1:
 1805 0000 00000000 		.space	5
 1805      00
 1806              		.global	old_real_angle
 1807              		.section	.bss.old_real_angle,"aw",%nobits
 1808              		.align	2
 1811              	old_real_angle:
 1812 0000 00000000 		.space	4
 1813              		.global	sense
 1814              		.section	.bss.sense,"aw",%nobits
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 47


 1815              		.align	2
 1818              	sense:
 1819 0000 00000000 		.space	12
 1819      00000000 
 1819      00000000 
 1820              		.global	adcOffset
 1821              		.section	.bss.adcOffset,"aw",%nobits
 1822              		.align	2
 1825              	adcOffset:
 1826 0000 00000000 		.space	6
 1826      0000
 1827              		.global	adcBuffer
 1828              		.section	.bss.adcBuffer,"aw",%nobits
 1829              		.align	2
 1832              	adcBuffer:
 1833 0000 00000000 		.space	6
 1833      0000
 1834              		.global	cos_table
 1835              		.section	.bss.cos_table,"aw",%nobits
 1836              		.align	2
 1839              	cos_table:
 1840 0000 00000000 		.space	4680
 1840      00000000 
 1840      00000000 
 1840      00000000 
 1840      00000000 
 1841              		.global	offset
 1842              		.section	.bss.offset,"aw",%nobits
 1843              		.align	2
 1846              	offset:
 1847 0000 00000000 		.space	4
 1848              		.text
 1849              	.Letext0:
 1850              		.file 3 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/machine/_default_ty
 1851              		.file 4 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_stdint.h"
 1852              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f303x8.h"
 1853              		.file 6 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f3xx.h"
 1854              		.file 7 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 1855              		.file 8 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc.h"
 1856              		.file 9 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc_ex.h"
 1857              		.file 10 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_gpio.h"
 1858              		.file 11 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 1859              		.file 12 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_adc_ex.h"
 1860              		.file 13 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_adc.h"
 1861              		.file 14 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_spi.h"
 1862              		.file 15 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_tim.h"
 1863              		.file 16 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_uart.h"
 1864              		.file 17 "Core/Inc/adc.h"
 1865              		.file 18 "Core/Inc/spi.h"
 1866              		.file 19 "Core/Inc/tim.h"
 1867              		.file 20 "Core/Inc/usart.h"
 1868              		.file 21 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/lib/gcc/arm-none-eabi/12.3.1/include/std
 1869              		.file 22 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_types.h"
 1870              		.file 23 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/reent.h"
 1871              		.file 24 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/lock.h"
 1872              		.file 25 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/stdio.h"
 1873              		.file 26 "Core/Inc/dma_printf.h"
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 48


 1874              		.file 27 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal.h"
 1875              		.file 28 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_tim_ex.h"
 1876              		.file 29 "Core/Inc/dma.h"
 1877              		.file 30 "Core/Inc/gpio.h"
 1878              		.file 31 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/math.h"
 1879              		.file 32 "<built-in>"
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 49


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:21     .text.spiCalcEvenParity:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:27     .text.spiCalcEvenParity:00000000 spiCalcEvenParity
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:93     .text.AS5048A_read:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:99     .text.AS5048A_read:00000000 AS5048A_read
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:188    .text.AS5048A_read:0000007c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:193    .text.getRotation:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:199    .text.getRotation:00000000 getRotation
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:225    .text.electrical_angle:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:231    .text.electrical_angle:00000000 electrical_angle
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:258    .text.electrical_angle:00000018 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:263    .text.setPhase:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:269    .text.setPhase:00000000 setPhase
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:377    .text.setPhase:000000b4 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1839   .bss.cos_table:00000000 cos_table
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:386    .text.setVoltage:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:392    .text.setVoltage:00000000 setVoltage
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:499    .text.setVoltage:0000008c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:507    .text.uint2char:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:513    .text.uint2char:00000000 uint2char
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:578    .text.uint2char:0000005c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1804   .bss.str.1:00000000 str.1
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:592    .text.senseOut:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:598    .text.senseOut:00000000 senseOut
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:899    .text.senseOut:000001f8 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1818   .bss.sense:00000000 sense
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1832   .bss.adcBuffer:00000000 adcBuffer
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:924    .text.HAL_UART_TxCpltCallback:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:930    .text.HAL_UART_TxCpltCallback:00000000 HAL_UART_TxCpltCallback
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:952    .text.__io_putchar:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:958    .text.__io_putchar:00000000 __io_putchar
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:987    .text.__io_getchar:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:993    .text.__io_getchar:00000000 __io_getchar
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1014   .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1020   .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1288   .text.HAL_TIM_PeriodElapsedCallback:00000160 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1846   .bss.offset:00000000 offset
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1811   .bss.old_real_angle:00000000 old_real_angle
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1798   .bss.err_vel_int.0:00000000 err_vel_int.0
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1307   .text.Error_Handler:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1313   .text.Error_Handler:00000000 Error_Handler
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1345   .text.SystemClock_Config:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1351   .text.SystemClock_Config:00000000 SystemClock_Config
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1483   .rodata.main.str1.4:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1506   .text.main:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1512   .text.main:00000000 main
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1767   .text.main:00000160 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1795   .bss.err_vel_int.0:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1801   .bss.str.1:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1808   .bss.old_real_angle:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1815   .bss.sense:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1825   .bss.adcOffset:00000000 adcOffset
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1822   .bss.adcOffset:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1829   .bss.adcBuffer:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1836   .bss.cos_table:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s:1843   .bss.offset:00000000 $d
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccQy6CbN.s 			page 50



UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_SPI_Receive
hspi1
htim1
htim16
htim3
__aeabi_i2d
__aeabi_dmul
__aeabi_dsub
__aeabi_d2f
__aeabi_dadd
__aeabi_f2d
dma_printf_send_it
dma_printf_putc
dma_scanf_getc_blocking
HAL_GetTick
htim2
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
__aeabi_ddiv
HAL_Init
MX_GPIO_Init
MX_DMA_Init
MX_TIM1_Init
MX_TIM16_Init
MX_TIM2_Init
MX_TIM3_Init
MX_SPI1_Init
MX_USART1_UART_Init
MX_ADC1_Init
setbuf
dma_printf_init
dma_scanf_init
HAL_TIM_PWM_Start
HAL_TIMEx_PWMN_Start
HAL_ADCEx_Calibration_Start
HAL_ADC_Start_DMA
printf
cos
dma_printf_puts
HAL_Delay
HAL_TIM_Base_Start_IT
_impure_ptr
huart1
hadc1
