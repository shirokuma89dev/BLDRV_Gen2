ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.section	.text.spiCalcEvenParity,"ax",%progbits
  21              		.align	1
  22              		.global	spiCalcEvenParity
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	spiCalcEvenParity:
  28              	.LVL0:
  29              	.LFB126:
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****  ******************************************************************************
   4:Core/Src/main.c ****  * @file           : main.c
   5:Core/Src/main.c ****  * @brief          : Main program body
   6:Core/Src/main.c ****  ******************************************************************************
   7:Core/Src/main.c ****  * @attention
   8:Core/Src/main.c ****  *
   9:Core/Src/main.c ****  * Copyright (c) 2024 STMicroelectronics.
  10:Core/Src/main.c ****  * All rights reserved.
  11:Core/Src/main.c ****  *
  12:Core/Src/main.c ****  * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****  * in the root directory of this software component.
  14:Core/Src/main.c ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****  *
  16:Core/Src/main.c ****  ******************************************************************************
  17:Core/Src/main.c ****  */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** #include "adc.h"
  22:Core/Src/main.c **** #include "dma.h"
  23:Core/Src/main.c **** #include "spi.h"
  24:Core/Src/main.c **** #include "tim.h"
  25:Core/Src/main.c **** #include "usart.h"
  26:Core/Src/main.c **** #include "gpio.h"
  27:Core/Src/main.c **** 
  28:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  29:Core/Src/main.c **** /* USER CODE BEGIN Includes */
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 2


  30:Core/Src/main.c **** #include <math.h>
  31:Core/Src/main.c **** #include <stdio.h>
  32:Core/Src/main.c **** 
  33:Core/Src/main.c **** #include "dma_printf.h"
  34:Core/Src/main.c **** /* USER CODE END Includes */
  35:Core/Src/main.c **** 
  36:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  37:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  38:Core/Src/main.c **** 
  39:Core/Src/main.c **** /* USER CODE END PTD */
  40:Core/Src/main.c **** 
  41:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  42:Core/Src/main.c **** /* USER CODE BEGIN PD */
  43:Core/Src/main.c **** #define radians(x) ((x) * 3.14159265358979323846 / 180.0)
  44:Core/Src/main.c **** 
  45:Core/Src/main.c **** #define CS_LOW() HAL_GPIO_WritePin(GPIOA, GPIO_PIN_4, GPIO_PIN_RESET)
  46:Core/Src/main.c **** #define CS_HIGH() HAL_GPIO_WritePin(GPIOA, GPIO_PIN_4, GPIO_PIN_SET)
  47:Core/Src/main.c **** /* USER CODE END PD */
  48:Core/Src/main.c **** 
  49:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  50:Core/Src/main.c **** /* USER CODE BEGIN PM */
  51:Core/Src/main.c **** 
  52:Core/Src/main.c **** /* USER CODE END PM */
  53:Core/Src/main.c **** 
  54:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  55:Core/Src/main.c **** 
  56:Core/Src/main.c **** /* USER CODE BEGIN PV */
  57:Core/Src/main.c **** 
  58:Core/Src/main.c **** /* USER CODE END PV */
  59:Core/Src/main.c **** 
  60:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
  61:Core/Src/main.c **** void SystemClock_Config(void);
  62:Core/Src/main.c **** /* USER CODE BEGIN PFP */
  63:Core/Src/main.c **** 
  64:Core/Src/main.c **** /* USER CODE END PFP */
  65:Core/Src/main.c **** 
  66:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
  67:Core/Src/main.c **** /* USER CODE BEGIN 0 */
  68:Core/Src/main.c **** #define AS5048A_ANGLE 0x3FFF
  69:Core/Src/main.c **** 
  70:Core/Src/main.c **** uint8_t spiCalcEvenParity(uint16_t value) {
  30              		.loc 1 70 43 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 70 43 is_stmt 0 view .LVU1
  36 0000 0246     		mov	r2, r0
  71:Core/Src/main.c ****     uint8_t cnt = 0;
  37              		.loc 1 71 5 is_stmt 1 view .LVU2
  38              	.LVL1:
  72:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  39              		.loc 1 72 5 view .LVU3
  40              	.LBB4:
  41              		.loc 1 72 10 view .LVU4
  42              		.loc 1 72 18 is_stmt 0 view .LVU5
  43 0002 0023     		movs	r3, #0
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 3


  44              	.LBE4:
  71:Core/Src/main.c ****     uint8_t cnt = 0;
  45              		.loc 1 71 13 view .LVU6
  46 0004 1846     		mov	r0, r3
  47              	.LVL2:
  48              	.LBB5:
  49              		.loc 1 72 5 view .LVU7
  50 0006 02E0     		b	.L2
  51              	.LVL3:
  52              	.L3:
  73:Core/Src/main.c ****         if (value & 0x1) {
  74:Core/Src/main.c ****             cnt++;
  75:Core/Src/main.c ****         }
  76:Core/Src/main.c ****         value >>= 1;
  53              		.loc 1 76 9 is_stmt 1 discriminator 2 view .LVU8
  54              		.loc 1 76 15 is_stmt 0 discriminator 2 view .LVU9
  55 0008 5208     		lsrs	r2, r2, #1
  56              	.LVL4:
  72:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  57              		.loc 1 72 34 is_stmt 1 discriminator 2 view .LVU10
  58 000a 0133     		adds	r3, r3, #1
  59              	.LVL5:
  72:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  60              		.loc 1 72 34 is_stmt 0 discriminator 2 view .LVU11
  61 000c DBB2     		uxtb	r3, r3
  62              	.LVL6:
  63              	.L2:
  72:Core/Src/main.c ****     for (uint8_t i = 0; i < 16; i++) {
  64              		.loc 1 72 27 is_stmt 1 discriminator 1 view .LVU12
  65 000e 0F2B     		cmp	r3, #15
  66 0010 05D8     		bhi	.L5
  73:Core/Src/main.c ****         if (value & 0x1) {
  67              		.loc 1 73 9 view .LVU13
  73:Core/Src/main.c ****         if (value & 0x1) {
  68              		.loc 1 73 12 is_stmt 0 view .LVU14
  69 0012 12F0010F 		tst	r2, #1
  70 0016 F7D0     		beq	.L3
  74:Core/Src/main.c ****         }
  71              		.loc 1 74 13 is_stmt 1 view .LVU15
  74:Core/Src/main.c ****         }
  72              		.loc 1 74 16 is_stmt 0 view .LVU16
  73 0018 0130     		adds	r0, r0, #1
  74              	.LVL7:
  74:Core/Src/main.c ****         }
  75              		.loc 1 74 16 view .LVU17
  76 001a C0B2     		uxtb	r0, r0
  77              	.LVL8:
  74:Core/Src/main.c ****         }
  78              		.loc 1 74 16 view .LVU18
  79 001c F4E7     		b	.L3
  80              	.L5:
  74:Core/Src/main.c ****         }
  81              		.loc 1 74 16 view .LVU19
  82              	.LBE5:
  77:Core/Src/main.c ****     }
  78:Core/Src/main.c ****     return cnt & 0x1;
  83              		.loc 1 78 5 is_stmt 1 view .LVU20
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 4


  79:Core/Src/main.c **** }
  84              		.loc 1 79 1 is_stmt 0 view .LVU21
  85 001e 00F00100 		and	r0, r0, #1
  86              	.LVL9:
  87              		.loc 1 79 1 view .LVU22
  88 0022 7047     		bx	lr
  89              		.cfi_endproc
  90              	.LFE126:
  92              		.section	.text.AS5048A_read,"ax",%progbits
  93              		.align	1
  94              		.global	AS5048A_read
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  99              	AS5048A_read:
 100              	.LVL10:
 101              	.LFB127:
  80:Core/Src/main.c **** 
  81:Core/Src/main.c **** uint16_t AS5048A_read(uint16_t registerAddress) {
 102              		.loc 1 81 49 is_stmt 1 view -0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 8
 105              		@ frame_needed = 0, uses_anonymous_args = 0
 106              		.loc 1 81 49 is_stmt 0 view .LVU24
 107 0000 30B5     		push	{r4, r5, lr}
 108              	.LCFI0:
 109              		.cfi_def_cfa_offset 12
 110              		.cfi_offset 4, -12
 111              		.cfi_offset 5, -8
 112              		.cfi_offset 14, -4
 113 0002 83B0     		sub	sp, sp, #12
 114              	.LCFI1:
 115              		.cfi_def_cfa_offset 24
  82:Core/Src/main.c ****     uint16_t command = 0x4000 | registerAddress;
 116              		.loc 1 82 5 is_stmt 1 view .LVU25
 117              		.loc 1 82 14 is_stmt 0 view .LVU26
 118 0004 40F48044 		orr	r4, r0, #16384
 119 0008 ADF80640 		strh	r4, [sp, #6]	@ movhi
  83:Core/Src/main.c **** 
  84:Core/Src/main.c ****     // パリティビットの追加
  85:Core/Src/main.c ****     command |= spiCalcEvenParity(command) << 15;
 120              		.loc 1 85 5 is_stmt 1 view .LVU27
 121              		.loc 1 85 16 is_stmt 0 view .LVU28
 122 000c 2046     		mov	r0, r4
 123              	.LVL11:
 124              		.loc 1 85 16 view .LVU29
 125 000e FFF7FEFF 		bl	spiCalcEvenParity
 126              	.LVL12:
 127              		.loc 1 85 13 view .LVU30
 128 0012 44EAC034 		orr	r4, r4, r0, lsl #15
 129 0016 ADF80640 		strh	r4, [sp, #6]	@ movhi
  86:Core/Src/main.c **** 
  87:Core/Src/main.c ****     uint16_t response = 0;
 130              		.loc 1 87 5 is_stmt 1 view .LVU31
 131              		.loc 1 87 14 is_stmt 0 view .LVU32
 132 001a 0024     		movs	r4, #0
 133 001c ADF80440 		strh	r4, [sp, #4]	@ movhi
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 5


  88:Core/Src/main.c **** 
  89:Core/Src/main.c ****     // SPI通信開始
  90:Core/Src/main.c ****     CS_LOW();
 134              		.loc 1 90 5 is_stmt 1 view .LVU33
 135 0020 2246     		mov	r2, r4
 136 0022 1021     		movs	r1, #16
 137 0024 4FF09040 		mov	r0, #1207959552
 138 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 139              	.LVL13:
  91:Core/Src/main.c ****     HAL_SPI_Transmit(&hspi1, (uint8_t *)&command, 1, HAL_MAX_DELAY);
 140              		.loc 1 91 5 view .LVU34
 141 002c 134D     		ldr	r5, .L8
 142 002e 4FF0FF33 		mov	r3, #-1
 143 0032 0122     		movs	r2, #1
 144 0034 0DF10601 		add	r1, sp, #6
 145 0038 2846     		mov	r0, r5
 146 003a FFF7FEFF 		bl	HAL_SPI_Transmit
 147              	.LVL14:
  92:Core/Src/main.c ****     CS_HIGH();
 148              		.loc 1 92 5 view .LVU35
 149 003e 0122     		movs	r2, #1
 150 0040 1021     		movs	r1, #16
 151 0042 4FF09040 		mov	r0, #1207959552
 152 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 153              	.LVL15:
  93:Core/Src/main.c **** 
  94:Core/Src/main.c ****     // データ受信
  95:Core/Src/main.c ****     CS_LOW();
 154              		.loc 1 95 5 view .LVU36
 155 004a 2246     		mov	r2, r4
 156 004c 1021     		movs	r1, #16
 157 004e 4FF09040 		mov	r0, #1207959552
 158 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 159              	.LVL16:
  96:Core/Src/main.c ****     HAL_SPI_Receive(&hspi1, (uint8_t *)&response, 1, HAL_MAX_DELAY);
 160              		.loc 1 96 5 view .LVU37
 161 0056 4FF0FF33 		mov	r3, #-1
 162 005a 0122     		movs	r2, #1
 163 005c 01A9     		add	r1, sp, #4
 164 005e 2846     		mov	r0, r5
 165 0060 FFF7FEFF 		bl	HAL_SPI_Receive
 166              	.LVL17:
  97:Core/Src/main.c ****     CS_HIGH();
 167              		.loc 1 97 5 view .LVU38
 168 0064 0122     		movs	r2, #1
 169 0066 1021     		movs	r1, #16
 170 0068 4FF09040 		mov	r0, #1207959552
 171 006c FFF7FEFF 		bl	HAL_GPIO_WritePin
 172              	.LVL18:
  98:Core/Src/main.c **** 
  99:Core/Src/main.c ****     // エラービットの確認（必要に応じて実装）
 100:Core/Src/main.c ****     if (response & 0x4000) {
 173              		.loc 1 100 5 view .LVU39
 174              		.loc 1 100 18 is_stmt 0 view .LVU40
 175 0070 BDF80400 		ldrh	r0, [sp, #4]
 101:Core/Src/main.c ****         // エラー処理
 102:Core/Src/main.c ****     }
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 6


 176              		.loc 1 102 5 is_stmt 1 view .LVU41
 103:Core/Src/main.c **** 
 104:Core/Src/main.c ****     return response & 0x3FFF;  // データ部分のみ返す
 177              		.loc 1 104 5 view .LVU42
 105:Core/Src/main.c **** }
 178              		.loc 1 105 1 is_stmt 0 view .LVU43
 179 0074 C0F30D00 		ubfx	r0, r0, #0, #14
 180 0078 03B0     		add	sp, sp, #12
 181              	.LCFI2:
 182              		.cfi_def_cfa_offset 12
 183              		@ sp needed
 184 007a 30BD     		pop	{r4, r5, pc}
 185              	.L9:
 186              		.align	2
 187              	.L8:
 188 007c 00000000 		.word	hspi1
 189              		.cfi_endproc
 190              	.LFE127:
 192              		.section	.text.getRotation,"ax",%progbits
 193              		.align	1
 194              		.global	getRotation
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 199              	getRotation:
 200              	.LFB128:
 106:Core/Src/main.c **** 
 107:Core/Src/main.c **** int offset = 0;
 108:Core/Src/main.c **** int16_t getRotation() {
 201              		.loc 1 108 23 is_stmt 1 view -0
 202              		.cfi_startproc
 203              		@ args = 0, pretend = 0, frame = 0
 204              		@ frame_needed = 0, uses_anonymous_args = 0
 205 0000 08B5     		push	{r3, lr}
 206              	.LCFI3:
 207              		.cfi_def_cfa_offset 8
 208              		.cfi_offset 3, -8
 209              		.cfi_offset 14, -4
 109:Core/Src/main.c ****     uint16_t data = AS5048A_read(AS5048A_ANGLE);
 210              		.loc 1 109 5 view .LVU45
 211              		.loc 1 109 21 is_stmt 0 view .LVU46
 212 0002 43F6FF70 		movw	r0, #16383
 213 0006 FFF7FEFF 		bl	AS5048A_read
 214              	.LVL19:
 110:Core/Src/main.c ****     int16_t rotation = (int16_t)data;
 215              		.loc 1 110 5 is_stmt 1 view .LVU47
 111:Core/Src/main.c ****     return rotation;
 216              		.loc 1 111 5 view .LVU48
 112:Core/Src/main.c **** }
 217              		.loc 1 112 1 is_stmt 0 view .LVU49
 218 000a 00B2     		sxth	r0, r0
 219              		.loc 1 112 1 view .LVU50
 220 000c 08BD     		pop	{r3, pc}
 221              		.cfi_endproc
 222              	.LFE128:
 224              		.section	.text.electrical_angle,"ax",%progbits
 225              		.align	1
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 7


 226              		.global	electrical_angle
 227              		.syntax unified
 228              		.thumb
 229              		.thumb_func
 231              	electrical_angle:
 232              	.LVL20:
 233              	.LFB129:
 113:Core/Src/main.c **** 
 114:Core/Src/main.c **** // 電気角
 115:Core/Src/main.c **** uint16_t electrical_angle(int16_t real_angle) {
 234              		.loc 1 115 47 is_stmt 1 view -0
 235              		.cfi_startproc
 236              		@ args = 0, pretend = 0, frame = 0
 237              		@ frame_needed = 0, uses_anonymous_args = 0
 238              		@ link register save eliminated.
 116:Core/Src/main.c ****     uint32_t rotation = real_angle;
 239              		.loc 1 116 5 view .LVU52
 117:Core/Src/main.c **** 
 118:Core/Src/main.c ****     // 7回で一回転
 119:Core/Src/main.c ****     rotation %= 1170;
 240              		.loc 1 119 5 view .LVU53
 241              		.loc 1 119 14 is_stmt 0 view .LVU54
 242 0000 4308     		lsrs	r3, r0, #1
 243 0002 054A     		ldr	r2, .L13
 244 0004 A2FB0323 		umull	r2, r3, r2, r3
 245 0008 5B0A     		lsrs	r3, r3, #9
 246 000a 40F29242 		movw	r2, #1170
 247 000e 02FB1303 		mls	r3, r2, r3, r0
 248              	.LVL21:
 120:Core/Src/main.c **** 
 121:Core/Src/main.c ****     return (uint16_t)rotation;
 249              		.loc 1 121 5 is_stmt 1 view .LVU55
 122:Core/Src/main.c **** }
 250              		.loc 1 122 1 is_stmt 0 view .LVU56
 251 0012 98B2     		uxth	r0, r3
 252              	.LVL22:
 253              		.loc 1 122 1 view .LVU57
 254 0014 7047     		bx	lr
 255              	.L14:
 256 0016 00BF     		.align	2
 257              	.L13:
 258 0018 E1000EE0 		.word	-535953183
 259              		.cfi_endproc
 260              	.LFE129:
 262              		.section	.text.setPhase,"ax",%progbits
 263              		.align	1
 264              		.global	setPhase
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 269              	setPhase:
 270              	.LVL23:
 271              	.LFB130:
 123:Core/Src/main.c **** 
 124:Core/Src/main.c **** float cos_table[1170];
 125:Core/Src/main.c **** 
 126:Core/Src/main.c **** void setPhase(uint16_t phase, uint16_t pwm_pwr) {
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 8


 272              		.loc 1 126 49 is_stmt 1 view -0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 8
 275              		@ frame_needed = 0, uses_anonymous_args = 0
 276              		.loc 1 126 49 is_stmt 0 view .LVU59
 277 0000 30B5     		push	{r4, r5, lr}
 278              	.LCFI4:
 279              		.cfi_def_cfa_offset 12
 280              		.cfi_offset 4, -12
 281              		.cfi_offset 5, -8
 282              		.cfi_offset 14, -4
 283 0002 83B0     		sub	sp, sp, #12
 284              	.LCFI5:
 285              		.cfi_def_cfa_offset 24
 286 0004 07EE901A 		vmov	s15, r1	@ int
 127:Core/Src/main.c ****     uint16_t sinwave[3];
 287              		.loc 1 127 5 is_stmt 1 view .LVU60
 128:Core/Src/main.c **** 
 129:Core/Src/main.c ****     sinwave[0] = pwm_pwr + pwm_pwr * cos_table[(phase + 0) % 1170];
 288              		.loc 1 129 5 view .LVU61
 289              		.loc 1 129 26 is_stmt 0 view .LVU62
 290 0008 F8EEE77A 		vcvt.f32.s32	s15, s15
 291              		.loc 1 129 60 view .LVU63
 292 000c 294B     		ldr	r3, .L17
 293 000e 83FB0012 		smull	r1, r2, r3, r0
 294              	.LVL24:
 295              		.loc 1 129 60 view .LVU64
 296 0012 0244     		add	r2, r2, r0
 297 0014 9212     		asrs	r2, r2, #10
 298 0016 40F2924C 		movw	ip, #1170
 299 001a 0CFB1202 		mls	r2, ip, r2, r0
 300              		.loc 1 129 47 view .LVU65
 301 001e 264C     		ldr	r4, .L17+4
 302 0020 04EB8202 		add	r2, r4, r2, lsl #2
 303 0024 92ED007A 		vldr.32	s14, [r2]
 304              		.loc 1 129 36 view .LVU66
 305 0028 27EE877A 		vmul.f32	s14, s15, s14
 306              		.loc 1 129 26 view .LVU67
 307 002c 37EE877A 		vadd.f32	s14, s15, s14
 308              		.loc 1 129 16 view .LVU68
 309 0030 BCEEC77A 		vcvt.u32.f32	s14, s14
 310 0034 17EE102A 		vmov	r2, s14	@ int
 311 0038 91B2     		uxth	r1, r2
 312 003a ADF80010 		strh	r1, [sp]	@ movhi
 130:Core/Src/main.c ****     sinwave[1] = pwm_pwr + pwm_pwr * cos_table[(phase + 390) % 1170];
 313              		.loc 1 130 5 is_stmt 1 view .LVU69
 314              		.loc 1 130 55 is_stmt 0 view .LVU70
 315 003e 00F5C37E 		add	lr, r0, #390
 316              		.loc 1 130 62 view .LVU71
 317 0042 83FB0E52 		smull	r5, r2, r3, lr
 318 0046 7244     		add	r2, r2, lr
 319 0048 9212     		asrs	r2, r2, #10
 320 004a 0CFB12E2 		mls	r2, ip, r2, lr
 321              		.loc 1 130 47 view .LVU72
 322 004e 04EB8202 		add	r2, r4, r2, lsl #2
 323 0052 92ED007A 		vldr.32	s14, [r2]
 324              		.loc 1 130 36 view .LVU73
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 9


 325 0056 27EE877A 		vmul.f32	s14, s15, s14
 326              		.loc 1 130 26 view .LVU74
 327 005a 37EE877A 		vadd.f32	s14, s15, s14
 328              		.loc 1 130 16 view .LVU75
 329 005e BCEEC77A 		vcvt.u32.f32	s14, s14
 330 0062 17EE102A 		vmov	r2, s14	@ int
 331 0066 92B2     		uxth	r2, r2
 332 0068 ADF80220 		strh	r2, [sp, #2]	@ movhi
 131:Core/Src/main.c ****     sinwave[2] = pwm_pwr + pwm_pwr * cos_table[(phase + 780) % 1170];
 333              		.loc 1 131 5 is_stmt 1 view .LVU76
 334              		.loc 1 131 55 is_stmt 0 view .LVU77
 335 006c 00F54370 		add	r0, r0, #780
 336              	.LVL25:
 337              		.loc 1 131 62 view .LVU78
 338 0070 83FB00E3 		smull	lr, r3, r3, r0
 339 0074 0344     		add	r3, r3, r0
 340 0076 9B12     		asrs	r3, r3, #10
 341 0078 0CFB1303 		mls	r3, ip, r3, r0
 342              		.loc 1 131 47 view .LVU79
 343 007c 04EB8304 		add	r4, r4, r3, lsl #2
 344 0080 94ED007A 		vldr.32	s14, [r4]
 345              		.loc 1 131 36 view .LVU80
 346 0084 27EE877A 		vmul.f32	s14, s15, s14
 347              		.loc 1 131 26 view .LVU81
 348 0088 77EE877A 		vadd.f32	s15, s15, s14
 349              		.loc 1 131 16 view .LVU82
 350 008c FCEEE77A 		vcvt.u32.f32	s15, s15
 351 0090 17EE903A 		vmov	r3, s15	@ int
 352 0094 9BB2     		uxth	r3, r3
 353 0096 ADF80430 		strh	r3, [sp, #4]	@ movhi
 132:Core/Src/main.c **** 
 133:Core/Src/main.c ****     // A相
 134:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_1, sinwave[0]);
 354              		.loc 1 134 5 is_stmt 1 view .LVU83
 355 009a 0848     		ldr	r0, .L17+8
 356 009c 0068     		ldr	r0, [r0]
 357 009e 4163     		str	r1, [r0, #52]
 135:Core/Src/main.c **** 
 136:Core/Src/main.c ****     // B相
 137:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim16, TIM_CHANNEL_1, sinwave[1]);
 358              		.loc 1 137 5 view .LVU84
 359 00a0 0749     		ldr	r1, .L17+12
 360 00a2 0968     		ldr	r1, [r1]
 361 00a4 4A63     		str	r2, [r1, #52]
 138:Core/Src/main.c **** 
 139:Core/Src/main.c ****     // C相
 140:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_4, sinwave[2]);
 362              		.loc 1 140 5 view .LVU85
 363 00a6 074A     		ldr	r2, .L17+16
 364 00a8 1268     		ldr	r2, [r2]
 365 00aa 1364     		str	r3, [r2, #64]
 141:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_3, sinwave[2]);
 366              		.loc 1 141 5 view .LVU86
 367 00ac C363     		str	r3, [r0, #60]
 142:Core/Src/main.c **** }
 368              		.loc 1 142 1 is_stmt 0 view .LVU87
 369 00ae 03B0     		add	sp, sp, #12
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 10


 370              	.LCFI6:
 371              		.cfi_def_cfa_offset 12
 372              		@ sp needed
 373 00b0 30BD     		pop	{r4, r5, pc}
 374              	.L18:
 375 00b2 00BF     		.align	2
 376              	.L17:
 377 00b4 E1000EE0 		.word	-535953183
 378 00b8 00000000 		.word	cos_table
 379 00bc 00000000 		.word	htim1
 380 00c0 00000000 		.word	htim16
 381 00c4 00000000 		.word	htim3
 382              		.cfi_endproc
 383              	.LFE130:
 385              		.section	.text.setVoltage,"ax",%progbits
 386              		.align	1
 387              		.global	setVoltage
 388              		.syntax unified
 389              		.thumb
 390              		.thumb_func
 392              	setVoltage:
 393              	.LVL26:
 394              	.LFB131:
 143:Core/Src/main.c **** 
 144:Core/Src/main.c **** void setVoltage(float a, float b, float c) {
 395              		.loc 1 144 44 is_stmt 1 view -0
 396              		.cfi_startproc
 397              		@ args = 0, pretend = 0, frame = 0
 398              		@ frame_needed = 0, uses_anonymous_args = 0
 399              		@ link register save eliminated.
 145:Core/Src/main.c ****     float batt_voltage = 17;  // バッテリー電圧
 400              		.loc 1 145 5 view .LVU89
 146:Core/Src/main.c **** 
 147:Core/Src/main.c ****     // 電圧値を 0-1023 の範囲にマッピングする
 148:Core/Src/main.c ****     // 電圧 a, b, c をバッテリー電圧で正規化し、0〜1023の範囲にスケーリン
 149:Core/Src/main.c ****     int int_a = (int)((a / batt_voltage) * 1023) + 512;
 401              		.loc 1 149 5 view .LVU90
 402              		.loc 1 149 26 is_stmt 0 view .LVU91
 403 0000 F3EE016A 		vmov.f32	s13, #1.7e+1
 404 0004 C0EE267A 		vdiv.f32	s15, s0, s13
 405              		.loc 1 149 42 view .LVU92
 406 0008 9FED207A 		vldr.32	s14, .L20
 407 000c 67EE877A 		vmul.f32	s15, s15, s14
 408              		.loc 1 149 17 view .LVU93
 409 0010 FDEEE77A 		vcvt.s32.f32	s15, s15
 410 0014 17EE901A 		vmov	r1, s15	@ int
 411              		.loc 1 149 9 view .LVU94
 412 0018 01F50071 		add	r1, r1, #512
 413              	.LVL27:
 150:Core/Src/main.c ****     int int_b = (int)((b / batt_voltage) * 1023) + 512;
 414              		.loc 1 150 5 is_stmt 1 view .LVU95
 415              		.loc 1 150 26 is_stmt 0 view .LVU96
 416 001c C0EEA67A 		vdiv.f32	s15, s1, s13
 417              		.loc 1 150 42 view .LVU97
 418 0020 67EE877A 		vmul.f32	s15, s15, s14
 419              		.loc 1 150 17 view .LVU98
 420 0024 FDEEE77A 		vcvt.s32.f32	s15, s15
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 11


 421 0028 17EE902A 		vmov	r2, s15	@ int
 422              		.loc 1 150 9 view .LVU99
 423 002c 02F50072 		add	r2, r2, #512
 424              	.LVL28:
 151:Core/Src/main.c ****     int int_c = (int)((c / batt_voltage) * 1023) + 512;
 425              		.loc 1 151 5 is_stmt 1 view .LVU100
 426              		.loc 1 151 26 is_stmt 0 view .LVU101
 427 0030 C1EE267A 		vdiv.f32	s15, s2, s13
 428              		.loc 1 151 42 view .LVU102
 429 0034 67EE877A 		vmul.f32	s15, s15, s14
 430              		.loc 1 151 17 view .LVU103
 431 0038 FDEEE77A 		vcvt.s32.f32	s15, s15
 432 003c 17EE903A 		vmov	r3, s15	@ int
 433              		.loc 1 151 9 view .LVU104
 434 0040 03F50073 		add	r3, r3, #512
 435              	.LVL29:
 152:Core/Src/main.c **** 
 153:Core/Src/main.c ****     // clip [ 100, 900 ]
 154:Core/Src/main.c ****     int clip_low = 200;
 436              		.loc 1 154 5 is_stmt 1 view .LVU105
 155:Core/Src/main.c ****     int clip_high = 800;
 437              		.loc 1 155 5 view .LVU106
 156:Core/Src/main.c **** 
 157:Core/Src/main.c ****     int_a = int_a < clip_low ? clip_low : int_a;
 438              		.loc 1 157 5 view .LVU107
 439              		.loc 1 157 11 is_stmt 0 view .LVU108
 440 0044 C829     		cmp	r1, #200
 441 0046 B8BF     		it	lt
 442 0048 C821     		movlt	r1, #200
 443              	.LVL30:
 158:Core/Src/main.c ****     int_a = int_a > clip_high ? clip_high : int_a;
 444              		.loc 1 158 5 is_stmt 1 view .LVU109
 445              		.loc 1 158 11 is_stmt 0 view .LVU110
 446 004a B1F5487F 		cmp	r1, #800
 447 004e A8BF     		it	ge
 448 0050 4FF44871 		movge	r1, #800
 449              	.LVL31:
 159:Core/Src/main.c **** 
 160:Core/Src/main.c ****     int_b = int_b < clip_low ? clip_low : int_b;
 450              		.loc 1 160 5 is_stmt 1 view .LVU111
 451              		.loc 1 160 11 is_stmt 0 view .LVU112
 452 0054 C82A     		cmp	r2, #200
 453 0056 B8BF     		it	lt
 454 0058 C822     		movlt	r2, #200
 455              	.LVL32:
 161:Core/Src/main.c ****     int_b = int_b > clip_high ? clip_high : int_b;
 456              		.loc 1 161 5 is_stmt 1 view .LVU113
 457              		.loc 1 161 11 is_stmt 0 view .LVU114
 458 005a B2F5487F 		cmp	r2, #800
 459 005e A8BF     		it	ge
 460 0060 4FF44872 		movge	r2, #800
 461              	.LVL33:
 162:Core/Src/main.c **** 
 163:Core/Src/main.c ****     int_c = int_c < clip_low ? clip_low : int_c;
 462              		.loc 1 163 5 is_stmt 1 view .LVU115
 463              		.loc 1 163 11 is_stmt 0 view .LVU116
 464 0064 C82B     		cmp	r3, #200
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 12


 465 0066 B8BF     		it	lt
 466 0068 C823     		movlt	r3, #200
 467              	.LVL34:
 164:Core/Src/main.c ****     int_c = int_c > clip_high ? clip_high : int_c;
 468              		.loc 1 164 5 is_stmt 1 view .LVU117
 469              		.loc 1 164 11 is_stmt 0 view .LVU118
 470 006a B3F5487F 		cmp	r3, #800
 471 006e A8BF     		it	ge
 472 0070 4FF44873 		movge	r3, #800
 473              	.LVL35:
 165:Core/Src/main.c **** 
 166:Core/Src/main.c ****     // PWM信号を各チャネルに設定
 167:Core/Src/main.c ****     // A相
 168:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_1, int_a);
 474              		.loc 1 168 5 is_stmt 1 view .LVU119
 475 0074 0648     		ldr	r0, .L20+4
 476 0076 0068     		ldr	r0, [r0]
 477 0078 4163     		str	r1, [r0, #52]
 169:Core/Src/main.c **** 
 170:Core/Src/main.c ****     // B相
 171:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim16, TIM_CHANNEL_1, int_b);
 478              		.loc 1 171 5 view .LVU120
 479 007a 0649     		ldr	r1, .L20+8
 480              	.LVL36:
 481              		.loc 1 171 5 is_stmt 0 view .LVU121
 482 007c 0968     		ldr	r1, [r1]
 483 007e 4A63     		str	r2, [r1, #52]
 484              	.LVL37:
 172:Core/Src/main.c **** 
 173:Core/Src/main.c ****     // C相
 174:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_4, int_c);
 485              		.loc 1 174 5 is_stmt 1 view .LVU122
 486 0080 054A     		ldr	r2, .L20+12
 487              	.LVL38:
 488              		.loc 1 174 5 is_stmt 0 view .LVU123
 489 0082 1268     		ldr	r2, [r2]
 490 0084 1364     		str	r3, [r2, #64]
 491              	.LVL39:
 175:Core/Src/main.c ****     __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_3, int_c);
 492              		.loc 1 175 5 is_stmt 1 view .LVU124
 493 0086 C363     		str	r3, [r0, #60]
 176:Core/Src/main.c **** }
 494              		.loc 1 176 1 is_stmt 0 view .LVU125
 495 0088 7047     		bx	lr
 496              	.L21:
 497 008a 00BF     		.align	2
 498              	.L20:
 499 008c 00C07F44 		.word	1149222912
 500 0090 00000000 		.word	htim1
 501 0094 00000000 		.word	htim16
 502 0098 00000000 		.word	htim3
 503              		.cfi_endproc
 504              	.LFE131:
 506              		.section	.text.uint2char,"ax",%progbits
 507              		.align	1
 508              		.global	uint2char
 509              		.syntax unified
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 13


 510              		.thumb
 511              		.thumb_func
 513              	uint2char:
 514              	.LVL40:
 515              	.LFB132:
 177:Core/Src/main.c **** 
 178:Core/Src/main.c **** char *uint2char(uint16_t num) {
 516              		.loc 1 178 31 is_stmt 1 view -0
 517              		.cfi_startproc
 518              		@ args = 0, pretend = 0, frame = 0
 519              		@ frame_needed = 0, uses_anonymous_args = 0
 520              		@ link register save eliminated.
 521              		.loc 1 178 31 is_stmt 0 view .LVU127
 522 0000 0146     		mov	r1, r0
 179:Core/Src/main.c ****     static char str[5];
 523              		.loc 1 179 5 is_stmt 1 view .LVU128
 180:Core/Src/main.c ****     str[0] = num / 1000 + '0';
 524              		.loc 1 180 5 view .LVU129
 525              		.loc 1 180 25 is_stmt 0 view .LVU130
 526 0002 164B     		ldr	r3, .L23
 527 0004 A3FB0023 		umull	r2, r3, r3, r0
 528 0008 9B09     		lsrs	r3, r3, #6
 529 000a 03F13002 		add	r2, r3, #48
 530              		.loc 1 180 12 view .LVU131
 531 000e 1448     		ldr	r0, .L23+4
 532              	.LVL41:
 533              		.loc 1 180 12 view .LVU132
 534 0010 0270     		strb	r2, [r0]
 181:Core/Src/main.c ****     str[1] = (num % 1000) / 100 + '0';
 535              		.loc 1 181 5 is_stmt 1 view .LVU133
 536              		.loc 1 181 33 is_stmt 0 view .LVU134
 537 0012 4FF47A72 		mov	r2, #1000
 538 0016 02FB1312 		mls	r2, r2, r3, r1
 539 001a 92B2     		uxth	r2, r2
 540 001c 114B     		ldr	r3, .L23+8
 541 001e A3FB02C2 		umull	ip, r2, r3, r2
 542 0022 5209     		lsrs	r2, r2, #5
 543 0024 3032     		adds	r2, r2, #48
 544              		.loc 1 181 12 view .LVU135
 545 0026 4270     		strb	r2, [r0, #1]
 182:Core/Src/main.c ****     str[2] = (num % 100) / 10 + '0';
 546              		.loc 1 182 5 is_stmt 1 view .LVU136
 547              		.loc 1 182 31 is_stmt 0 view .LVU137
 548 0028 A3FB0123 		umull	r2, r3, r3, r1
 549 002c 5B09     		lsrs	r3, r3, #5
 550 002e 6422     		movs	r2, #100
 551 0030 02FB1313 		mls	r3, r2, r3, r1
 552 0034 9BB2     		uxth	r3, r3
 553 0036 0C4A     		ldr	r2, .L23+12
 554 0038 A2FB03C3 		umull	ip, r3, r2, r3
 555 003c DB08     		lsrs	r3, r3, #3
 556 003e 3033     		adds	r3, r3, #48
 557              		.loc 1 182 12 view .LVU138
 558 0040 8370     		strb	r3, [r0, #2]
 183:Core/Src/main.c ****     str[3] = num % 10 + '0';
 559              		.loc 1 183 5 is_stmt 1 view .LVU139
 560              		.loc 1 183 23 is_stmt 0 view .LVU140
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 14


 561 0042 A2FB0123 		umull	r2, r3, r2, r1
 562 0046 DB08     		lsrs	r3, r3, #3
 563 0048 03EB8303 		add	r3, r3, r3, lsl #2
 564 004c A1EB4301 		sub	r1, r1, r3, lsl #1
 565 0050 3031     		adds	r1, r1, #48
 566              		.loc 1 183 12 view .LVU141
 567 0052 C170     		strb	r1, [r0, #3]
 184:Core/Src/main.c ****     str[4] = '\0';
 568              		.loc 1 184 5 is_stmt 1 view .LVU142
 569              		.loc 1 184 12 is_stmt 0 view .LVU143
 570 0054 0023     		movs	r3, #0
 571 0056 0371     		strb	r3, [r0, #4]
 185:Core/Src/main.c **** 
 186:Core/Src/main.c ****     return str;
 572              		.loc 1 186 5 is_stmt 1 view .LVU144
 187:Core/Src/main.c **** }
 573              		.loc 1 187 1 is_stmt 0 view .LVU145
 574 0058 7047     		bx	lr
 575              	.L24:
 576 005a 00BF     		.align	2
 577              	.L23:
 578 005c D34D6210 		.word	274877907
 579 0060 00000000 		.word	str.0
 580 0064 1F85EB51 		.word	1374389535
 581 0068 CDCCCCCC 		.word	-858993459
 582              		.cfi_endproc
 583              	.LFE132:
 585              		.global	__aeabi_i2d
 586              		.global	__aeabi_dmul
 587              		.global	__aeabi_dsub
 588              		.global	__aeabi_d2f
 589              		.global	__aeabi_dadd
 590              		.global	__aeabi_f2d
 591              		.section	.text.senseOut,"ax",%progbits
 592              		.align	1
 593              		.global	senseOut
 594              		.syntax unified
 595              		.thumb
 596              		.thumb_func
 598              	senseOut:
 599              	.LFB133:
 188:Core/Src/main.c **** 
 189:Core/Src/main.c **** uint16_t adcBuffer[3];  // PA0, PA1, PA2の3つのチャンネル分のデータ
 190:Core/Src/main.c **** uint16_t adcOffset[3];  // オフセット値
 191:Core/Src/main.c **** 
 192:Core/Src/main.c **** float sense[3];
 193:Core/Src/main.c **** void senseOut() {
 600              		.loc 1 193 17 is_stmt 1 view -0
 601              		.cfi_startproc
 602              		@ args = 0, pretend = 0, frame = 24
 603              		@ frame_needed = 0, uses_anonymous_args = 0
 604 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 605              	.LCFI7:
 606              		.cfi_def_cfa_offset 36
 607              		.cfi_offset 4, -36
 608              		.cfi_offset 5, -32
 609              		.cfi_offset 6, -28
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 15


 610              		.cfi_offset 7, -24
 611              		.cfi_offset 8, -20
 612              		.cfi_offset 9, -16
 613              		.cfi_offset 10, -12
 614              		.cfi_offset 11, -8
 615              		.cfi_offset 14, -4
 616 0004 2DED048B 		vpush.64	{d8, d9}
 617              	.LCFI8:
 618              		.cfi_def_cfa_offset 52
 619              		.cfi_offset 80, -52
 620              		.cfi_offset 81, -48
 621              		.cfi_offset 82, -44
 622              		.cfi_offset 83, -40
 623 0008 87B0     		sub	sp, sp, #28
 624              	.LCFI9:
 625              		.cfi_def_cfa_offset 80
 194:Core/Src/main.c ****     float _sense[3];
 626              		.loc 1 194 5 view .LVU147
 195:Core/Src/main.c ****     _sense[0] = 0.995832 * (adcBuffer[0] - 2048) -
 627              		.loc 1 195 5 view .LVU148
 628              		.loc 1 195 38 is_stmt 0 view .LVU149
 629 000a DFF818A2 		ldr	r10, .L27+68
 630 000e BAF80000 		ldrh	r0, [r10]
 631              		.loc 1 195 26 view .LVU150
 632 0012 A0F50060 		sub	r0, r0, #2048
 633 0016 FFF7FEFF 		bl	__aeabi_i2d
 634              	.LVL42:
 635 001a 0646     		mov	r6, r0
 636 001c 0F46     		mov	r7, r1
 637 001e 73A3     		adr	r3, .L27+12
 638 0020 D3E90023 		ldrd	r2, [r3]
 639 0024 FFF7FEFF 		bl	__aeabi_dmul
 640              	.LVL43:
 641 0028 8046     		mov	r8, r0
 642 002a 8946     		mov	r9, r1
 196:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) -
 643              		.loc 1 196 38 view .LVU151
 644 002c BAF80200 		ldrh	r0, [r10, #2]
 645              		.loc 1 196 26 view .LVU152
 646 0030 A0F50060 		sub	r0, r0, #2048
 647 0034 FFF7FEFF 		bl	__aeabi_i2d
 648              	.LVL44:
 649 0038 0246     		mov	r2, r0
 650 003a 0B46     		mov	r3, r1
 651 003c CDE90023 		strd	r2, [sp]
 652 0040 6CA3     		adr	r3, .L27+20
 653 0042 D3E90023 		ldrd	r2, [r3]
 654 0046 FFF7FEFF 		bl	__aeabi_dmul
 655              	.LVL45:
 656 004a 0446     		mov	r4, r0
 657 004c 0D46     		mov	r5, r1
 195:Core/Src/main.c ****     _sense[0] = 0.995832 * (adcBuffer[0] - 2048) -
 658              		.loc 1 195 50 view .LVU153
 659 004e 0246     		mov	r2, r0
 660 0050 0B46     		mov	r3, r1
 661 0052 4046     		mov	r0, r8
 662 0054 4946     		mov	r1, r9
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 16


 663 0056 FFF7FEFF 		bl	__aeabi_dsub
 664              	.LVL46:
 665 005a 8046     		mov	r8, r0
 666 005c 8946     		mov	r9, r1
 197:Core/Src/main.c ****                 0.014988 * (adcBuffer[2] - 2048);
 667              		.loc 1 197 38 view .LVU154
 668 005e BAF80400 		ldrh	r0, [r10, #4]
 669              		.loc 1 197 26 view .LVU155
 670 0062 A0F50060 		sub	r0, r0, #2048
 671 0066 FFF7FEFF 		bl	__aeabi_i2d
 672              	.LVL47:
 673 006a 8246     		mov	r10, r0
 674 006c 8B46     		mov	fp, r1
 675 006e 63A3     		adr	r3, .L27+28
 676 0070 D3E90023 		ldrd	r2, [r3]
 677 0074 FFF7FEFF 		bl	__aeabi_dmul
 678              	.LVL48:
 679 0078 0246     		mov	r2, r0
 680 007a 0B46     		mov	r3, r1
 196:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) -
 681              		.loc 1 196 50 view .LVU156
 682 007c 4046     		mov	r0, r8
 683 007e 4946     		mov	r1, r9
 684 0080 FFF7FEFF 		bl	__aeabi_dsub
 685              	.LVL49:
 686 0084 FFF7FEFF 		bl	__aeabi_d2f
 687              	.LVL50:
 688 0088 08EE900A 		vmov	s17, r0
 195:Core/Src/main.c ****     _sense[0] = 0.995832 * (adcBuffer[0] - 2048) -
 689              		.loc 1 195 15 view .LVU157
 690 008c 0390     		str	r0, [sp, #12]	@ float
 198:Core/Src/main.c **** 
 199:Core/Src/main.c ****     _sense[1] = 0.037737 * (adcBuffer[0] - 2048) +
 691              		.loc 1 199 5 is_stmt 1 view .LVU158
 692              		.loc 1 199 26 is_stmt 0 view .LVU159
 693 008e 5DA3     		adr	r3, .L27+36
 694 0090 D3E90023 		ldrd	r2, [r3]
 695 0094 3046     		mov	r0, r6
 696 0096 3946     		mov	r1, r7
 697 0098 FFF7FEFF 		bl	__aeabi_dmul
 698              	.LVL51:
 699 009c 8046     		mov	r8, r0
 700 009e 8946     		mov	r9, r1
 200:Core/Src/main.c ****                 1.007723 * (adcBuffer[1] - 2048) -
 701              		.loc 1 200 26 view .LVU160
 702 00a0 5AA3     		adr	r3, .L27+44
 703 00a2 D3E90023 		ldrd	r2, [r3]
 704 00a6 DDE90001 		ldrd	r0, [sp]
 705 00aa FFF7FEFF 		bl	__aeabi_dmul
 706              	.LVL52:
 707 00ae 0246     		mov	r2, r0
 708 00b0 0B46     		mov	r3, r1
 199:Core/Src/main.c ****                 1.007723 * (adcBuffer[1] - 2048) -
 709              		.loc 1 199 50 view .LVU161
 710 00b2 4046     		mov	r0, r8
 711 00b4 4946     		mov	r1, r9
 712 00b6 FFF7FEFF 		bl	__aeabi_dadd
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 17


 713              	.LVL53:
 714 00ba 8046     		mov	r8, r0
 715 00bc 8946     		mov	r9, r1
 201:Core/Src/main.c ****                 0.033757 * (adcBuffer[2] - 2048);
 716              		.loc 1 201 26 view .LVU162
 717 00be 55A3     		adr	r3, .L27+52
 718 00c0 D3E90023 		ldrd	r2, [r3]
 719 00c4 5046     		mov	r0, r10
 720 00c6 5946     		mov	r1, fp
 721 00c8 FFF7FEFF 		bl	__aeabi_dmul
 722              	.LVL54:
 723 00cc 0246     		mov	r2, r0
 724 00ce 0B46     		mov	r3, r1
 200:Core/Src/main.c ****                 1.007723 * (adcBuffer[1] - 2048) -
 725              		.loc 1 200 50 view .LVU163
 726 00d0 4046     		mov	r0, r8
 727 00d2 4946     		mov	r1, r9
 728 00d4 FFF7FEFF 		bl	__aeabi_dsub
 729              	.LVL55:
 730 00d8 FFF7FEFF 		bl	__aeabi_d2f
 731              	.LVL56:
 732 00dc 08EE100A 		vmov	s16, r0
 199:Core/Src/main.c ****                 1.007723 * (adcBuffer[1] - 2048) -
 733              		.loc 1 199 15 view .LVU164
 734 00e0 0490     		str	r0, [sp, #16]	@ float
 202:Core/Src/main.c **** 
 203:Core/Src/main.c ****     _sense[2] = -0.014988 * (adcBuffer[0] - 2048) -
 735              		.loc 1 203 5 is_stmt 1 view .LVU165
 736              		.loc 1 203 27 is_stmt 0 view .LVU166
 737 00e2 4EA3     		adr	r3, .L27+60
 738 00e4 D3E90023 		ldrd	r2, [r3]
 739 00e8 3046     		mov	r0, r6
 740 00ea 3946     		mov	r1, r7
 741 00ec FFF7FEFF 		bl	__aeabi_dmul
 742              	.LVL57:
 743              		.loc 1 203 51 view .LVU167
 744 00f0 2246     		mov	r2, r4
 745 00f2 2B46     		mov	r3, r5
 746 00f4 FFF7FEFF 		bl	__aeabi_dsub
 747              	.LVL58:
 748 00f8 0446     		mov	r4, r0
 749 00fa 0D46     		mov	r5, r1
 204:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) +
 205:Core/Src/main.c ****                 0.995832 * (adcBuffer[2] - 2048);
 750              		.loc 1 205 26 view .LVU168
 751 00fc 3BA3     		adr	r3, .L27+12
 752 00fe D3E90023 		ldrd	r2, [r3]
 753 0102 5046     		mov	r0, r10
 754 0104 5946     		mov	r1, fp
 755 0106 FFF7FEFF 		bl	__aeabi_dmul
 756              	.LVL59:
 757 010a 0246     		mov	r2, r0
 758 010c 0B46     		mov	r3, r1
 204:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) +
 759              		.loc 1 204 50 view .LVU169
 760 010e 2046     		mov	r0, r4
 761 0110 2946     		mov	r1, r5
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 18


 762 0112 FFF7FEFF 		bl	__aeabi_dadd
 763              	.LVL60:
 764 0116 FFF7FEFF 		bl	__aeabi_d2f
 765              	.LVL61:
 766 011a 07EE900A 		vmov	s15, r0
 203:Core/Src/main.c ****                 0.028199 * (adcBuffer[1] - 2048) +
 767              		.loc 1 203 15 view .LVU170
 768 011e 0590     		str	r0, [sp, #20]	@ float
 206:Core/Src/main.c **** 
 207:Core/Src/main.c ****     float gain = 1.2;
 769              		.loc 1 207 5 is_stmt 1 view .LVU171
 770              	.LVL62:
 208:Core/Src/main.c ****     float scaleFactor = 3.3 / 4096.0;
 771              		.loc 1 208 5 view .LVU172
 209:Core/Src/main.c **** 
 210:Core/Src/main.c ****     _sense[0] = (_sense[0] * scaleFactor) / gain;
 772              		.loc 1 210 5 view .LVU173
 773              		.loc 1 210 28 is_stmt 0 view .LVU174
 774 0120 DFED2F6A 		vldr.32	s13, .L27
 775 0124 68EEA68A 		vmul.f32	s17, s17, s13
 776              		.loc 1 210 43 view .LVU175
 777 0128 9FED2E7A 		vldr.32	s14, .L27+4
 778 012c 88EE879A 		vdiv.f32	s18, s17, s14
 779              		.loc 1 210 15 view .LVU176
 780 0130 8DED039A 		vstr.32	s18, [sp, #12]
 211:Core/Src/main.c ****     _sense[1] = (_sense[1] * scaleFactor) / gain;
 781              		.loc 1 211 5 is_stmt 1 view .LVU177
 782              		.loc 1 211 28 is_stmt 0 view .LVU178
 783 0134 28EE268A 		vmul.f32	s16, s16, s13
 784              		.loc 1 211 43 view .LVU179
 785 0138 C8EE078A 		vdiv.f32	s17, s16, s14
 786              		.loc 1 211 15 view .LVU180
 787 013c CDED048A 		vstr.32	s17, [sp, #16]
 212:Core/Src/main.c ****     _sense[2] = (_sense[2] * scaleFactor) / gain;
 788              		.loc 1 212 5 is_stmt 1 view .LVU181
 789              		.loc 1 212 28 is_stmt 0 view .LVU182
 790 0140 67EEA67A 		vmul.f32	s15, s15, s13
 791              		.loc 1 212 43 view .LVU183
 792 0144 87EE878A 		vdiv.f32	s16, s15, s14
 793              		.loc 1 212 15 view .LVU184
 794 0148 8DED058A 		vstr.32	s16, [sp, #20]
 213:Core/Src/main.c **** 
 214:Core/Src/main.c ****     // 　ローパスフィルタ
 215:Core/Src/main.c ****     const float alpha = 1.0;
 795              		.loc 1 215 5 is_stmt 1 view .LVU185
 796              	.LVL63:
 216:Core/Src/main.c ****     sense[0] = (1.0 - alpha) * sense[0] + alpha * _sense[0];
 797              		.loc 1 216 5 view .LVU186
 798              		.loc 1 216 37 is_stmt 0 view .LVU187
 799 014c 264C     		ldr	r4, .L27+8
 800 014e 2068     		ldr	r0, [r4]	@ float
 801 0150 FFF7FEFF 		bl	__aeabi_f2d
 802              	.LVL64:
 803              		.loc 1 216 30 view .LVU188
 804 0154 0022     		movs	r2, #0
 805 0156 0023     		movs	r3, #0
 806 0158 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 19


 807              	.LVL65:
 808 015c 0646     		mov	r6, r0
 809 015e 0F46     		mov	r7, r1
 810              		.loc 1 216 49 view .LVU189
 811 0160 19EE100A 		vmov	r0, s18
 812 0164 FFF7FEFF 		bl	__aeabi_f2d
 813              	.LVL66:
 814 0168 0246     		mov	r2, r0
 815 016a 0B46     		mov	r3, r1
 816              		.loc 1 216 41 view .LVU190
 817 016c 3046     		mov	r0, r6
 818 016e 3946     		mov	r1, r7
 819 0170 FFF7FEFF 		bl	__aeabi_dadd
 820              	.LVL67:
 821 0174 FFF7FEFF 		bl	__aeabi_d2f
 822              	.LVL68:
 823              		.loc 1 216 14 view .LVU191
 824 0178 2060     		str	r0, [r4]	@ float
 217:Core/Src/main.c ****     sense[1] = (1.0 - alpha) * sense[1] + alpha * _sense[1];
 825              		.loc 1 217 5 is_stmt 1 view .LVU192
 826              		.loc 1 217 37 is_stmt 0 view .LVU193
 827 017a 6068     		ldr	r0, [r4, #4]	@ float
 828 017c FFF7FEFF 		bl	__aeabi_f2d
 829              	.LVL69:
 830              		.loc 1 217 30 view .LVU194
 831 0180 0022     		movs	r2, #0
 832 0182 0023     		movs	r3, #0
 833 0184 FFF7FEFF 		bl	__aeabi_dmul
 834              	.LVL70:
 835 0188 0646     		mov	r6, r0
 836 018a 0F46     		mov	r7, r1
 837              		.loc 1 217 49 view .LVU195
 838 018c 18EE900A 		vmov	r0, s17
 839 0190 FFF7FEFF 		bl	__aeabi_f2d
 840              	.LVL71:
 841 0194 0246     		mov	r2, r0
 842 0196 0B46     		mov	r3, r1
 843              		.loc 1 217 41 view .LVU196
 844 0198 3046     		mov	r0, r6
 845 019a 3946     		mov	r1, r7
 846 019c FFF7FEFF 		bl	__aeabi_dadd
 847              	.LVL72:
 848 01a0 FFF7FEFF 		bl	__aeabi_d2f
 849              	.LVL73:
 850              		.loc 1 217 14 view .LVU197
 851 01a4 6060     		str	r0, [r4, #4]	@ float
 218:Core/Src/main.c ****     sense[2] = (1.0 - alpha) * sense[2] + alpha * _sense[2];
 852              		.loc 1 218 5 is_stmt 1 view .LVU198
 853              		.loc 1 218 37 is_stmt 0 view .LVU199
 854 01a6 A068     		ldr	r0, [r4, #8]	@ float
 855 01a8 FFF7FEFF 		bl	__aeabi_f2d
 856              	.LVL74:
 857              		.loc 1 218 30 view .LVU200
 858 01ac 0022     		movs	r2, #0
 859 01ae 0023     		movs	r3, #0
 860 01b0 FFF7FEFF 		bl	__aeabi_dmul
 861              	.LVL75:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 20


 862 01b4 0646     		mov	r6, r0
 863 01b6 0F46     		mov	r7, r1
 864              		.loc 1 218 49 view .LVU201
 865 01b8 18EE100A 		vmov	r0, s16
 866 01bc FFF7FEFF 		bl	__aeabi_f2d
 867              	.LVL76:
 868 01c0 0246     		mov	r2, r0
 869 01c2 0B46     		mov	r3, r1
 870              		.loc 1 218 41 view .LVU202
 871 01c4 3046     		mov	r0, r6
 872 01c6 3946     		mov	r1, r7
 873 01c8 FFF7FEFF 		bl	__aeabi_dadd
 874              	.LVL77:
 875 01cc FFF7FEFF 		bl	__aeabi_d2f
 876              	.LVL78:
 877              		.loc 1 218 14 view .LVU203
 878 01d0 A060     		str	r0, [r4, #8]	@ float
 219:Core/Src/main.c **** 
 220:Core/Src/main.c ****     // sense_A += 0.5;
 221:Core/Src/main.c ****     // sense_B += 0.45;
 222:Core/Src/main.c ****     // sense_C += 0.33;
 223:Core/Src/main.c **** }
 879              		.loc 1 223 1 view .LVU204
 880 01d2 07B0     		add	sp, sp, #28
 881              	.LCFI10:
 882              		.cfi_def_cfa_offset 52
 883              		@ sp needed
 884 01d4 BDEC048B 		vldm	sp!, {d8-d9}
 885              	.LCFI11:
 886              		.cfi_restore 82
 887              		.cfi_restore 83
 888              		.cfi_restore 80
 889              		.cfi_restore 81
 890              		.cfi_def_cfa_offset 36
 891 01d8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 892              	.L28:
 893 01dc AFF30080 		.align	3
 894              	.L27:
 895 01e0 3333533A 		.word	978531123
 896 01e4 9A99993F 		.word	1067030938
 897 01e8 00000000 		.word	sense
 898 01ec C0ED0912 		.word	302640576
 899 01f0 DBDDEF3F 		.word	1072684507
 900 01f4 279F1EDB 		.word	-618750169
 901 01f8 32E09C3F 		.word	1067245618
 902 01fc 7FDAA84E 		.word	1319688831
 903 0200 07B28E3F 		.word	1066316295
 904 0204 0DC4B299 		.word	-1716337651
 905 0208 4352A33F 		.word	1067668035
 906 020c 06D50627 		.word	654759174
 907 0210 A21FF03F 		.word	1072701346
 908 0214 3BAB05F6 		.word	-167400645
 909 0218 9848A13F 		.word	1067534488
 910 021c 7FDAA84E 		.word	1319688831
 911 0220 07B28EBF 		.word	-1081167353
 912 0224 00000000 		.word	adcBuffer
 913              		.cfi_endproc
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 21


 914              	.LFE133:
 916              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 917              		.align	1
 918              		.global	HAL_UART_TxCpltCallback
 919              		.syntax unified
 920              		.thumb
 921              		.thumb_func
 923              	HAL_UART_TxCpltCallback:
 924              	.LVL79:
 925              	.LFB136:
 224:Core/Src/main.c **** 
 225:Core/Src/main.c **** short velocity = 0;
 226:Core/Src/main.c **** 
 227:Core/Src/main.c **** float ref_q = -0.4;
 228:Core/Src/main.c **** 
 229:Core/Src/main.c **** float err_d;
 230:Core/Src/main.c **** static float err_d_int = 0;
 231:Core/Src/main.c **** 
 232:Core/Src/main.c **** float err_q;
 233:Core/Src/main.c **** static float err_q_int = 0;
 234:Core/Src/main.c **** 
 235:Core/Src/main.c **** static float curr_d_filterd = 0;
 236:Core/Src/main.c **** static float curr_q_filterd = 0;
 237:Core/Src/main.c **** 
 238:Core/Src/main.c **** const uint8_t pre_scaler = 7;
 239:Core/Src/main.c **** /* USER CODE END 0 */
 240:Core/Src/main.c **** 
 241:Core/Src/main.c **** /**
 242:Core/Src/main.c ****  * @brief  The application entry point.
 243:Core/Src/main.c ****  * @retval int
 244:Core/Src/main.c ****  */
 245:Core/Src/main.c **** int main(void) {
 246:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 247:Core/Src/main.c **** 
 248:Core/Src/main.c ****     /* USER CODE END 1 */
 249:Core/Src/main.c **** 
 250:Core/Src/main.c ****     /* MCU
 251:Core/Src/main.c ****      * Configuration--------------------------------------------------------*/
 252:Core/Src/main.c **** 
 253:Core/Src/main.c ****     /* Reset of all peripherals, Initializes the Flash interface and the
 254:Core/Src/main.c ****      * Systick. */
 255:Core/Src/main.c ****     HAL_Init();
 256:Core/Src/main.c **** 
 257:Core/Src/main.c ****     /* USER CODE BEGIN Init */
 258:Core/Src/main.c **** 
 259:Core/Src/main.c ****     /* USER CODE END Init */
 260:Core/Src/main.c **** 
 261:Core/Src/main.c ****     /* Configure the system clock */
 262:Core/Src/main.c ****     SystemClock_Config();
 263:Core/Src/main.c **** 
 264:Core/Src/main.c ****     /* USER CODE BEGIN SysInit */
 265:Core/Src/main.c **** 
 266:Core/Src/main.c ****     /* USER CODE END SysInit */
 267:Core/Src/main.c **** 
 268:Core/Src/main.c ****     /* Initialize all configured peripherals */
 269:Core/Src/main.c ****     MX_GPIO_Init();
 270:Core/Src/main.c ****     MX_DMA_Init();
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 22


 271:Core/Src/main.c ****     MX_TIM1_Init();
 272:Core/Src/main.c ****     MX_TIM16_Init();
 273:Core/Src/main.c ****     MX_TIM2_Init();
 274:Core/Src/main.c ****     MX_TIM3_Init();
 275:Core/Src/main.c ****     MX_SPI1_Init();
 276:Core/Src/main.c ****     MX_USART1_UART_Init();
 277:Core/Src/main.c ****     MX_ADC1_Init();
 278:Core/Src/main.c ****     /* USER CODE BEGIN 2 */
 279:Core/Src/main.c ****     setbuf(stdin, NULL);
 280:Core/Src/main.c ****     setbuf(stdout, NULL);
 281:Core/Src/main.c ****     setbuf(stderr, NULL);
 282:Core/Src/main.c ****     dma_printf_init(&huart1);
 283:Core/Src/main.c ****     dma_scanf_init(&huart1);
 284:Core/Src/main.c **** 
 285:Core/Src/main.c ****     // A相
 286:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_1);     // H
 287:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_1);  // L
 288:Core/Src/main.c **** 
 289:Core/Src/main.c ****     // B相
 290:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim16, TIM_CHANNEL_1);     // H
 291:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim16, TIM_CHANNEL_1);  // L
 292:Core/Src/main.c **** 
 293:Core/Src/main.c ****     // C相
 294:Core/Src/main.c ****     HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_4);     // H
 295:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_3);  // L
 296:Core/Src/main.c **** 
 297:Core/Src/main.c ****     // デバッグ用LED
 298:Core/Src/main.c ****     // HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_1);
 299:Core/Src/main.c **** 
 300:Core/Src/main.c ****     // タイマー用
 301:Core/Src/main.c **** 
 302:Core/Src/main.c ****     // DRVOFF
 303:Core/Src/main.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_1, GPIO_PIN_RESET);
 304:Core/Src/main.c **** 
 305:Core/Src/main.c ****     HAL_ADCEx_Calibration_Start(&hadc1, ADC_SINGLE_ENDED);
 306:Core/Src/main.c **** 
 307:Core/Src/main.c ****     if (HAL_ADC_Start_DMA(&hadc1, (uint32_t *)adcBuffer, 3) == HAL_OK)
 308:Core/Src/main.c ****         printf("Start ADC Successfully\n\r");
 309:Core/Src/main.c ****     else
 310:Core/Src/main.c ****         printf("Start ADC failed\n\r");
 311:Core/Src/main.c ****     /* USER CODE END 2 */
 312:Core/Src/main.c **** 
 313:Core/Src/main.c ****     /* Infinite loop */
 314:Core/Src/main.c ****     /* USER CODE BEGIN WHILE */
 315:Core/Src/main.c **** 
 316:Core/Src/main.c ****     for (int i = 0; i < 1170; i++) {
 317:Core/Src/main.c ****         cos_table[i] = cos(radians(i * 360.0 / 1170.0));
 318:Core/Src/main.c ****     }
 319:Core/Src/main.c **** 
 320:Core/Src/main.c ****     dma_printf_puts("BLDRV Gen2\r\n");
 321:Core/Src/main.c ****     dma_printf_puts("Calibration Start\r\n");
 322:Core/Src/main.c ****     setPhase(0, 50);
 323:Core/Src/main.c ****     HAL_Delay(500);
 324:Core/Src/main.c **** 
 325:Core/Src/main.c ****     offset = getRotation();  // なんか2回いる
 326:Core/Src/main.c ****     offset = getRotation();
 327:Core/Src/main.c ****     dma_printf_puts("Offset: ");
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 23


 328:Core/Src/main.c ****     dma_printf_puts(uint2char(offset));
 329:Core/Src/main.c ****     dma_printf_puts("\r\n");
 330:Core/Src/main.c ****     dma_printf_puts("Calibration End\r\n");
 331:Core/Src/main.c **** 
 332:Core/Src/main.c ****     HAL_TIM_Base_Start_IT(&htim2);
 333:Core/Src/main.c **** 
 334:Core/Src/main.c ****     while (1) {
 335:Core/Src/main.c ****         /* USER CODE END WHILE */
 336:Core/Src/main.c **** 
 337:Core/Src/main.c ****         /* USER CODE BEGIN 3 */
 338:Core/Src/main.c **** 
 339:Core/Src/main.c ****         // dma_printf_puts("Angle: \n");
 340:Core/Src/main.c ****         // dma_printf_puts(uint2char(velocity));
 341:Core/Src/main.c ****         // dma_printf_puts("\r\n");
 342:Core/Src/main.c **** 
 343:Core/Src/main.c ****         // printf("%f\t%f\t%f\n", sense[0], sense[1], sense[2]);
 344:Core/Src/main.c ****         // printf("ADC: %d %d %d\n", adcBuffer[0], adcBuffer[1], adcBuffer[2]);
 345:Core/Src/main.c ****     }
 346:Core/Src/main.c ****     /* USER CODE END 3 */
 347:Core/Src/main.c **** }
 348:Core/Src/main.c **** 
 349:Core/Src/main.c **** /**
 350:Core/Src/main.c ****  * @brief System Clock Configuration
 351:Core/Src/main.c ****  * @retval None
 352:Core/Src/main.c ****  */
 353:Core/Src/main.c **** void SystemClock_Config(void) {
 354:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 355:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 356:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 357:Core/Src/main.c **** 
 358:Core/Src/main.c ****     /** Initializes the RCC Oscillators according to the specified parameters
 359:Core/Src/main.c ****      * in the RCC_OscInitTypeDef structure.
 360:Core/Src/main.c ****      */
 361:Core/Src/main.c ****     RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
 362:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 363:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 364:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 365:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 366:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL8;
 367:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 368:Core/Src/main.c ****         Error_Handler();
 369:Core/Src/main.c ****     }
 370:Core/Src/main.c **** 
 371:Core/Src/main.c ****     /** Initializes the CPU, AHB and APB buses clocks
 372:Core/Src/main.c ****      */
 373:Core/Src/main.c ****     RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK |
 374:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 375:Core/Src/main.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 376:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 377:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 378:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 379:Core/Src/main.c **** 
 380:Core/Src/main.c ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_1) != HAL_OK) {
 381:Core/Src/main.c ****         Error_Handler();
 382:Core/Src/main.c ****     }
 383:Core/Src/main.c ****     PeriphClkInit.PeriphClockSelection =
 384:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 24


 385:Core/Src/main.c ****     PeriphClkInit.Usart1ClockSelection = RCC_USART1CLKSOURCE_PCLK1;
 386:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 387:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 388:Core/Src/main.c ****         Error_Handler();
 389:Core/Src/main.c ****     }
 390:Core/Src/main.c **** }
 391:Core/Src/main.c **** 
 392:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 393:Core/Src/main.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart) {
 926              		.loc 1 393 57 is_stmt 1 view -0
 927              		.cfi_startproc
 928              		@ args = 0, pretend = 0, frame = 0
 929              		@ frame_needed = 0, uses_anonymous_args = 0
 930              		.loc 1 393 57 is_stmt 0 view .LVU206
 931 0000 08B5     		push	{r3, lr}
 932              	.LCFI12:
 933              		.cfi_def_cfa_offset 8
 934              		.cfi_offset 3, -8
 935              		.cfi_offset 14, -4
 394:Core/Src/main.c ****     dma_printf_send_it(huart);
 936              		.loc 1 394 5 is_stmt 1 view .LVU207
 937 0002 FFF7FEFF 		bl	dma_printf_send_it
 938              	.LVL80:
 395:Core/Src/main.c **** }
 939              		.loc 1 395 1 is_stmt 0 view .LVU208
 940 0006 08BD     		pop	{r3, pc}
 941              		.cfi_endproc
 942              	.LFE136:
 944              		.section	.text.__io_putchar,"ax",%progbits
 945              		.align	1
 946              		.global	__io_putchar
 947              		.syntax unified
 948              		.thumb
 949              		.thumb_func
 951              	__io_putchar:
 952              	.LVL81:
 953              	.LFB137:
 396:Core/Src/main.c **** int __io_putchar(int ch) {
 954              		.loc 1 396 26 is_stmt 1 view -0
 955              		.cfi_startproc
 956              		@ args = 0, pretend = 0, frame = 0
 957              		@ frame_needed = 0, uses_anonymous_args = 0
 958              		.loc 1 396 26 is_stmt 0 view .LVU210
 959 0000 10B5     		push	{r4, lr}
 960              	.LCFI13:
 961              		.cfi_def_cfa_offset 8
 962              		.cfi_offset 4, -8
 963              		.cfi_offset 14, -4
 964 0002 0446     		mov	r4, r0
 397:Core/Src/main.c ****     dma_printf_putc(ch & 0xFF);
 965              		.loc 1 397 5 is_stmt 1 view .LVU211
 966 0004 C0B2     		uxtb	r0, r0
 967              	.LVL82:
 968              		.loc 1 397 5 is_stmt 0 view .LVU212
 969 0006 FFF7FEFF 		bl	dma_printf_putc
 970              	.LVL83:
 398:Core/Src/main.c ****     return ch;
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 25


 971              		.loc 1 398 5 is_stmt 1 view .LVU213
 399:Core/Src/main.c **** }
 972              		.loc 1 399 1 is_stmt 0 view .LVU214
 973 000a 2046     		mov	r0, r4
 974 000c 10BD     		pop	{r4, pc}
 975              		.loc 1 399 1 view .LVU215
 976              		.cfi_endproc
 977              	.LFE137:
 979              		.section	.text.__io_getchar,"ax",%progbits
 980              		.align	1
 981              		.global	__io_getchar
 982              		.syntax unified
 983              		.thumb
 984              		.thumb_func
 986              	__io_getchar:
 987              	.LFB138:
 400:Core/Src/main.c **** 
 401:Core/Src/main.c **** int __io_getchar(void) {
 988              		.loc 1 401 24 is_stmt 1 view -0
 989              		.cfi_startproc
 990              		@ args = 0, pretend = 0, frame = 0
 991              		@ frame_needed = 0, uses_anonymous_args = 0
 992 0000 08B5     		push	{r3, lr}
 993              	.LCFI14:
 994              		.cfi_def_cfa_offset 8
 995              		.cfi_offset 3, -8
 996              		.cfi_offset 14, -4
 402:Core/Src/main.c ****     return dma_scanf_getc_blocking();
 997              		.loc 1 402 5 view .LVU217
 998              		.loc 1 402 12 is_stmt 0 view .LVU218
 999 0002 FFF7FEFF 		bl	dma_scanf_getc_blocking
 1000              	.LVL84:
 403:Core/Src/main.c **** }
 1001              		.loc 1 403 1 view .LVU219
 1002 0006 08BD     		pop	{r3, pc}
 1003              		.cfi_endproc
 1004              	.LFE138:
 1006              		.global	__aeabi_ui2d
 1007              		.global	__aeabi_ddiv
 1008              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 1009              		.align	1
 1010              		.global	HAL_TIM_PeriodElapsedCallback
 1011              		.syntax unified
 1012              		.thumb
 1013              		.thumb_func
 1015              	HAL_TIM_PeriodElapsedCallback:
 1016              	.LVL85:
 1017              	.LFB139:
 404:Core/Src/main.c **** 
 405:Core/Src/main.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim) {
 1018              		.loc 1 405 61 is_stmt 1 view -0
 1019              		.cfi_startproc
 1020              		@ args = 0, pretend = 0, frame = 0
 1021              		@ frame_needed = 0, uses_anonymous_args = 0
 1022              		.loc 1 405 61 is_stmt 0 view .LVU221
 1023 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1024              	.LCFI15:
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 26


 1025              		.cfi_def_cfa_offset 24
 1026              		.cfi_offset 3, -24
 1027              		.cfi_offset 4, -20
 1028              		.cfi_offset 5, -16
 1029              		.cfi_offset 6, -12
 1030              		.cfi_offset 7, -8
 1031              		.cfi_offset 14, -4
 1032 0002 2DED028B 		vpush.64	{d8}
 1033              	.LCFI16:
 1034              		.cfi_def_cfa_offset 32
 1035              		.cfi_offset 80, -32
 1036              		.cfi_offset 81, -28
 406:Core/Src/main.c ****     if (htim == &htim2) {
 1037              		.loc 1 406 5 is_stmt 1 view .LVU222
 1038              		.loc 1 406 8 is_stmt 0 view .LVU223
 1039 0006 4A4B     		ldr	r3, .L41+24
 1040 0008 8342     		cmp	r3, r0
 1041 000a 02D0     		beq	.L40
 1042              	.LVL86:
 1043              	.L35:
 407:Core/Src/main.c ****         short real_angle = getRotation() - offset;
 408:Core/Src/main.c **** 
 409:Core/Src/main.c ****         uint16_t rotation = electrical_angle(real_angle);
 410:Core/Src/main.c **** 
 411:Core/Src/main.c ****         // static uint8_t count = 0;
 412:Core/Src/main.c ****         // // if (32 / (pre_scaler + 1) == count) {
 413:Core/Src/main.c ****         // count = 0;
 414:Core/Src/main.c **** 
 415:Core/Src/main.c ****         // static short old_real_angle = 0;
 416:Core/Src/main.c ****         // real_angle += 8192;
 417:Core/Src/main.c ****         // real_angle %= 8192;
 418:Core/Src/main.c **** 
 419:Core/Src/main.c ****         // velocity = real_angle - old_real_angle;
 420:Core/Src/main.c ****         // if (velocity > 4096) {
 421:Core/Src/main.c ****         //     velocity -= 8192;
 422:Core/Src/main.c ****         // } else if (velocity < -4096) {
 423:Core/Src/main.c ****         //     velocity += 8192;
 424:Core/Src/main.c ****         // }
 425:Core/Src/main.c **** 
 426:Core/Src/main.c ****         // old_real_angle = real_angle;
 427:Core/Src/main.c ****         // // }
 428:Core/Src/main.c ****         // count++;
 429:Core/Src/main.c **** 
 430:Core/Src/main.c ****         // senseOut();
 431:Core/Src/main.c **** 
 432:Core/Src/main.c ****         // // alpha beta
 433:Core/Src/main.c ****         // float curr_alpha =
 434:Core/Src/main.c ****         //     0.8169496580928 * (sense[0] - 0.5 * (sense[1] + sense[2]));
 435:Core/Src/main.c ****         // float curr_beta = 0.7071067811866 * (sense[1] - sense[2]);
 436:Core/Src/main.c **** 
 437:Core/Src/main.c ****         // // // dq
 438:Core/Src/main.c ****         // float curr_d = curr_alpha * cos_table[rotation] +
 439:Core/Src/main.c ****         //                curr_beta * cos_table[(rotation + 877) % 1170];
 440:Core/Src/main.c ****         // float curr_q = -curr_alpha * cos_table[(rotation + 877) % 1170] +
 441:Core/Src/main.c ****         //                curr_beta * cos_table[rotation];
 442:Core/Src/main.c **** 
 443:Core/Src/main.c ****         // const float alpha = 0.1;
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 27


 444:Core/Src/main.c ****         // curr_d_filterd = (1.0 - alpha) * curr_d_filterd + alpha * curr_d;
 445:Core/Src/main.c ****         // curr_q_filterd = (1.0 - alpha) * curr_q_filterd + alpha * curr_q;
 446:Core/Src/main.c **** 
 447:Core/Src/main.c ****         // err_d = 0.0 - curr_d;
 448:Core/Src/main.c ****         // err_d_int += err_d;
 449:Core/Src/main.c ****         // float vol_d = 0.5 * err_d + 0.0005 * err_d_int;
 450:Core/Src/main.c **** 
 451:Core/Src/main.c ****         // err_q = ref_q - curr_q;
 452:Core/Src/main.c ****         // err_q_int += err_q;
 453:Core/Src/main.c **** 
 454:Core/Src/main.c ****         // float vol_q = 0.5 * err_q + 0.0005 * err_q_int;
 455:Core/Src/main.c **** 
 456:Core/Src/main.c ****         float vol_d = 0;
 457:Core/Src/main.c ****         float vol_q = HAL_GetTick() / 1000.0;
 458:Core/Src/main.c ****         if (vol_q > 9) {
 459:Core/Src/main.c ****             vol_q = 9;
 460:Core/Src/main.c ****         }
 461:Core/Src/main.c **** 
 462:Core/Src/main.c ****         float vol_alpha = vol_d * cos_table[rotation] -
 463:Core/Src/main.c ****                           vol_q * cos_table[(rotation + 877) % 1170];
 464:Core/Src/main.c **** 
 465:Core/Src/main.c ****         float vol_beta = vol_d * cos_table[(rotation + 877) % 1170] +
 466:Core/Src/main.c ****                          vol_q * cos_table[rotation];
 467:Core/Src/main.c **** 
 468:Core/Src/main.c ****         float vol_u = 0.81649658 * vol_alpha;
 469:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 470:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 471:Core/Src/main.c **** 
 472:Core/Src/main.c ****         setVoltage(vol_u, vol_v, vol_w);
 473:Core/Src/main.c ****     }
 474:Core/Src/main.c **** }
 1044              		.loc 1 474 1 view .LVU224
 1045 000c BDEC028B 		vldm	sp!, {d8}
 1046              	.LCFI17:
 1047              		.cfi_remember_state
 1048              		.cfi_restore 80
 1049              		.cfi_restore 81
 1050              		.cfi_def_cfa_offset 24
 1051 0010 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1052              	.LVL87:
 1053              	.L40:
 1054              	.LCFI18:
 1055              		.cfi_restore_state
 1056              	.LBB6:
 407:Core/Src/main.c ****         short real_angle = getRotation() - offset;
 1057              		.loc 1 407 9 is_stmt 1 view .LVU225
 407:Core/Src/main.c ****         short real_angle = getRotation() - offset;
 1058              		.loc 1 407 28 is_stmt 0 view .LVU226
 1059 0012 FFF7FEFF 		bl	getRotation
 1060              	.LVL88:
 407:Core/Src/main.c ****         short real_angle = getRotation() - offset;
 1061              		.loc 1 407 28 view .LVU227
 1062 0016 80B2     		uxth	r0, r0
 407:Core/Src/main.c ****         short real_angle = getRotation() - offset;
 1063              		.loc 1 407 42 view .LVU228
 1064 0018 464B     		ldr	r3, .L41+28
 1065 001a 1B68     		ldr	r3, [r3]
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 28


 1066 001c C01A     		subs	r0, r0, r3
 1067              	.LVL89:
 409:Core/Src/main.c **** 
 1068              		.loc 1 409 9 is_stmt 1 view .LVU229
 409:Core/Src/main.c **** 
 1069              		.loc 1 409 29 is_stmt 0 view .LVU230
 1070 001e 00B2     		sxth	r0, r0
 409:Core/Src/main.c **** 
 1071              		.loc 1 409 29 view .LVU231
 1072 0020 FFF7FEFF 		bl	electrical_angle
 1073              	.LVL90:
 409:Core/Src/main.c **** 
 1074              		.loc 1 409 29 view .LVU232
 1075 0024 0446     		mov	r4, r0
 1076              	.LVL91:
 456:Core/Src/main.c ****         float vol_q = HAL_GetTick() / 1000.0;
 1077              		.loc 1 456 9 is_stmt 1 view .LVU233
 457:Core/Src/main.c ****         if (vol_q > 9) {
 1078              		.loc 1 457 9 view .LVU234
 457:Core/Src/main.c ****         if (vol_q > 9) {
 1079              		.loc 1 457 23 is_stmt 0 view .LVU235
 1080 0026 FFF7FEFF 		bl	HAL_GetTick
 1081              	.LVL92:
 457:Core/Src/main.c ****         if (vol_q > 9) {
 1082              		.loc 1 457 37 view .LVU236
 1083 002a FFF7FEFF 		bl	__aeabi_ui2d
 1084              	.LVL93:
 1085 002e 0022     		movs	r2, #0
 1086 0030 414B     		ldr	r3, .L41+32
 1087 0032 FFF7FEFF 		bl	__aeabi_ddiv
 1088              	.LVL94:
 457:Core/Src/main.c ****         if (vol_q > 9) {
 1089              		.loc 1 457 15 view .LVU237
 1090 0036 FFF7FEFF 		bl	__aeabi_d2f
 1091              	.LVL95:
 1092 003a 07EE100A 		vmov	s14, r0
 1093              	.LVL96:
 458:Core/Src/main.c ****             vol_q = 9;
 1094              		.loc 1 458 9 is_stmt 1 view .LVU238
 458:Core/Src/main.c ****             vol_q = 9;
 1095              		.loc 1 458 12 is_stmt 0 view .LVU239
 1096 003e F2EE027A 		vmov.f32	s15, #9.0e+0
 1097 0042 B4EEE77A 		vcmpe.f32	s14, s15
 1098 0046 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1099 004a 01DD     		ble	.L37
 459:Core/Src/main.c ****         }
 1100              		.loc 1 459 19 view .LVU240
 1101 004c B0EE677A 		vmov.f32	s14, s15
 1102              	.L37:
 1103              	.LVL97:
 462:Core/Src/main.c ****                           vol_q * cos_table[(rotation + 877) % 1170];
 1104              		.loc 1 462 9 is_stmt 1 view .LVU241
 462:Core/Src/main.c ****                           vol_q * cos_table[(rotation + 877) % 1170];
 1105              		.loc 1 462 44 is_stmt 0 view .LVU242
 1106 0050 3A49     		ldr	r1, .L41+36
 1107 0052 01EB8403 		add	r3, r1, r4, lsl #2
 1108 0056 D3ED006A 		vldr.32	s13, [r3]
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 29


 462:Core/Src/main.c ****                           vol_q * cos_table[(rotation + 877) % 1170];
 1109              		.loc 1 462 33 view .LVU243
 1110 005a 9FED396A 		vldr.32	s12, .L41+40
 1111 005e 26EE865A 		vmul.f32	s10, s13, s12
 463:Core/Src/main.c **** 
 1112              		.loc 1 463 55 view .LVU244
 1113 0062 04F26D30 		addw	r0, r4, #877
 463:Core/Src/main.c **** 
 1114              		.loc 1 463 62 view .LVU245
 1115 0066 374A     		ldr	r2, .L41+44
 1116 0068 82FB0032 		smull	r3, r2, r2, r0
 1117 006c 0244     		add	r2, r2, r0
 1118 006e C317     		asrs	r3, r0, #31
 1119 0070 C3EBA223 		rsb	r3, r3, r2, asr #10
 1120 0074 40F29242 		movw	r2, #1170
 1121 0078 02FB1303 		mls	r3, r2, r3, r0
 463:Core/Src/main.c **** 
 1122              		.loc 1 463 44 view .LVU246
 1123 007c 01EB8301 		add	r1, r1, r3, lsl #2
 1124 0080 D1ED007A 		vldr.32	s15, [r1]
 463:Core/Src/main.c **** 
 1125              		.loc 1 463 33 view .LVU247
 1126 0084 67EE875A 		vmul.f32	s11, s15, s14
 1127              	.LVL98:
 465:Core/Src/main.c ****                          vol_q * cos_table[rotation];
 1128              		.loc 1 465 9 is_stmt 1 view .LVU248
 465:Core/Src/main.c ****                          vol_q * cos_table[rotation];
 1129              		.loc 1 465 32 is_stmt 0 view .LVU249
 1130 0088 67EE867A 		vmul.f32	s15, s15, s12
 466:Core/Src/main.c **** 
 1131              		.loc 1 466 32 view .LVU250
 1132 008c 66EE876A 		vmul.f32	s13, s13, s14
 465:Core/Src/main.c ****                          vol_q * cos_table[rotation];
 1133              		.loc 1 465 15 view .LVU251
 1134 0090 37EEA68A 		vadd.f32	s16, s15, s13
 1135              	.LVL99:
 468:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1136              		.loc 1 468 9 is_stmt 1 view .LVU252
 468:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1137              		.loc 1 468 34 is_stmt 0 view .LVU253
 1138 0094 75EE657A 		vsub.f32	s15, s10, s11
 1139              	.LVL100:
 468:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1140              		.loc 1 468 34 view .LVU254
 1141 0098 17EE900A 		vmov	r0, s15
 1142 009c FFF7FEFF 		bl	__aeabi_f2d
 1143              	.LVL101:
 468:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1144              		.loc 1 468 34 view .LVU255
 1145 00a0 0446     		mov	r4, r0
 1146              	.LVL102:
 468:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1147              		.loc 1 468 34 view .LVU256
 1148 00a2 0D46     		mov	r5, r1
 1149 00a4 1CA3     		adr	r3, .L41
 1150 00a6 D3E90023 		ldrd	r2, [r3]
 1151 00aa FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 30


 1152              	.LVL103:
 468:Core/Src/main.c ****         float vol_v = -0.40824829 * vol_alpha + 0.707106781 * vol_beta;
 1153              		.loc 1 468 15 view .LVU257
 1154 00ae FFF7FEFF 		bl	__aeabi_d2f
 1155              	.LVL104:
 1156 00b2 08EE900A 		vmov	s17, r0
 1157              	.LVL105:
 469:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1158              		.loc 1 469 9 is_stmt 1 view .LVU258
 469:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1159              		.loc 1 469 35 is_stmt 0 view .LVU259
 1160 00b6 1AA3     		adr	r3, .L41+8
 1161 00b8 D3E90023 		ldrd	r2, [r3]
 1162 00bc 2046     		mov	r0, r4
 1163              	.LVL106:
 469:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1164              		.loc 1 469 35 view .LVU260
 1165 00be 2946     		mov	r1, r5
 1166 00c0 FFF7FEFF 		bl	__aeabi_dmul
 1167              	.LVL107:
 1168 00c4 0446     		mov	r4, r0
 1169 00c6 0D46     		mov	r5, r1
 469:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1170              		.loc 1 469 61 view .LVU261
 1171 00c8 18EE100A 		vmov	r0, s16
 1172 00cc FFF7FEFF 		bl	__aeabi_f2d
 1173              	.LVL108:
 1174 00d0 15A3     		adr	r3, .L41+16
 1175 00d2 D3E90023 		ldrd	r2, [r3]
 1176 00d6 FFF7FEFF 		bl	__aeabi_dmul
 1177              	.LVL109:
 1178 00da 0646     		mov	r6, r0
 1179 00dc 0F46     		mov	r7, r1
 469:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1180              		.loc 1 469 47 view .LVU262
 1181 00de 0246     		mov	r2, r0
 1182 00e0 0B46     		mov	r3, r1
 1183 00e2 2046     		mov	r0, r4
 1184 00e4 2946     		mov	r1, r5
 1185 00e6 FFF7FEFF 		bl	__aeabi_dadd
 1186              	.LVL110:
 469:Core/Src/main.c ****         float vol_w = -0.40824829 * vol_alpha - 0.707106781 * vol_beta;
 1187              		.loc 1 469 15 view .LVU263
 1188 00ea FFF7FEFF 		bl	__aeabi_d2f
 1189              	.LVL111:
 1190 00ee 08EE100A 		vmov	s16, r0
 1191              	.LVL112:
 470:Core/Src/main.c **** 
 1192              		.loc 1 470 9 is_stmt 1 view .LVU264
 470:Core/Src/main.c **** 
 1193              		.loc 1 470 47 is_stmt 0 view .LVU265
 1194 00f2 3246     		mov	r2, r6
 1195 00f4 3B46     		mov	r3, r7
 1196 00f6 2046     		mov	r0, r4
 1197              	.LVL113:
 470:Core/Src/main.c **** 
 1198              		.loc 1 470 47 view .LVU266
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 31


 1199 00f8 2946     		mov	r1, r5
 1200 00fa FFF7FEFF 		bl	__aeabi_dsub
 1201              	.LVL114:
 470:Core/Src/main.c **** 
 1202              		.loc 1 470 15 view .LVU267
 1203 00fe FFF7FEFF 		bl	__aeabi_d2f
 1204              	.LVL115:
 472:Core/Src/main.c ****     }
 1205              		.loc 1 472 9 is_stmt 1 view .LVU268
 1206 0102 01EE100A 		vmov	s2, r0
 1207 0106 F0EE480A 		vmov.f32	s1, s16
 1208 010a B0EE680A 		vmov.f32	s0, s17
 1209 010e FFF7FEFF 		bl	setVoltage
 1210              	.LVL116:
 472:Core/Src/main.c ****     }
 1211              		.loc 1 472 9 is_stmt 0 view .LVU269
 1212              	.LBE6:
 1213              		.loc 1 474 1 view .LVU270
 1214 0112 7BE7     		b	.L35
 1215              	.L42:
 1216 0114 AFF30080 		.align	3
 1217              	.L41:
 1218 0118 C9AA8C6F 		.word	1871489737
 1219 011c BD20EA3F 		.word	1072308413
 1220 0120 C9AA8C6F 		.word	1871489737
 1221 0124 BD20DABF 		.word	-1076223811
 1222 0128 3E986566 		.word	1717934142
 1223 012c 9EA0E63F 		.word	1072079006
 1224 0130 00000000 		.word	htim2
 1225 0134 00000000 		.word	offset
 1226 0138 00408F40 		.word	1083129856
 1227 013c 00000000 		.word	cos_table
 1228 0140 00000000 		.word	0
 1229 0144 E1000EE0 		.word	-535953183
 1230              		.cfi_endproc
 1231              	.LFE139:
 1233              		.section	.text.Error_Handler,"ax",%progbits
 1234              		.align	1
 1235              		.global	Error_Handler
 1236              		.syntax unified
 1237              		.thumb
 1238              		.thumb_func
 1240              	Error_Handler:
 1241              	.LFB140:
 475:Core/Src/main.c **** 
 476:Core/Src/main.c **** /* USER CODE END 4 */
 477:Core/Src/main.c **** 
 478:Core/Src/main.c **** /**
 479:Core/Src/main.c ****  * @brief  This function is executed in case of error occurrence.
 480:Core/Src/main.c ****  * @retval None
 481:Core/Src/main.c ****  */
 482:Core/Src/main.c **** void Error_Handler(void) {
 1242              		.loc 1 482 26 is_stmt 1 view -0
 1243              		.cfi_startproc
 1244              		@ Volatile: function does not return.
 1245              		@ args = 0, pretend = 0, frame = 0
 1246              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 32


 1247              		@ link register save eliminated.
 483:Core/Src/main.c ****     /* USER CODE BEGIN Error_Handler_Debug */
 484:Core/Src/main.c ****     /* User can add his own implementation to report the HAL error return state
 485:Core/Src/main.c ****      */
 486:Core/Src/main.c ****     __disable_irq();
 1248              		.loc 1 486 5 view .LVU272
 1249              	.LBB7:
 1250              	.LBI7:
 1251              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 33


  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 34


 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 1252              		.loc 2 140 27 view .LVU273
 1253              	.LBB8:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 1254              		.loc 2 142 3 view .LVU274
 1255              		.syntax unified
 1256              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1257 0000 72B6     		cpsid i
 1258              	@ 0 "" 2
 1259              		.thumb
 1260              		.syntax unified
 1261              	.L44:
 1262              	.LBE8:
 1263              	.LBE7:
 487:Core/Src/main.c ****     while (1) {
 1264              		.loc 1 487 5 discriminator 1 view .LVU275
 488:Core/Src/main.c ****     }
 1265              		.loc 1 488 5 discriminator 1 view .LVU276
 487:Core/Src/main.c ****     while (1) {
 1266              		.loc 1 487 11 discriminator 1 view .LVU277
 1267 0002 FEE7     		b	.L44
 1268              		.cfi_endproc
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 35


 1269              	.LFE140:
 1271              		.section	.text.SystemClock_Config,"ax",%progbits
 1272              		.align	1
 1273              		.global	SystemClock_Config
 1274              		.syntax unified
 1275              		.thumb
 1276              		.thumb_func
 1278              	SystemClock_Config:
 1279              	.LFB135:
 353:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 1280              		.loc 1 353 31 view -0
 1281              		.cfi_startproc
 1282              		@ args = 0, pretend = 0, frame = 88
 1283              		@ frame_needed = 0, uses_anonymous_args = 0
 1284 0000 00B5     		push	{lr}
 1285              	.LCFI19:
 1286              		.cfi_def_cfa_offset 4
 1287              		.cfi_offset 14, -4
 1288 0002 97B0     		sub	sp, sp, #92
 1289              	.LCFI20:
 1290              		.cfi_def_cfa_offset 96
 354:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1291              		.loc 1 354 5 view .LVU279
 354:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1292              		.loc 1 354 24 is_stmt 0 view .LVU280
 1293 0004 2822     		movs	r2, #40
 1294 0006 0021     		movs	r1, #0
 1295 0008 0CA8     		add	r0, sp, #48
 1296 000a FFF7FEFF 		bl	memset
 1297              	.LVL117:
 355:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 1298              		.loc 1 355 5 is_stmt 1 view .LVU281
 355:Core/Src/main.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 1299              		.loc 1 355 24 is_stmt 0 view .LVU282
 1300 000e 0023     		movs	r3, #0
 1301 0010 0793     		str	r3, [sp, #28]
 1302 0012 0893     		str	r3, [sp, #32]
 1303 0014 0993     		str	r3, [sp, #36]
 1304 0016 0A93     		str	r3, [sp, #40]
 1305 0018 0B93     		str	r3, [sp, #44]
 356:Core/Src/main.c **** 
 1306              		.loc 1 356 5 is_stmt 1 view .LVU283
 356:Core/Src/main.c **** 
 1307              		.loc 1 356 30 is_stmt 0 view .LVU284
 1308 001a 0193     		str	r3, [sp, #4]
 1309 001c 0293     		str	r3, [sp, #8]
 1310 001e 0393     		str	r3, [sp, #12]
 1311 0020 0493     		str	r3, [sp, #16]
 1312 0022 0593     		str	r3, [sp, #20]
 1313 0024 0693     		str	r3, [sp, #24]
 361:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1314              		.loc 1 361 5 is_stmt 1 view .LVU285
 361:Core/Src/main.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1315              		.loc 1 361 38 is_stmt 0 view .LVU286
 1316 0026 0223     		movs	r3, #2
 1317 0028 0C93     		str	r3, [sp, #48]
 362:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 36


 1318              		.loc 1 362 5 is_stmt 1 view .LVU287
 362:Core/Src/main.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 1319              		.loc 1 362 32 is_stmt 0 view .LVU288
 1320 002a 0122     		movs	r2, #1
 1321 002c 1092     		str	r2, [sp, #64]
 363:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1322              		.loc 1 363 5 is_stmt 1 view .LVU289
 363:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1323              		.loc 1 363 43 is_stmt 0 view .LVU290
 1324 002e 1022     		movs	r2, #16
 1325 0030 1192     		str	r2, [sp, #68]
 364:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 1326              		.loc 1 364 5 is_stmt 1 view .LVU291
 364:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 1327              		.loc 1 364 36 is_stmt 0 view .LVU292
 1328 0032 1393     		str	r3, [sp, #76]
 365:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL8;
 1329              		.loc 1 365 5 is_stmt 1 view .LVU293
 366:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 1330              		.loc 1 366 5 view .LVU294
 366:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 1331              		.loc 1 366 34 is_stmt 0 view .LVU295
 1332 0034 4FF4C013 		mov	r3, #1572864
 1333 0038 1593     		str	r3, [sp, #84]
 367:Core/Src/main.c ****         Error_Handler();
 1334              		.loc 1 367 5 is_stmt 1 view .LVU296
 367:Core/Src/main.c ****         Error_Handler();
 1335              		.loc 1 367 9 is_stmt 0 view .LVU297
 1336 003a 0CA8     		add	r0, sp, #48
 1337 003c FFF7FEFF 		bl	HAL_RCC_OscConfig
 1338              	.LVL118:
 367:Core/Src/main.c ****         Error_Handler();
 1339              		.loc 1 367 8 view .LVU298
 1340 0040 C8B9     		cbnz	r0, .L50
 373:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 1341              		.loc 1 373 5 is_stmt 1 view .LVU299
 373:Core/Src/main.c ****                                   RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
 1342              		.loc 1 373 33 is_stmt 0 view .LVU300
 1343 0042 0F23     		movs	r3, #15
 1344 0044 0793     		str	r3, [sp, #28]
 375:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1345              		.loc 1 375 5 is_stmt 1 view .LVU301
 375:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1346              		.loc 1 375 36 is_stmt 0 view .LVU302
 1347 0046 0223     		movs	r3, #2
 1348 0048 0893     		str	r3, [sp, #32]
 376:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 1349              		.loc 1 376 5 is_stmt 1 view .LVU303
 376:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 1350              		.loc 1 376 37 is_stmt 0 view .LVU304
 1351 004a 0023     		movs	r3, #0
 1352 004c 0993     		str	r3, [sp, #36]
 377:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1353              		.loc 1 377 5 is_stmt 1 view .LVU305
 377:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1354              		.loc 1 377 38 is_stmt 0 view .LVU306
 1355 004e 0A93     		str	r3, [sp, #40]
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 37


 378:Core/Src/main.c **** 
 1356              		.loc 1 378 5 is_stmt 1 view .LVU307
 378:Core/Src/main.c **** 
 1357              		.loc 1 378 38 is_stmt 0 view .LVU308
 1358 0050 0B93     		str	r3, [sp, #44]
 380:Core/Src/main.c ****         Error_Handler();
 1359              		.loc 1 380 5 is_stmt 1 view .LVU309
 380:Core/Src/main.c ****         Error_Handler();
 1360              		.loc 1 380 9 is_stmt 0 view .LVU310
 1361 0052 0121     		movs	r1, #1
 1362 0054 07A8     		add	r0, sp, #28
 1363 0056 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1364              	.LVL119:
 380:Core/Src/main.c ****         Error_Handler();
 1365              		.loc 1 380 8 view .LVU311
 1366 005a 70B9     		cbnz	r0, .L51
 383:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 1367              		.loc 1 383 5 is_stmt 1 view .LVU312
 383:Core/Src/main.c ****         RCC_PERIPHCLK_USART1 | RCC_PERIPHCLK_TIM1;
 1368              		.loc 1 383 40 is_stmt 0 view .LVU313
 1369 005c 41F20103 		movw	r3, #4097
 1370 0060 0193     		str	r3, [sp, #4]
 385:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 1371              		.loc 1 385 5 is_stmt 1 view .LVU314
 385:Core/Src/main.c ****     PeriphClkInit.Tim1ClockSelection = RCC_TIM1CLK_HCLK;
 1372              		.loc 1 385 40 is_stmt 0 view .LVU315
 1373 0062 0023     		movs	r3, #0
 1374 0064 0393     		str	r3, [sp, #12]
 386:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 1375              		.loc 1 386 5 is_stmt 1 view .LVU316
 386:Core/Src/main.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 1376              		.loc 1 386 38 is_stmt 0 view .LVU317
 1377 0066 0693     		str	r3, [sp, #24]
 387:Core/Src/main.c ****         Error_Handler();
 1378              		.loc 1 387 5 is_stmt 1 view .LVU318
 387:Core/Src/main.c ****         Error_Handler();
 1379              		.loc 1 387 9 is_stmt 0 view .LVU319
 1380 0068 01A8     		add	r0, sp, #4
 1381 006a FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1382              	.LVL120:
 387:Core/Src/main.c ****         Error_Handler();
 1383              		.loc 1 387 8 view .LVU320
 1384 006e 30B9     		cbnz	r0, .L52
 390:Core/Src/main.c **** 
 1385              		.loc 1 390 1 view .LVU321
 1386 0070 17B0     		add	sp, sp, #92
 1387              	.LCFI21:
 1388              		.cfi_remember_state
 1389              		.cfi_def_cfa_offset 4
 1390              		@ sp needed
 1391 0072 5DF804FB 		ldr	pc, [sp], #4
 1392              	.L50:
 1393              	.LCFI22:
 1394              		.cfi_restore_state
 368:Core/Src/main.c ****     }
 1395              		.loc 1 368 9 is_stmt 1 view .LVU322
 1396 0076 FFF7FEFF 		bl	Error_Handler
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 38


 1397              	.LVL121:
 1398              	.L51:
 381:Core/Src/main.c ****     }
 1399              		.loc 1 381 9 view .LVU323
 1400 007a FFF7FEFF 		bl	Error_Handler
 1401              	.LVL122:
 1402              	.L52:
 388:Core/Src/main.c ****     }
 1403              		.loc 1 388 9 view .LVU324
 1404 007e FFF7FEFF 		bl	Error_Handler
 1405              	.LVL123:
 1406              		.cfi_endproc
 1407              	.LFE135:
 1409              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 1410              		.align	2
 1411              	.LC0:
 1412 0000 53746172 		.ascii	"Start ADC Successfully\012\015\000"
 1412      74204144 
 1412      43205375 
 1412      63636573 
 1412      7366756C 
 1413 0019 000000   		.align	2
 1414              	.LC1:
 1415 001c 53746172 		.ascii	"Start ADC failed\012\015\000"
 1415      74204144 
 1415      43206661 
 1415      696C6564 
 1415      0A0D00
 1416 002f 00       		.align	2
 1417              	.LC2:
 1418 0030 424C4452 		.ascii	"BLDRV Gen2\015\012\000"
 1418      56204765 
 1418      6E320D0A 
 1418      00
 1419 003d 000000   		.align	2
 1420              	.LC3:
 1421 0040 43616C69 		.ascii	"Calibration Start\015\012\000"
 1421      62726174 
 1421      696F6E20 
 1421      53746172 
 1421      740D0A00 
 1422              		.align	2
 1423              	.LC4:
 1424 0054 4F666673 		.ascii	"Offset: \000"
 1424      65743A20 
 1424      00
 1425 005d 000000   		.align	2
 1426              	.LC5:
 1427 0060 0D0A00   		.ascii	"\015\012\000"
 1428 0063 00       		.align	2
 1429              	.LC6:
 1430 0064 43616C69 		.ascii	"Calibration End\015\012\000"
 1430      62726174 
 1430      696F6E20 
 1430      456E640D 
 1430      0A00
 1431              		.section	.text.main,"ax",%progbits
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 39


 1432              		.align	1
 1433              		.global	main
 1434              		.syntax unified
 1435              		.thumb
 1436              		.thumb_func
 1438              	main:
 1439              	.LFB134:
 245:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 1440              		.loc 1 245 16 view -0
 1441              		.cfi_startproc
 1442              		@ args = 0, pretend = 0, frame = 0
 1443              		@ frame_needed = 0, uses_anonymous_args = 0
 1444 0000 38B5     		push	{r3, r4, r5, lr}
 1445              	.LCFI23:
 1446              		.cfi_def_cfa_offset 16
 1447              		.cfi_offset 3, -16
 1448              		.cfi_offset 4, -12
 1449              		.cfi_offset 5, -8
 1450              		.cfi_offset 14, -4
 255:Core/Src/main.c **** 
 1451              		.loc 1 255 5 view .LVU326
 1452 0002 FFF7FEFF 		bl	HAL_Init
 1453              	.LVL124:
 262:Core/Src/main.c **** 
 1454              		.loc 1 262 5 view .LVU327
 1455 0006 FFF7FEFF 		bl	SystemClock_Config
 1456              	.LVL125:
 269:Core/Src/main.c ****     MX_DMA_Init();
 1457              		.loc 1 269 5 view .LVU328
 1458 000a FFF7FEFF 		bl	MX_GPIO_Init
 1459              	.LVL126:
 270:Core/Src/main.c ****     MX_TIM1_Init();
 1460              		.loc 1 270 5 view .LVU329
 1461 000e FFF7FEFF 		bl	MX_DMA_Init
 1462              	.LVL127:
 271:Core/Src/main.c ****     MX_TIM16_Init();
 1463              		.loc 1 271 5 view .LVU330
 1464 0012 FFF7FEFF 		bl	MX_TIM1_Init
 1465              	.LVL128:
 272:Core/Src/main.c ****     MX_TIM2_Init();
 1466              		.loc 1 272 5 view .LVU331
 1467 0016 FFF7FEFF 		bl	MX_TIM16_Init
 1468              	.LVL129:
 273:Core/Src/main.c ****     MX_TIM3_Init();
 1469              		.loc 1 273 5 view .LVU332
 1470 001a FFF7FEFF 		bl	MX_TIM2_Init
 1471              	.LVL130:
 274:Core/Src/main.c ****     MX_SPI1_Init();
 1472              		.loc 1 274 5 view .LVU333
 1473 001e FFF7FEFF 		bl	MX_TIM3_Init
 1474              	.LVL131:
 275:Core/Src/main.c ****     MX_USART1_UART_Init();
 1475              		.loc 1 275 5 view .LVU334
 1476 0022 FFF7FEFF 		bl	MX_SPI1_Init
 1477              	.LVL132:
 276:Core/Src/main.c ****     MX_ADC1_Init();
 1478              		.loc 1 276 5 view .LVU335
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 40


 1479 0026 FFF7FEFF 		bl	MX_USART1_UART_Init
 1480              	.LVL133:
 277:Core/Src/main.c ****     /* USER CODE BEGIN 2 */
 1481              		.loc 1 277 5 view .LVU336
 1482 002a FFF7FEFF 		bl	MX_ADC1_Init
 1483              	.LVL134:
 279:Core/Src/main.c ****     setbuf(stdout, NULL);
 1484              		.loc 1 279 5 view .LVU337
 279:Core/Src/main.c ****     setbuf(stdout, NULL);
 1485              		.loc 1 279 12 is_stmt 0 view .LVU338
 1486 002e 504C     		ldr	r4, .L60+16
 1487 0030 2368     		ldr	r3, [r4]
 279:Core/Src/main.c ****     setbuf(stdout, NULL);
 1488              		.loc 1 279 5 view .LVU339
 1489 0032 0021     		movs	r1, #0
 1490 0034 5868     		ldr	r0, [r3, #4]
 1491 0036 FFF7FEFF 		bl	setbuf
 1492              	.LVL135:
 280:Core/Src/main.c ****     setbuf(stderr, NULL);
 1493              		.loc 1 280 5 is_stmt 1 view .LVU340
 280:Core/Src/main.c ****     setbuf(stderr, NULL);
 1494              		.loc 1 280 12 is_stmt 0 view .LVU341
 1495 003a 2368     		ldr	r3, [r4]
 280:Core/Src/main.c ****     setbuf(stderr, NULL);
 1496              		.loc 1 280 5 view .LVU342
 1497 003c 0021     		movs	r1, #0
 1498 003e 9868     		ldr	r0, [r3, #8]
 1499 0040 FFF7FEFF 		bl	setbuf
 1500              	.LVL136:
 281:Core/Src/main.c ****     dma_printf_init(&huart1);
 1501              		.loc 1 281 5 is_stmt 1 view .LVU343
 281:Core/Src/main.c ****     dma_printf_init(&huart1);
 1502              		.loc 1 281 12 is_stmt 0 view .LVU344
 1503 0044 2368     		ldr	r3, [r4]
 281:Core/Src/main.c ****     dma_printf_init(&huart1);
 1504              		.loc 1 281 5 view .LVU345
 1505 0046 0021     		movs	r1, #0
 1506 0048 D868     		ldr	r0, [r3, #12]
 1507 004a FFF7FEFF 		bl	setbuf
 1508              	.LVL137:
 282:Core/Src/main.c ****     dma_scanf_init(&huart1);
 1509              		.loc 1 282 5 is_stmt 1 view .LVU346
 1510 004e 494C     		ldr	r4, .L60+20
 1511 0050 2046     		mov	r0, r4
 1512 0052 FFF7FEFF 		bl	dma_printf_init
 1513              	.LVL138:
 283:Core/Src/main.c **** 
 1514              		.loc 1 283 5 view .LVU347
 1515 0056 2046     		mov	r0, r4
 1516 0058 FFF7FEFF 		bl	dma_scanf_init
 1517              	.LVL139:
 286:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_1);  // L
 1518              		.loc 1 286 5 view .LVU348
 1519 005c 464C     		ldr	r4, .L60+24
 1520 005e 0021     		movs	r1, #0
 1521 0060 2046     		mov	r0, r4
 1522 0062 FFF7FEFF 		bl	HAL_TIM_PWM_Start
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 41


 1523              	.LVL140:
 287:Core/Src/main.c **** 
 1524              		.loc 1 287 5 view .LVU349
 1525 0066 0021     		movs	r1, #0
 1526 0068 2046     		mov	r0, r4
 1527 006a FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1528              	.LVL141:
 290:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim16, TIM_CHANNEL_1);  // L
 1529              		.loc 1 290 5 view .LVU350
 1530 006e 434D     		ldr	r5, .L60+28
 1531 0070 0021     		movs	r1, #0
 1532 0072 2846     		mov	r0, r5
 1533 0074 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1534              	.LVL142:
 291:Core/Src/main.c **** 
 1535              		.loc 1 291 5 view .LVU351
 1536 0078 0021     		movs	r1, #0
 1537 007a 2846     		mov	r0, r5
 1538 007c FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1539              	.LVL143:
 294:Core/Src/main.c ****     HAL_TIMEx_PWMN_Start(&htim1, TIM_CHANNEL_3);  // L
 1540              		.loc 1 294 5 view .LVU352
 1541 0080 0C21     		movs	r1, #12
 1542 0082 3F48     		ldr	r0, .L60+32
 1543 0084 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1544              	.LVL144:
 295:Core/Src/main.c **** 
 1545              		.loc 1 295 5 view .LVU353
 1546 0088 0821     		movs	r1, #8
 1547 008a 2046     		mov	r0, r4
 1548 008c FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1549              	.LVL145:
 303:Core/Src/main.c **** 
 1550              		.loc 1 303 5 view .LVU354
 1551 0090 0022     		movs	r2, #0
 1552 0092 0221     		movs	r1, #2
 1553 0094 3B48     		ldr	r0, .L60+36
 1554 0096 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1555              	.LVL146:
 305:Core/Src/main.c **** 
 1556              		.loc 1 305 5 view .LVU355
 1557 009a 3B4C     		ldr	r4, .L60+40
 1558 009c 0021     		movs	r1, #0
 1559 009e 2046     		mov	r0, r4
 1560 00a0 FFF7FEFF 		bl	HAL_ADCEx_Calibration_Start
 1561              	.LVL147:
 307:Core/Src/main.c ****         printf("Start ADC Successfully\n\r");
 1562              		.loc 1 307 5 view .LVU356
 307:Core/Src/main.c ****         printf("Start ADC Successfully\n\r");
 1563              		.loc 1 307 9 is_stmt 0 view .LVU357
 1564 00a4 0322     		movs	r2, #3
 1565 00a6 3949     		ldr	r1, .L60+44
 1566 00a8 2046     		mov	r0, r4
 1567 00aa FFF7FEFF 		bl	HAL_ADC_Start_DMA
 1568              	.LVL148:
 307:Core/Src/main.c ****         printf("Start ADC Successfully\n\r");
 1569              		.loc 1 307 8 view .LVU358
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 42


 1570 00ae 20B9     		cbnz	r0, .L54
 308:Core/Src/main.c ****     else
 1571              		.loc 1 308 9 is_stmt 1 view .LVU359
 1572 00b0 3748     		ldr	r0, .L60+48
 1573 00b2 FFF7FEFF 		bl	printf
 1574              	.LVL149:
 1575              	.L56:
 245:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 1576              		.loc 1 245 16 is_stmt 0 discriminator 1 view .LVU360
 1577 00b6 0024     		movs	r4, #0
 1578 00b8 25E0     		b	.L55
 1579              	.L54:
 310:Core/Src/main.c ****     /* USER CODE END 2 */
 1580              		.loc 1 310 9 is_stmt 1 view .LVU361
 1581 00ba 3648     		ldr	r0, .L60+52
 1582 00bc FFF7FEFF 		bl	printf
 1583              	.LVL150:
 1584 00c0 F9E7     		b	.L56
 1585              	.LVL151:
 1586              	.L57:
 1587              	.LBB9:
 317:Core/Src/main.c ****     }
 1588              		.loc 1 317 9 discriminator 3 view .LVU362
 317:Core/Src/main.c ****     }
 1589              		.loc 1 317 28 is_stmt 0 discriminator 3 view .LVU363
 1590 00c2 2046     		mov	r0, r4
 1591 00c4 FFF7FEFF 		bl	__aeabi_i2d
 1592              	.LVL152:
 1593 00c8 0022     		movs	r2, #0
 1594 00ca 334B     		ldr	r3, .L60+56
 1595 00cc FFF7FEFF 		bl	__aeabi_dmul
 1596              	.LVL153:
 1597 00d0 23A3     		adr	r3, .L60
 1598 00d2 D3E90023 		ldrd	r2, [r3]
 1599 00d6 FFF7FEFF 		bl	__aeabi_ddiv
 1600              	.LVL154:
 1601 00da 23A3     		adr	r3, .L60+8
 1602 00dc D3E90023 		ldrd	r2, [r3]
 1603 00e0 FFF7FEFF 		bl	__aeabi_dmul
 1604              	.LVL155:
 317:Core/Src/main.c ****     }
 1605              		.loc 1 317 24 discriminator 3 view .LVU364
 1606 00e4 0022     		movs	r2, #0
 1607 00e6 2D4B     		ldr	r3, .L60+60
 1608 00e8 FFF7FEFF 		bl	__aeabi_ddiv
 1609              	.LVL156:
 1610 00ec 41EC100B 		vmov	d0, r0, r1
 1611 00f0 FFF7FEFF 		bl	cos
 1612              	.LVL157:
 1613 00f4 51EC100B 		vmov	r0, r1, d0
 1614 00f8 FFF7FEFF 		bl	__aeabi_d2f
 1615              	.LVL158:
 317:Core/Src/main.c ****     }
 1616              		.loc 1 317 22 discriminator 3 view .LVU365
 1617 00fc 284B     		ldr	r3, .L60+64
 1618 00fe 03EB8403 		add	r3, r3, r4, lsl #2
 1619 0102 1860     		str	r0, [r3]	@ float
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 43


 316:Core/Src/main.c ****         cos_table[i] = cos(radians(i * 360.0 / 1170.0));
 1620              		.loc 1 316 32 is_stmt 1 discriminator 3 view .LVU366
 1621 0104 0134     		adds	r4, r4, #1
 1622              	.LVL159:
 1623              	.L55:
 316:Core/Src/main.c ****         cos_table[i] = cos(radians(i * 360.0 / 1170.0));
 1624              		.loc 1 316 23 discriminator 1 view .LVU367
 1625 0106 40F29143 		movw	r3, #1169
 1626 010a 9C42     		cmp	r4, r3
 1627 010c D9DD     		ble	.L57
 1628              	.LBE9:
 320:Core/Src/main.c ****     dma_printf_puts("Calibration Start\r\n");
 1629              		.loc 1 320 5 view .LVU368
 1630 010e 2548     		ldr	r0, .L60+68
 1631 0110 FFF7FEFF 		bl	dma_printf_puts
 1632              	.LVL160:
 321:Core/Src/main.c ****     setPhase(0, 50);
 1633              		.loc 1 321 5 view .LVU369
 1634 0114 2448     		ldr	r0, .L60+72
 1635 0116 FFF7FEFF 		bl	dma_printf_puts
 1636              	.LVL161:
 322:Core/Src/main.c ****     HAL_Delay(500);
 1637              		.loc 1 322 5 view .LVU370
 1638 011a 3221     		movs	r1, #50
 1639 011c 0020     		movs	r0, #0
 1640 011e FFF7FEFF 		bl	setPhase
 1641              	.LVL162:
 323:Core/Src/main.c **** 
 1642              		.loc 1 323 5 view .LVU371
 1643 0122 4FF4FA70 		mov	r0, #500
 1644 0126 FFF7FEFF 		bl	HAL_Delay
 1645              	.LVL163:
 325:Core/Src/main.c ****     offset = getRotation();
 1646              		.loc 1 325 5 view .LVU372
 325:Core/Src/main.c ****     offset = getRotation();
 1647              		.loc 1 325 14 is_stmt 0 view .LVU373
 1648 012a FFF7FEFF 		bl	getRotation
 1649              	.LVL164:
 325:Core/Src/main.c ****     offset = getRotation();
 1650              		.loc 1 325 12 view .LVU374
 1651 012e 1F4C     		ldr	r4, .L60+76
 1652              	.LVL165:
 325:Core/Src/main.c ****     offset = getRotation();
 1653              		.loc 1 325 12 view .LVU375
 1654 0130 2060     		str	r0, [r4]
 326:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 1655              		.loc 1 326 5 is_stmt 1 view .LVU376
 326:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 1656              		.loc 1 326 14 is_stmt 0 view .LVU377
 1657 0132 FFF7FEFF 		bl	getRotation
 1658              	.LVL166:
 326:Core/Src/main.c ****     dma_printf_puts("Offset: ");
 1659              		.loc 1 326 12 view .LVU378
 1660 0136 2060     		str	r0, [r4]
 327:Core/Src/main.c ****     dma_printf_puts(uint2char(offset));
 1661              		.loc 1 327 5 is_stmt 1 view .LVU379
 1662 0138 1D48     		ldr	r0, .L60+80
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 44


 1663 013a FFF7FEFF 		bl	dma_printf_puts
 1664              	.LVL167:
 328:Core/Src/main.c ****     dma_printf_puts("\r\n");
 1665              		.loc 1 328 5 view .LVU380
 328:Core/Src/main.c ****     dma_printf_puts("\r\n");
 1666              		.loc 1 328 21 is_stmt 0 view .LVU381
 1667 013e 2088     		ldrh	r0, [r4]
 1668 0140 FFF7FEFF 		bl	uint2char
 1669              	.LVL168:
 328:Core/Src/main.c ****     dma_printf_puts("\r\n");
 1670              		.loc 1 328 5 view .LVU382
 1671 0144 FFF7FEFF 		bl	dma_printf_puts
 1672              	.LVL169:
 329:Core/Src/main.c ****     dma_printf_puts("Calibration End\r\n");
 1673              		.loc 1 329 5 is_stmt 1 view .LVU383
 1674 0148 1A48     		ldr	r0, .L60+84
 1675 014a FFF7FEFF 		bl	dma_printf_puts
 1676              	.LVL170:
 330:Core/Src/main.c **** 
 1677              		.loc 1 330 5 view .LVU384
 1678 014e 1A48     		ldr	r0, .L60+88
 1679 0150 FFF7FEFF 		bl	dma_printf_puts
 1680              	.LVL171:
 332:Core/Src/main.c **** 
 1681              		.loc 1 332 5 view .LVU385
 1682 0154 1948     		ldr	r0, .L60+92
 1683 0156 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1684              	.LVL172:
 1685              	.L58:
 334:Core/Src/main.c ****         /* USER CODE END WHILE */
 1686              		.loc 1 334 5 discriminator 1 view .LVU386
 345:Core/Src/main.c ****     /* USER CODE END 3 */
 1687              		.loc 1 345 5 discriminator 1 view .LVU387
 334:Core/Src/main.c ****         /* USER CODE END WHILE */
 1688              		.loc 1 334 11 discriminator 1 view .LVU388
 1689 015a FEE7     		b	.L58
 1690              	.L61:
 1691 015c AFF30080 		.align	3
 1692              	.L60:
 1693 0160 00000000 		.word	0
 1694 0164 00489240 		.word	1083328512
 1695 0168 182D4454 		.word	1413754136
 1696 016c FB210940 		.word	1074340347
 1697 0170 00000000 		.word	_impure_ptr
 1698 0174 00000000 		.word	huart1
 1699 0178 00000000 		.word	htim1
 1700 017c 00000000 		.word	htim16
 1701 0180 00000000 		.word	htim3
 1702 0184 00040048 		.word	1207960576
 1703 0188 00000000 		.word	hadc1
 1704 018c 00000000 		.word	adcBuffer
 1705 0190 00000000 		.word	.LC0
 1706 0194 1C000000 		.word	.LC1
 1707 0198 00807640 		.word	1081507840
 1708 019c 00806640 		.word	1080459264
 1709 01a0 00000000 		.word	cos_table
 1710 01a4 30000000 		.word	.LC2
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 45


 1711 01a8 40000000 		.word	.LC3
 1712 01ac 00000000 		.word	offset
 1713 01b0 54000000 		.word	.LC4
 1714 01b4 60000000 		.word	.LC5
 1715 01b8 64000000 		.word	.LC6
 1716 01bc 00000000 		.word	htim2
 1717              		.cfi_endproc
 1718              	.LFE134:
 1720              		.section	.bss.str.0,"aw",%nobits
 1721              		.align	2
 1724              	str.0:
 1725 0000 00000000 		.space	5
 1725      00
 1726              		.global	pre_scaler
 1727              		.section	.rodata.pre_scaler,"a"
 1730              	pre_scaler:
 1731 0000 07       		.byte	7
 1732              		.global	err_q
 1733              		.section	.bss.err_q,"aw",%nobits
 1734              		.align	2
 1737              	err_q:
 1738 0000 00000000 		.space	4
 1739              		.global	err_d
 1740              		.section	.bss.err_d,"aw",%nobits
 1741              		.align	2
 1744              	err_d:
 1745 0000 00000000 		.space	4
 1746              		.global	ref_q
 1747              		.section	.data.ref_q,"aw"
 1748              		.align	2
 1751              	ref_q:
 1752 0000 CDCCCCBE 		.word	-1093874483
 1753              		.global	velocity
 1754              		.section	.bss.velocity,"aw",%nobits
 1755              		.align	1
 1758              	velocity:
 1759 0000 0000     		.space	2
 1760              		.global	sense
 1761              		.section	.bss.sense,"aw",%nobits
 1762              		.align	2
 1765              	sense:
 1766 0000 00000000 		.space	12
 1766      00000000 
 1766      00000000 
 1767              		.global	adcOffset
 1768              		.section	.bss.adcOffset,"aw",%nobits
 1769              		.align	2
 1772              	adcOffset:
 1773 0000 00000000 		.space	6
 1773      0000
 1774              		.global	adcBuffer
 1775              		.section	.bss.adcBuffer,"aw",%nobits
 1776              		.align	2
 1779              	adcBuffer:
 1780 0000 00000000 		.space	6
 1780      0000
 1781              		.global	cos_table
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 46


 1782              		.section	.bss.cos_table,"aw",%nobits
 1783              		.align	2
 1786              	cos_table:
 1787 0000 00000000 		.space	4680
 1787      00000000 
 1787      00000000 
 1787      00000000 
 1787      00000000 
 1788              		.global	offset
 1789              		.section	.bss.offset,"aw",%nobits
 1790              		.align	2
 1793              	offset:
 1794 0000 00000000 		.space	4
 1795              		.text
 1796              	.Letext0:
 1797              		.file 3 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/machine/_default_ty
 1798              		.file 4 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_stdint.h"
 1799              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f303x8.h"
 1800              		.file 6 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f3xx.h"
 1801              		.file 7 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 1802              		.file 8 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc.h"
 1803              		.file 9 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc_ex.h"
 1804              		.file 10 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_gpio.h"
 1805              		.file 11 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 1806              		.file 12 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_adc_ex.h"
 1807              		.file 13 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_adc.h"
 1808              		.file 14 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_spi.h"
 1809              		.file 15 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_tim.h"
 1810              		.file 16 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_uart.h"
 1811              		.file 17 "Core/Inc/adc.h"
 1812              		.file 18 "Core/Inc/spi.h"
 1813              		.file 19 "Core/Inc/tim.h"
 1814              		.file 20 "Core/Inc/usart.h"
 1815              		.file 21 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/lib/gcc/arm-none-eabi/12.3.1/include/std
 1816              		.file 22 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_types.h"
 1817              		.file 23 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/reent.h"
 1818              		.file 24 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/lock.h"
 1819              		.file 25 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/stdio.h"
 1820              		.file 26 "Core/Inc/dma_printf.h"
 1821              		.file 27 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal.h"
 1822              		.file 28 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_tim_ex.h"
 1823              		.file 29 "Core/Inc/dma.h"
 1824              		.file 30 "Core/Inc/gpio.h"
 1825              		.file 31 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/math.h"
 1826              		.file 32 "<built-in>"
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 47


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:21     .text.spiCalcEvenParity:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:27     .text.spiCalcEvenParity:00000000 spiCalcEvenParity
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:93     .text.AS5048A_read:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:99     .text.AS5048A_read:00000000 AS5048A_read
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:188    .text.AS5048A_read:0000007c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:193    .text.getRotation:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:199    .text.getRotation:00000000 getRotation
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:225    .text.electrical_angle:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:231    .text.electrical_angle:00000000 electrical_angle
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:258    .text.electrical_angle:00000018 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:263    .text.setPhase:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:269    .text.setPhase:00000000 setPhase
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:377    .text.setPhase:000000b4 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1786   .bss.cos_table:00000000 cos_table
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:386    .text.setVoltage:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:392    .text.setVoltage:00000000 setVoltage
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:499    .text.setVoltage:0000008c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:507    .text.uint2char:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:513    .text.uint2char:00000000 uint2char
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:578    .text.uint2char:0000005c $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1724   .bss.str.0:00000000 str.0
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:592    .text.senseOut:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:598    .text.senseOut:00000000 senseOut
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:895    .text.senseOut:000001e0 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1765   .bss.sense:00000000 sense
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1779   .bss.adcBuffer:00000000 adcBuffer
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:917    .text.HAL_UART_TxCpltCallback:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:923    .text.HAL_UART_TxCpltCallback:00000000 HAL_UART_TxCpltCallback
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:945    .text.__io_putchar:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:951    .text.__io_putchar:00000000 __io_putchar
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:980    .text.__io_getchar:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:986    .text.__io_getchar:00000000 __io_getchar
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1009   .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1015   .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1218   .text.HAL_TIM_PeriodElapsedCallback:00000118 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1793   .bss.offset:00000000 offset
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1234   .text.Error_Handler:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1240   .text.Error_Handler:00000000 Error_Handler
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1272   .text.SystemClock_Config:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1278   .text.SystemClock_Config:00000000 SystemClock_Config
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1410   .rodata.main.str1.4:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1432   .text.main:00000000 $t
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1438   .text.main:00000000 main
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1693   .text.main:00000160 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1721   .bss.str.0:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1730   .rodata.pre_scaler:00000000 pre_scaler
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1737   .bss.err_q:00000000 err_q
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1734   .bss.err_q:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1744   .bss.err_d:00000000 err_d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1741   .bss.err_d:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1751   .data.ref_q:00000000 ref_q
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1748   .data.ref_q:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1758   .bss.velocity:00000000 velocity
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1755   .bss.velocity:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1762   .bss.sense:00000000 $d
ARM GAS  /var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s 			page 48


/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1772   .bss.adcOffset:00000000 adcOffset
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1769   .bss.adcOffset:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1776   .bss.adcBuffer:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1783   .bss.cos_table:00000000 $d
/var/folders/l2/71_2bdwd5hl5fnnvwg2sr4v80000gn/T//ccZL4uLg.s:1790   .bss.offset:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_SPI_Receive
hspi1
htim1
htim16
htim3
__aeabi_i2d
__aeabi_dmul
__aeabi_dsub
__aeabi_d2f
__aeabi_dadd
__aeabi_f2d
dma_printf_send_it
dma_printf_putc
dma_scanf_getc_blocking
__aeabi_ui2d
__aeabi_ddiv
HAL_GetTick
htim2
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_Init
MX_GPIO_Init
MX_DMA_Init
MX_TIM1_Init
MX_TIM16_Init
MX_TIM2_Init
MX_TIM3_Init
MX_SPI1_Init
MX_USART1_UART_Init
MX_ADC1_Init
setbuf
dma_printf_init
dma_scanf_init
HAL_TIM_PWM_Start
HAL_TIMEx_PWMN_Start
HAL_ADCEx_Calibration_Start
HAL_ADC_Start_DMA
printf
cos
dma_printf_puts
HAL_Delay
HAL_TIM_Base_Start_IT
_impure_ptr
huart1
hadc1
